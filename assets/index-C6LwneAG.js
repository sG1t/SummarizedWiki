(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var ih={exports:{}},Da={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function ew(){if(Y_)return Da;Y_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:n,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Da.Fragment=e,Da.jsx=i,Da.jsxs=i,Da}var K_;function tw(){return K_||(K_=1,ih.exports=ew()),ih.exports}var O=tw(),sh={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function nw(){if(W_)return oe;W_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function I(T,H,J){this.props=T,this.context=H,this.refs=D,this.updater=J||R}I.prototype.isReactComponent={},I.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},I.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=I.prototype;function q(T,H,J){this.props=T,this.context=H,this.refs=D,this.updater=J||R}var j=q.prototype=new P;j.constructor=q,S(j,I.prototype),j.isPureReactComponent=!0;var ie=Array.isArray,K={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function we(T,H,J,$,Y,ye){return J=ye.ref,{$$typeof:n,type:T,key:H,ref:J!==void 0?J:null,props:ye}}function Pe(T,H){return we(T.type,H,void 0,void 0,void 0,T.props)}function G(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function re(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return H[J]})}var mt=/\/+/g;function Sn(T,H){return typeof T=="object"&&T!==null&&T.key!=null?re(""+T.key):H.toString(36)}function un(){}function Tn(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(un,un):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Et(T,H,J,$,Y){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(ye){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case n:case e:ue=!0;break;case _:return ue=T._init,Et(ue(T._payload),H,J,$,Y)}}if(ue)return Y=Y(T),ue=$===""?"."+Sn(T,0):$,ie(Y)?(J="",ue!=null&&(J=ue.replace(mt,"$&/")+"/"),Et(Y,H,J,"",function(Ye){return Ye})):Y!=null&&(G(Y)&&(Y=Pe(Y,J+(Y.key==null||T&&T.key===Y.key?"":(""+Y.key).replace(mt,"$&/")+"/")+ue)),H.push(Y)),1;ue=0;var gt=$===""?".":$+":";if(ie(T))for(var Te=0;Te<T.length;Te++)$=T[Te],ye=gt+Sn($,Te),ue+=Et($,H,J,ye,Y);else if(Te=E(T),typeof Te=="function")for(T=Te.call(T),Te=0;!($=T.next()).done;)$=$.value,ye=gt+Sn($,Te++),ue+=Et($,H,J,ye,Y);else if(ye==="object"){if(typeof T.then=="function")return Et(Tn(T),H,J,$,Y);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ue}function V(T,H,J){if(T==null)return T;var $=[],Y=0;return Et(T,$,"","",function(ye){return H.call(J,ye,Y++)}),$}function ae(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function xe(){}return oe.Children={map:V,forEach:function(T,H,J){V(T,function(){H.apply(this,arguments)},J)},count:function(T){var H=0;return V(T,function(){H++}),H},toArray:function(T){return V(T,function(H){return H})||[]},only:function(T){if(!G(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},oe.Component=I,oe.Fragment=i,oe.Profiler=l,oe.PureComponent=q,oe.StrictMode=r,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},oe.cache=function(T){return function(){return T.apply(null,arguments)}},oe.cloneElement=function(T,H,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var $=S({},T.props),Y=T.key,ye=void 0;if(H!=null)for(ue in H.ref!==void 0&&(ye=void 0),H.key!==void 0&&(Y=""+H.key),H)!_e.call(H,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&H.ref===void 0||($[ue]=H[ue]);var ue=arguments.length-2;if(ue===1)$.children=J;else if(1<ue){for(var gt=Array(ue),Te=0;Te<ue;Te++)gt[Te]=arguments[Te+2];$.children=gt}return we(T.type,Y,void 0,void 0,ye,$)},oe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},oe.createElement=function(T,H,J){var $,Y={},ye=null;if(H!=null)for($ in H.key!==void 0&&(ye=""+H.key),H)_e.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(Y[$]=H[$]);var ue=arguments.length-2;if(ue===1)Y.children=J;else if(1<ue){for(var gt=Array(ue),Te=0;Te<ue;Te++)gt[Te]=arguments[Te+2];Y.children=gt}if(T&&T.defaultProps)for($ in ue=T.defaultProps,ue)Y[$]===void 0&&(Y[$]=ue[$]);return we(T,ye,void 0,void 0,null,Y)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(T){return{$$typeof:d,render:T}},oe.isValidElement=G,oe.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:ae}},oe.memo=function(T,H){return{$$typeof:m,type:T,compare:H===void 0?null:H}},oe.startTransition=function(T){var H=K.T,J={};K.T=J;try{var $=T(),Y=K.S;Y!==null&&Y(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xe,te)}catch(ye){te(ye)}finally{K.T=H}},oe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},oe.use=function(T){return K.H.use(T)},oe.useActionState=function(T,H,J){return K.H.useActionState(T,H,J)},oe.useCallback=function(T,H){return K.H.useCallback(T,H)},oe.useContext=function(T){return K.H.useContext(T)},oe.useDebugValue=function(){},oe.useDeferredValue=function(T,H){return K.H.useDeferredValue(T,H)},oe.useEffect=function(T,H){return K.H.useEffect(T,H)},oe.useId=function(){return K.H.useId()},oe.useImperativeHandle=function(T,H,J){return K.H.useImperativeHandle(T,H,J)},oe.useInsertionEffect=function(T,H){return K.H.useInsertionEffect(T,H)},oe.useLayoutEffect=function(T,H){return K.H.useLayoutEffect(T,H)},oe.useMemo=function(T,H){return K.H.useMemo(T,H)},oe.useOptimistic=function(T,H){return K.H.useOptimistic(T,H)},oe.useReducer=function(T,H,J){return K.H.useReducer(T,H,J)},oe.useRef=function(T){return K.H.useRef(T)},oe.useState=function(T){return K.H.useState(T)},oe.useSyncExternalStore=function(T,H,J){return K.H.useSyncExternalStore(T,H,J)},oe.useTransition=function(){return K.H.useTransition()},oe.version="19.0.0",oe}var Q_;function rd(){return Q_||(Q_=1,sh.exports=nw()),sh.exports}var M=rd(),rh={exports:{}},Ia={},ah={exports:{}},lh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function iw(){return X_||(X_=1,function(n){function e(V,ae){var te=V.length;V.push(ae);e:for(;0<te;){var xe=te-1>>>1,T=V[xe];if(0<l(T,ae))V[xe]=ae,V[te]=T,te=xe;else break e}}function i(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],te=V.pop();if(te!==ae){V[0]=te;e:for(var xe=0,T=V.length,H=T>>>1;xe<H;){var J=2*(xe+1)-1,$=V[J],Y=J+1,ye=V[Y];if(0>l($,te))Y<T&&0>l(ye,$)?(V[xe]=ye,V[Y]=te,xe=Y):(V[xe]=$,V[J]=te,xe=J);else if(Y<T&&0>l(ye,te))V[xe]=ye,V[Y]=te,xe=Y;else break e}}return ae}function l(V,ae){var te=V.sortIndex-ae.sortIndex;return te!==0?te:V.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();n.unstable_now=function(){return f.now()-d}}var p=[],m=[],_=1,y=null,E=3,R=!1,S=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function j(V){for(var ae=i(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=V)r(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=i(m)}}function ie(V){if(D=!1,j(V),!S)if(i(p)!==null)S=!0,Tn();else{var ae=i(m);ae!==null&&Et(ie,ae.startTime-V)}}var K=!1,_e=-1,we=5,Pe=-1;function G(){return!(n.unstable_now()-Pe<we)}function re(){if(K){var V=n.unstable_now();Pe=V;var ae=!0;try{e:{S=!1,D&&(D=!1,P(_e),_e=-1),R=!0;var te=E;try{t:{for(j(V),y=i(p);y!==null&&!(y.expirationTime>V&&G());){var xe=y.callback;if(typeof xe=="function"){y.callback=null,E=y.priorityLevel;var T=xe(y.expirationTime<=V);if(V=n.unstable_now(),typeof T=="function"){y.callback=T,j(V),ae=!0;break t}y===i(p)&&r(p),j(V)}else r(p);y=i(p)}if(y!==null)ae=!0;else{var H=i(m);H!==null&&Et(ie,H.startTime-V),ae=!1}}break e}finally{y=null,E=te,R=!1}ae=void 0}}finally{ae?mt():K=!1}}}var mt;if(typeof q=="function")mt=function(){q(re)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,un=Sn.port2;Sn.port1.onmessage=re,mt=function(){un.postMessage(null)}}else mt=function(){I(re,0)};function Tn(){K||(K=!0,mt())}function Et(V,ae){_e=I(function(){V(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){S||R||(S=!0,Tn())},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(V){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var te=E;E=ae;try{return V()}finally{E=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=E;E=V;try{return ae()}finally{E=te}},n.unstable_scheduleCallback=function(V,ae,te){var xe=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?xe+te:xe):te=xe,V){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,V={id:_++,callback:ae,priorityLevel:V,startTime:te,expirationTime:T,sortIndex:-1},te>xe?(V.sortIndex=te,e(m,V),i(p)===null&&V===i(m)&&(D?(P(_e),_e=-1):D=!0,Et(ie,te-xe))):(V.sortIndex=T,e(p,V),S||R||(S=!0,Tn())),V},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(V){var ae=E;return function(){var te=E;E=ae;try{return V.apply(this,arguments)}finally{E=te}}}}(lh)),lh}var $_;function sw(){return $_||($_=1,ah.exports=iw()),ah.exports}var oh={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function rw(){if(Z_)return ht;Z_=1;var n=rd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},ht.flushSync=function(p){var m=f.T,_=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=m,r.p=_,r.d.f()}},ht.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},ht.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ht.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:R}):_==="script"&&r.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ht.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},ht.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ht.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},ht.requestFormReset=function(p){r.d.r(p)},ht.unstable_batchedUpdates=function(p,m){return p(m)},ht.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.0.0",ht}var J_;function aw(){if(J_)return oh.exports;J_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),oh.exports=rw(),oh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function lw(){if(ey)return Ia;ey=1;var n=sw(),e=rd(),i=aw();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var we=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===we?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case d:return"Portal";case _:return"Profiler";case m:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case S:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return s=t.displayName||null,s!==null?s:Pe(t.type)||"Memo";case q:s=t._payload,t=t._init;try{return Pe(t(s))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=Object.assign,mt,Sn;function un(t){if(mt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);mt=s&&s[1]||"",Sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+Sn}var Tn=!1;function Et(t,s){if(!t||Tn)return"";Tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(L){var x=L}Reflect.construct(t,[],B)}else{try{B.call()}catch(L){x=L}t.call(B.prototype)}}else{try{throw Error()}catch(L){x=L}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(L){if(L&&x&&typeof L.stack=="string")return[L.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var b=g.split(`
`),C=v.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===C.length)for(o=b.length-1,c=C.length-1;1<=o&&0<=c&&b[o]!==C[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==C[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==C[c]){var U=`
`+b[o].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=o&&0<=c);break}}}finally{Tn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?un(a):""}function V(t){switch(t.tag){case 26:case 27:case 5:return un(t.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return t=Et(t.type,!1),t;case 11:return t=Et(t.type.render,!1),t;case 1:return t=Et(t.type,!0),t;default:return""}}function ae(t){try{var s="";do s+=V(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function te(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function xe(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function T(t){if(te(t)!==t)throw Error(r(188))}function H(t){var s=t.alternate;if(!s){if(s=te(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return T(c),t;if(h===o)return T(c),s;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=h;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=h;break}if(v===o){g=!0,o=c,a=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===a){g=!0,a=h,o=c;break}if(v===o){g=!0,o=h,a=c;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function J(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=J(t),s!==null)return s;t=t.sibling}return null}var $=Array.isArray,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ue=[],gt=-1;function Te(t){return{current:t}}function Ye(t){0>gt||(t.current=ue[gt],ue[gt]=null,gt--)}function Ue(t,s){gt++,ue[gt]=t.current,t.current=s}var cn=Te(null),kr=Te(null),ii=Te(null),Tl=Te(null);function wl(t,s){switch(Ue(ii,s),Ue(kr,t),Ue(cn,null),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?b_(s):0;break;default:if(t=t===8?s.parentNode:s,s=t.tagName,t=t.namespaceURI)t=b_(t),s=S_(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ye(cn),Ue(cn,s)}function Rs(){Ye(cn),Ye(kr),Ye(ii)}function Ku(t){t.memoizedState!==null&&Ue(Tl,t);var s=cn.current,a=S_(s,t.type);s!==a&&(Ue(kr,t),Ue(cn,a))}function Cl(t){kr.current===t&&(Ye(cn),Ye(kr)),Tl.current===t&&(Ye(Tl),Ra._currentValue=ye)}var Wu=Object.prototype.hasOwnProperty,Qu=n.unstable_scheduleCallback,Xu=n.unstable_cancelCallback,Ib=n.unstable_shouldYield,Mb=n.unstable_requestPaint,fn=n.unstable_now,kb=n.unstable_getCurrentPriorityLevel,cp=n.unstable_ImmediatePriority,fp=n.unstable_UserBlockingPriority,Rl=n.unstable_NormalPriority,Lb=n.unstable_LowPriority,hp=n.unstable_IdlePriority,Ub=n.log,Pb=n.unstable_setDisableYieldValue,Lr=null,xt=null;function zb(t){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Lr,t,void 0,(t.current.flags&128)===128)}catch{}}function si(t){if(typeof Ub=="function"&&Pb(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Lr,t)}catch{}}var Dt=Math.clz32?Math.clz32:jb,Bb=Math.log,Hb=Math.LN2;function jb(t){return t>>>=0,t===0?32:31-(Bb(t)/Hb|0)|0}var Al=128,Nl=4194304;function ji(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,s){var a=t.pendingLanes;if(a===0)return 0;var o=0,c=t.suspendedLanes,h=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var v=a&134217727;return v!==0?(a=v&~c,a!==0?o=ji(a):(h&=v,h!==0?o=ji(h):t||(g=v&~g,g!==0&&(o=ji(g))))):(v=a&~c,v!==0?o=ji(v):h!==0?o=ji(h):t||(g=a&~g,g!==0&&(o=ji(g)))),o===0?0:s!==0&&s!==o&&(s&c)===0&&(c=o&-o,g=s&-s,c>=g||c===32&&(g&4194176)!==0)?s:o}function Ur(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function qb(t,s){switch(t){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dp(){var t=Al;return Al<<=1,(Al&4194176)===0&&(Al=128),t}function pp(){var t=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),t}function $u(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Pr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fb(t,s,a,o,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,b=t.expirationTimes,C=t.hiddenUpdates;for(a=g&~a;0<a;){var U=31-Dt(a),B=1<<U;v[U]=0,b[U]=-1;var x=C[U];if(x!==null)for(C[U]=null,U=0;U<x.length;U++){var L=x[U];L!==null&&(L.lane&=-536870913)}a&=~B}o!==0&&mp(t,o,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~s))}function mp(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Dt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function gp(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Dt(a),c=1<<o;c&s|t[o]&s&&(t[o]|=s),a&=~c}}function _p(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yp(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function Vb(t,s){var a=Y.p;try{return Y.p=t,s()}finally{Y.p=a}}var ri=Math.random().toString(36).slice(2),ct="__reactFiber$"+ri,bt="__reactProps$"+ri,As="__reactContainer$"+ri,Zu="__reactEvents$"+ri,Gb="__reactListeners$"+ri,Yb="__reactHandles$"+ri,vp="__reactResources$"+ri,zr="__reactMarker$"+ri;function Ju(t){delete t[ct],delete t[bt],delete t[Zu],delete t[Gb],delete t[Yb]}function qi(t){var s=t[ct];if(s)return s;for(var a=t.parentNode;a;){if(s=a[As]||a[ct]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[ct])return a;t=C_(t)}return s}t=a,a=t.parentNode}return null}function Ns(t){if(t=t[ct]||t[As]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Br(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Os(t){var s=t[vp];return s||(s=t[vp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Je(t){t[zr]=!0}var Ep=new Set,bp={};function Fi(t,s){xs(t,s),xs(t+"Capture",s)}function xs(t,s){for(bp[t]=s,t=0;t<s.length;t++)Ep.add(s[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},Tp={};function Wb(t){return Wu.call(Tp,t)?!0:Wu.call(Sp,t)?!1:Kb.test(t)?Tp[t]=!0:(Sp[t]=!0,!1)}function xl(t,s,a){if(Wb(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Dl(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Cn(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wp(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qb(t){var s=wp(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),o=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Il(t){t._valueTracker||(t._valueTracker=Qb(t))}function Cp(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=wp(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xb=/[\n"\\]/g;function Bt(t){return t.replace(Xb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ec(t,s,a,o,c,h,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),s!=null?g==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+zt(s)):t.value!==""+zt(s)&&(t.value=""+zt(s)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),s!=null?tc(t,g,zt(s)):a!=null?tc(t,g,zt(a)):o!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+zt(v):t.removeAttribute("name")}function Rp(t,s,a,o,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||s!=null))return;a=a!=null?""+zt(a):"",s=s!=null?""+zt(s):a,v||s===t.value||(t.value=s),t.defaultValue=s}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function tc(t,s,a){s==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ds(t,s,a,o){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function Ap(t,s,a){if(s!=null&&(s=""+zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+zt(a):""}function Np(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if($(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=zt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Is(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var $b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||$b.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function xp(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in s)o=s[c],s.hasOwnProperty(c)&&a[c]!==o&&Op(t,c,o)}else for(var h in s)s.hasOwnProperty(h)&&Op(t,h,s[h])}function nc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(t){return Jb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ic=null;function sc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,ks=null;function Dp(t){var s=Ns(t);if(s&&(t=s.stateNode)){var a=t[bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ec(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var c=o[bt]||null;if(!c)throw Error(r(90));ec(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Cp(o)}break e;case"textarea":Ap(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ds(t,!!a.multiple,s,!1)}}}var rc=!1;function Ip(t,s,a){if(rc)return t(s,a);rc=!0;try{var o=t(s);return o}finally{if(rc=!1,(Ms!==null||ks!==null)&&(yo(),Ms&&(s=Ms,t=ks,ks=Ms=null,Dp(s),t)))for(s=0;s<t.length;s++)Dp(t[s])}}function Hr(t,s){var a=t.stateNode;if(a===null)return null;var o=a[bt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ac=!1;if(wn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){ac=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{ac=!1}var ai=null,lc=null,Ll=null;function Mp(){if(Ll)return Ll;var t,s=lc,a=s.length,o,c="value"in ai?ai.value:ai.textContent,h=c.length;for(t=0;t<a&&s[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&s[a-o]===c[h-o];o++);return Ll=c.slice(t,1<o?1-o:void 0)}function Ul(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function kp(){return!1}function St(t){function s(a,o,c,h,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Pl:kp,this.isPropagationStopped=kp,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),s}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=St(Vi),qr=re({},Vi,{view:0,detail:0}),eS=St(qr),oc,uc,Fr,Bl=re({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(oc=t.screenX-Fr.screenX,uc=t.screenY-Fr.screenY):uc=oc=0,Fr=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:uc}}),Lp=St(Bl),tS=re({},Bl,{dataTransfer:0}),nS=St(tS),iS=re({},qr,{relatedTarget:0}),cc=St(iS),sS=re({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),rS=St(sS),aS=re({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=St(aS),oS=re({},Vi,{data:0}),Up=St(oS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=fS[t])?!!s[t]:!1}function fc(){return hS}var dS=re({},qr,{key:function(t){if(t.key){var s=uS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pS=St(dS),mS=re({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=St(mS),gS=re({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),_S=St(gS),yS=re({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=St(yS),ES=re({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=St(ES),SS=re({},Vi,{newState:0,oldState:0}),TS=St(SS),wS=[9,13,27,32],hc=wn&&"CompositionEvent"in window,Vr=null;wn&&"documentMode"in document&&(Vr=document.documentMode);var CS=wn&&"TextEvent"in window&&!Vr,zp=wn&&(!hc||Vr&&8<Vr&&11>=Vr),Bp=" ",Hp=!1;function jp(t,s){switch(t){case"keyup":return wS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function RS(t,s){switch(t){case"compositionend":return qp(s);case"keypress":return s.which!==32?null:(Hp=!0,Bp);case"textInput":return t=s.data,t===Bp&&Hp?null:t;default:return null}}function AS(t,s){if(Ls)return t==="compositionend"||!hc&&jp(t,s)?(t=Mp(),Ll=lc=ai=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zp&&s.locale!=="ko"?null:s.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!NS[t.type]:s==="textarea"}function Vp(t,s,a,o){Ms?ks?ks.push(o):ks=[o]:Ms=o,s=To(s,"onChange"),0<s.length&&(a=new zl("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Gr=null,Yr=null;function OS(t){g_(t,0)}function Hl(t){var s=Br(t);if(Cp(s))return t}function Gp(t,s){if(t==="change")return s}var Yp=!1;if(wn){var dc;if(wn){var pc="oninput"in document;if(!pc){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),pc=typeof Kp.oninput=="function"}dc=pc}else dc=!1;Yp=dc&&(!document.documentMode||9<document.documentMode)}function Wp(){Gr&&(Gr.detachEvent("onpropertychange",Qp),Yr=Gr=null)}function Qp(t){if(t.propertyName==="value"&&Hl(Yr)){var s=[];Vp(s,Yr,t,sc(t)),Ip(OS,s)}}function xS(t,s,a){t==="focusin"?(Wp(),Gr=s,Yr=a,Gr.attachEvent("onpropertychange",Qp)):t==="focusout"&&Wp()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hl(Yr)}function IS(t,s){if(t==="click")return Hl(s)}function MS(t,s){if(t==="input"||t==="change")return Hl(s)}function kS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var It=typeof Object.is=="function"?Object.is:kS;function Kr(t,s){if(It(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Wu.call(s,c)||!It(t[c],s[c]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,s){var a=Xp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Zp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Zp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ml(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ml(t.document)}return s}function mc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function LS(t,s){var a=Jp(s);s=t.focusedElem;var o=t.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zp(s.ownerDocument.documentElement,s)){if(o!==null&&mc(s)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(a,s.value.length);else if(a=(t=s.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=s.textContent.length,h=Math.min(o.start,c);o=o.end===void 0?h:Math.min(o.end,c),!a.extend&&h>o&&(c=o,o=h,h=c),c=$p(s,h);var g=$p(s,o);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),h>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=s;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)a=t[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var US=wn&&"documentMode"in document&&11>=document.documentMode,Us=null,gc=null,Wr=null,_c=!1;function em(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_c||Us==null||Us!==Ml(o)||(o=Us,"selectionStart"in o&&mc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wr&&Kr(Wr,o)||(Wr=o,o=To(gc,"onSelect"),0<o.length&&(s=new zl("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Us)))}function Gi(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ps={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},yc={},tm={};wn&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Yi(t){if(yc[t])return yc[t];if(!Ps[t])return t;var s=Ps[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in tm)return yc[t]=s[a];return t}var nm=Yi("animationend"),im=Yi("animationiteration"),sm=Yi("animationstart"),PS=Yi("transitionrun"),zS=Yi("transitionstart"),BS=Yi("transitioncancel"),rm=Yi("transitionend"),am=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $t(t,s){am.set(t,s),Fi(s,[t])}var Ht=[],zs=0,vc=0;function jl(){for(var t=zs,s=vc=zs=0;s<t;){var a=Ht[s];Ht[s++]=null;var o=Ht[s];Ht[s++]=null;var c=Ht[s];Ht[s++]=null;var h=Ht[s];if(Ht[s++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}h!==0&&om(a,c,h)}}function ql(t,s,a,o){Ht[zs++]=t,Ht[zs++]=s,Ht[zs++]=a,Ht[zs++]=o,vc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ec(t,s,a,o){return ql(t,s,a,o),Fl(t)}function li(t,s){return ql(t,null,null,s),Fl(t)}function om(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&s!==null&&t.tag===3&&(h=t.stateNode,c=31-Dt(a),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[s]:t.push(s),s.lane=a|536870912)}function Fl(t){if(50<va)throw va=0,Af=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Bs={},um=new WeakMap;function jt(t,s){if(typeof t=="object"&&t!==null){var a=um.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ae(s)},um.set(t,s),s)}return{value:t,source:s,stack:ae(s)}}var Hs=[],js=0,Vl=null,Gl=0,qt=[],Ft=0,Ki=null,Rn=1,An="";function Wi(t,s){Hs[js++]=Gl,Hs[js++]=Vl,Vl=t,Gl=s}function cm(t,s,a){qt[Ft++]=Rn,qt[Ft++]=An,qt[Ft++]=Ki,Ki=t;var o=Rn;t=An;var c=32-Dt(o)-1;o&=~(1<<c),a+=1;var h=32-Dt(s)+c;if(30<h){var g=c-c%5;h=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Rn=1<<32-Dt(s)+c|a<<c|o,An=h+t}else Rn=1<<h|a<<c|o,An=t}function bc(t){t.return!==null&&(Wi(t,1),cm(t,1,0))}function Sc(t){for(;t===Vl;)Vl=Hs[--js],Hs[js]=null,Gl=Hs[--js],Hs[js]=null;for(;t===Ki;)Ki=qt[--Ft],qt[Ft]=null,An=qt[--Ft],qt[Ft]=null,Rn=qt[--Ft],qt[Ft]=null}var _t=null,at=null,Ee=!1,Zt=null,hn=!1,Tc=Error(r(519));function Qi(t){var s=Error(r(418,""));throw $r(jt(s,t)),Tc}function fm(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[ct]=t,s[bt]=o,a){case"dialog":ge("cancel",s),ge("close",s);break;case"iframe":case"object":case"embed":ge("load",s);break;case"video":case"audio":for(a=0;a<ba.length;a++)ge(ba[a],s);break;case"source":ge("error",s);break;case"img":case"image":case"link":ge("error",s),ge("load",s);break;case"details":ge("toggle",s);break;case"input":ge("invalid",s),Rp(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Il(s);break;case"select":ge("invalid",s);break;case"textarea":ge("invalid",s),Np(s,o.value,o.defaultValue,o.children),Il(s)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||E_(s.textContent,a)?(o.popover!=null&&(ge("beforetoggle",s),ge("toggle",s)),o.onScroll!=null&&ge("scroll",s),o.onScrollEnd!=null&&ge("scrollend",s),o.onClick!=null&&(s.onclick=wo),s=!0):s=!1,s||Qi(t)}function hm(t){for(_t=t.return;_t;)switch(_t.tag){case 3:case 27:hn=!0;return;case 5:case 13:hn=!1;return;default:_t=_t.return}}function Qr(t){if(t!==_t)return!1;if(!Ee)return hm(t),Ee=!0,!1;var s=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vf(t.type,t.memoizedProps)),a=!a),a&&(s=!0),s&&at&&Qi(t),hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){at=en(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}at=null}}else at=_t?en(t.stateNode.nextSibling):null;return!0}function Xr(){at=_t=null,Ee=!1}function $r(t){Zt===null?Zt=[t]:Zt.push(t)}var Zr=Error(r(460)),dm=Error(r(474)),wc={then:function(){}};function pm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yl(){}function mm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Yl,Yl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Zr?Error(r(483)):t;default:if(typeof s.status=="string")s.then(Yl,Yl);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=o}},function(o){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Zr?Error(r(483)):t}throw Jr=s,Zr}}var Jr=null;function gm(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}var qs=null,ea=0;function Kl(t){var s=ea;return ea+=1,qs===null&&(qs=[]),mm(qs,t,s)}function ta(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Wl(t,s){throw s.$$typeof===u?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function _m(t){var s=t._init;return s(t._payload)}function ym(t){function s(A,w){if(t){var N=A.deletions;N===null?(A.deletions=[w],A.flags|=16):N.push(w)}}function a(A,w){if(!t)return null;for(;w!==null;)s(A,w),w=w.sibling;return null}function o(A){for(var w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function c(A,w){return A=vi(A,w),A.index=0,A.sibling=null,A}function h(A,w,N){return A.index=N,t?(N=A.alternate,N!==null?(N=N.index,N<w?(A.flags|=33554434,w):N):(A.flags|=33554434,w)):(A.flags|=1048576,w)}function g(A){return t&&A.alternate===null&&(A.flags|=33554434),A}function v(A,w,N,z){return w===null||w.tag!==6?(w=vf(N,A.mode,z),w.return=A,w):(w=c(w,N),w.return=A,w)}function b(A,w,N,z){var W=N.type;return W===p?U(A,w,N.props.children,z,N.key):w!==null&&(w.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===q&&_m(W)===w.type)?(w=c(w,N.props),ta(w,N),w.return=A,w):(w=ho(N.type,N.key,N.props,null,A.mode,z),ta(w,N),w.return=A,w)}function C(A,w,N,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Ef(N,A.mode,z),w.return=A,w):(w=c(w,N.children||[]),w.return=A,w)}function U(A,w,N,z,W){return w===null||w.tag!==7?(w=rs(N,A.mode,z,W),w.return=A,w):(w=c(w,N),w.return=A,w)}function B(A,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=vf(""+w,A.mode,N),w.return=A,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f:return N=ho(w.type,w.key,w.props,null,A.mode,N),ta(N,w),N.return=A,N;case d:return w=Ef(w,A.mode,N),w.return=A,w;case q:var z=w._init;return w=z(w._payload),B(A,w,N)}if($(w)||_e(w))return w=rs(w,A.mode,N,null),w.return=A,w;if(typeof w.then=="function")return B(A,Kl(w),N);if(w.$$typeof===R)return B(A,uo(A,w),N);Wl(A,w)}return null}function x(A,w,N,z){var W=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return W!==null?null:v(A,w,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return N.key===W?b(A,w,N,z):null;case d:return N.key===W?C(A,w,N,z):null;case q:return W=N._init,N=W(N._payload),x(A,w,N,z)}if($(N)||_e(N))return W!==null?null:U(A,w,N,z,null);if(typeof N.then=="function")return x(A,w,Kl(N),z);if(N.$$typeof===R)return x(A,w,uo(A,N),z);Wl(A,N)}return null}function L(A,w,N,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return A=A.get(N)||null,v(w,A,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return A=A.get(z.key===null?N:z.key)||null,b(w,A,z,W);case d:return A=A.get(z.key===null?N:z.key)||null,C(w,A,z,W);case q:var fe=z._init;return z=fe(z._payload),L(A,w,N,z,W)}if($(z)||_e(z))return A=A.get(N)||null,U(w,A,z,W,null);if(typeof z.then=="function")return L(A,w,N,Kl(z),W);if(z.$$typeof===R)return L(A,w,N,uo(w,z),W);Wl(w,z)}return null}function Q(A,w,N,z){for(var W=null,fe=null,X=w,Z=w=0,nt=null;X!==null&&Z<N.length;Z++){X.index>Z?(nt=X,X=null):nt=X.sibling;var be=x(A,X,N[Z],z);if(be===null){X===null&&(X=nt);break}t&&X&&be.alternate===null&&s(A,X),w=h(be,w,Z),fe===null?W=be:fe.sibling=be,fe=be,X=nt}if(Z===N.length)return a(A,X),Ee&&Wi(A,Z),W;if(X===null){for(;Z<N.length;Z++)X=B(A,N[Z],z),X!==null&&(w=h(X,w,Z),fe===null?W=X:fe.sibling=X,fe=X);return Ee&&Wi(A,Z),W}for(X=o(X);Z<N.length;Z++)nt=L(X,A,Z,N[Z],z),nt!==null&&(t&&nt.alternate!==null&&X.delete(nt.key===null?Z:nt.key),w=h(nt,w,Z),fe===null?W=nt:fe.sibling=nt,fe=nt);return t&&X.forEach(function(Ri){return s(A,Ri)}),Ee&&Wi(A,Z),W}function se(A,w,N,z){if(N==null)throw Error(r(151));for(var W=null,fe=null,X=w,Z=w=0,nt=null,be=N.next();X!==null&&!be.done;Z++,be=N.next()){X.index>Z?(nt=X,X=null):nt=X.sibling;var Ri=x(A,X,be.value,z);if(Ri===null){X===null&&(X=nt);break}t&&X&&Ri.alternate===null&&s(A,X),w=h(Ri,w,Z),fe===null?W=Ri:fe.sibling=Ri,fe=Ri,X=nt}if(be.done)return a(A,X),Ee&&Wi(A,Z),W;if(X===null){for(;!be.done;Z++,be=N.next())be=B(A,be.value,z),be!==null&&(w=h(be,w,Z),fe===null?W=be:fe.sibling=be,fe=be);return Ee&&Wi(A,Z),W}for(X=o(X);!be.done;Z++,be=N.next())be=L(X,A,Z,be.value,z),be!==null&&(t&&be.alternate!==null&&X.delete(be.key===null?Z:be.key),w=h(be,w,Z),fe===null?W=be:fe.sibling=be,fe=be);return t&&X.forEach(function(JT){return s(A,JT)}),Ee&&Wi(A,Z),W}function Fe(A,w,N,z){if(typeof N=="object"&&N!==null&&N.type===p&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case f:e:{for(var W=N.key;w!==null;){if(w.key===W){if(W=N.type,W===p){if(w.tag===7){a(A,w.sibling),z=c(w,N.props.children),z.return=A,A=z;break e}}else if(w.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===q&&_m(W)===w.type){a(A,w.sibling),z=c(w,N.props),ta(z,N),z.return=A,A=z;break e}a(A,w);break}else s(A,w);w=w.sibling}N.type===p?(z=rs(N.props.children,A.mode,z,N.key),z.return=A,A=z):(z=ho(N.type,N.key,N.props,null,A.mode,z),ta(z,N),z.return=A,A=z)}return g(A);case d:e:{for(W=N.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){a(A,w.sibling),z=c(w,N.children||[]),z.return=A,A=z;break e}else{a(A,w);break}else s(A,w);w=w.sibling}z=Ef(N,A.mode,z),z.return=A,A=z}return g(A);case q:return W=N._init,N=W(N._payload),Fe(A,w,N,z)}if($(N))return Q(A,w,N,z);if(_e(N)){if(W=_e(N),typeof W!="function")throw Error(r(150));return N=W.call(N),se(A,w,N,z)}if(typeof N.then=="function")return Fe(A,w,Kl(N),z);if(N.$$typeof===R)return Fe(A,w,uo(A,N),z);Wl(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(a(A,w.sibling),z=c(w,N),z.return=A,A=z):(a(A,w),z=vf(N,A.mode,z),z.return=A,A=z),g(A)):a(A,w)}return function(A,w,N,z){try{ea=0;var W=Fe(A,w,N,z);return qs=null,W}catch(X){if(X===Zr)throw X;var fe=Kt(29,X,null,A.mode);return fe.lanes=z,fe.return=A,fe}finally{}}}var Xi=ym(!0),vm=ym(!1),Fs=Te(null),Ql=Te(0);function Em(t,s){t=zn,Ue(Ql,t),Ue(Fs,s),zn=t|s.baseLanes}function Cc(){Ue(Ql,zn),Ue(Fs,Fs.current)}function Rc(){zn=Ql.current,Ye(Fs),Ye(Ql)}var Vt=Te(null),dn=null;function oi(t){var s=t.alternate;Ue(Xe,Xe.current&1),Ue(Vt,t),dn===null&&(s===null||Fs.current!==null||s.memoizedState!==null)&&(dn=t)}function bm(t){if(t.tag===22){if(Ue(Xe,Xe.current),Ue(Vt,t),dn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(dn=t)}}else ui()}function ui(){Ue(Xe,Xe.current),Ue(Vt,Vt.current)}function Nn(t){Ye(Vt),dn===t&&(dn=null),Ye(Xe)}var Xe=Te(0);function Xl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var HS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},jS=n.unstable_scheduleCallback,qS=n.unstable_NormalPriority,$e={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new HS,data:new Map,refCount:0}}function na(t){t.refCount--,t.refCount===0&&jS(qS,function(){t.controller.abort()})}var ia=null,Nc=0,Vs=0,Gs=null;function FS(t,s){if(ia===null){var a=ia=[];Nc=0,Vs=Lf(),Gs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Nc++,s.then(Sm,Sm),s}function Sm(){if(--Nc===0&&ia!==null){Gs!==null&&(Gs.status="fulfilled");var t=ia;ia=null,Vs=0,Gs=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function VS(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Tm=G.S;G.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&FS(t,s),Tm!==null&&Tm(t,s)};var $i=Te(null);function Oc(){var t=$i.current;return t!==null?t:De.pooledCache}function $l(t,s){s===null?Ue($i,$i.current):Ue($i,s.pool)}function wm(){var t=Oc();return t===null?null:{parent:$e._currentValue,pool:t}}var ci=0,ce=null,Ce=null,Ke=null,Zl=!1,Ys=!1,Zi=!1,Jl=0,sa=0,Ks=null,GS=0;function Ge(){throw Error(r(321))}function xc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!It(t[a],s[a]))return!1;return!0}function Dc(t,s,a,o,c,h){return ci=h,ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?Ji:fi,Zi=!1,h=a(o,c),Zi=!1,Ys&&(h=Rm(s,a,o,c)),Cm(t),h}function Cm(t){G.H=pn;var s=Ce!==null&&Ce.next!==null;if(ci=0,Ke=Ce=ce=null,Zl=!1,sa=0,Ks=null,s)throw Error(r(300));t===null||et||(t=t.dependencies,t!==null&&oo(t)&&(et=!0))}function Rm(t,s,a,o){ce=t;var c=0;do{if(Ys&&(Ks=null),sa=0,Ys=!1,25<=c)throw Error(r(301));if(c+=1,Ke=Ce=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=es,h=s(a,o)}while(Ys);return h}function YS(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?ra(s):s,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(ce.flags|=1024),s}function Ic(){var t=Jl!==0;return Jl=0,t}function Mc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function kc(t){if(Zl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Zl=!1}ci=0,Ke=Ce=ce=null,Ys=!1,sa=Jl=0,Ks=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function We(){if(Ce===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var s=Ke===null?ce.memoizedState:Ke.next;if(s!==null)Ke=s,Ce=t;else{if(t===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}var eo;eo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ra(t){var s=sa;return sa+=1,Ks===null&&(Ks=[]),t=mm(Ks,t,s),s=ce,(Ke===null?s.memoizedState:Ke.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Ji:fi),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ra(t);if(t.$$typeof===R)return ft(t)}throw Error(r(438,String(t)))}function Lc(t){var s=null,a=ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=eo(),ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=ie;return s.index++,a}function On(t,s){return typeof s=="function"?s(t):s}function no(t){var s=We();return Uc(s,Ce,t)}function Uc(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=t.baseQueue,h=o.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}s.baseQueue=c=h,o.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{s=c.next;var v=g=null,b=null,C=s,U=!1;do{var B=C.lane&-536870913;if(B!==C.lane?(ve&B)===B:(ci&B)===B){var x=C.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),B===Vs&&(U=!0);else if((ci&x)===x){C=C.next,x===Vs&&(U=!0);continue}else B={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(v=b=B,g=h):b=b.next=B,ce.lanes|=x,Ei|=x;B=C.action,Zi&&a(h,B),h=C.hasEagerState?C.eagerState:a(h,B)}else x={lane:B,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(v=b=x,g=h):b=b.next=x,ce.lanes|=B,Ei|=B;C=C.next}while(C!==null&&C!==s);if(b===null?g=h:b.next=v,!It(h,t.memoizedState)&&(et=!0,U&&(a=Gs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=b,o.lastRenderedState=h}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pc(t){var s=We(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,h=s.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);It(h,s.memoizedState)||(et=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,o]}function Am(t,s,a){var o=ce,c=We(),h=Ee;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=s();var g=!It((Ce||c).memoizedState,a);if(g&&(c.memoizedState=a,et=!0),c=c.queue,Hc(xm.bind(null,o,c,t),[t]),c.getSnapshot!==s||g||Ke!==null&&Ke.memoizedState.tag&1){if(o.flags|=2048,Ws(9,Om.bind(null,o,c,a,s),{destroy:void 0},null),De===null)throw Error(r(349));h||(ci&60)!==0||Nm(o,s,a)}return a}function Nm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ce.updateQueue,s===null?(s=eo(),ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Om(t,s,a,o){s.value=a,s.getSnapshot=o,Dm(s)&&Im(t)}function xm(t,s,a){return a(function(){Dm(s)&&Im(t)})}function Dm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!It(t,a)}catch{return!0}}function Im(t){var s=li(t,2);s!==null&&yt(s,t,2)}function zc(t){var s=Tt();if(typeof t=="function"){var a=t;if(t=a(),Zi){si(!0);try{a()}finally{si(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},s}function Mm(t,s,a,o){return t.baseState=a,Uc(t,Ce,typeof o=="function"?o:On)}function KS(t,s,a,o,c){if(ro(t))throw Error(r(485));if(t=s.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?a(!0):h.isTransition=!1,o(h),a=s.pending,a===null?(h.next=s.pending=h,km(s,h)):(h.next=a.next,s.pending=a.next=h)}}function km(t,s){var a=s.action,o=s.payload,c=t.state;if(s.isTransition){var h=G.T,g={};G.T=g;try{var v=a(c,o),b=G.S;b!==null&&b(g,v),Lm(t,s,v)}catch(C){Bc(t,s,C)}finally{G.T=h}}else try{h=a(c,o),Lm(t,s,h)}catch(C){Bc(t,s,C)}}function Lm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Um(t,s,o)},function(o){return Bc(t,s,o)}):Um(t,s,a)}function Um(t,s,a){s.status="fulfilled",s.value=a,Pm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,km(t,a)))}function Bc(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Pm(s),s=s.next;while(s!==o)}t.action=null}function Pm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function zm(t,s){return s}function Bm(t,s){if(Ee){var a=De.formState;if(a!==null){e:{var o=ce;if(Ee){if(at){t:{for(var c=at,h=hn;c.nodeType!==8;){if(!h){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){at=en(c.nextSibling),o=c.data==="F!";break e}}Qi(o)}o=!1}o&&(s=a[0])}}return a=Tt(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:s},a.queue=o,a=ig.bind(null,ce,o),o.dispatch=a,o=zc(!1),h=Gc.bind(null,ce,!1,o.queue),o=Tt(),c={state:s,dispatch:null,action:t,pending:null},o.queue=c,a=KS.bind(null,ce,c,h,a),c.dispatch=a,o.memoizedState=t,[s,a,!1]}function Hm(t){var s=We();return jm(s,Ce,t)}function jm(t,s,a){s=Uc(t,s,zm)[0],t=no(On)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ra(s):s;var o=We(),c=o.queue,h=c.dispatch;return a!==o.memoizedState&&(ce.flags|=2048,Ws(9,WS.bind(null,c,a),{destroy:void 0},null)),[s,h,t]}function WS(t,s){t.action=s}function qm(t){var s=We(),a=Ce;if(a!==null)return jm(s,a,t);We(),s=s.memoizedState,a=We();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Ws(t,s,a,o){return t={tag:t,create:s,inst:a,deps:o,next:null},s=ce.updateQueue,s===null&&(s=eo(),ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Fm(){return We().memoizedState}function io(t,s,a,o){var c=Tt();ce.flags|=t,c.memoizedState=Ws(1|s,a,{destroy:void 0},o===void 0?null:o)}function so(t,s,a,o){var c=We();o=o===void 0?null:o;var h=c.memoizedState.inst;Ce!==null&&o!==null&&xc(o,Ce.memoizedState.deps)?c.memoizedState=Ws(s,a,h,o):(ce.flags|=t,c.memoizedState=Ws(1|s,a,h,o))}function Vm(t,s){io(8390656,8,t,s)}function Hc(t,s){so(2048,8,t,s)}function Gm(t,s){return so(4,2,t,s)}function Ym(t,s){return so(4,4,t,s)}function Km(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Wm(t,s,a){a=a!=null?a.concat([t]):null,so(4,4,Km.bind(null,s,t),a)}function jc(){}function Qm(t,s){var a=We();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&xc(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Xm(t,s){var a=We();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&xc(s,o[1]))return o[0];if(o=t(),Zi){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[o,s],o}function qc(t,s,a){return a===void 0||(ci&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=Zg(),ce.lanes|=t,Ei|=t,a)}function $m(t,s,a,o){return It(a,s)?a:Fs.current!==null?(t=qc(t,a,o),It(t,s)||(et=!0),t):(ci&42)===0?(et=!0,t.memoizedState=a):(t=Zg(),ce.lanes|=t,Ei|=t,s)}function Zm(t,s,a,o,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var g=G.T,v={};G.T=v,Gc(t,!1,s,a);try{var b=c(),C=G.S;if(C!==null&&C(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=VS(b,o);aa(t,s,U,Ut(t))}else aa(t,s,o,Ut(t))}catch(B){aa(t,s,{then:function(){},status:"rejected",reason:B},Ut())}finally{Y.p=h,G.T=g}}function QS(){}function Fc(t,s,a,o){if(t.tag!==5)throw Error(r(476));var c=Jm(t).queue;Zm(t,c,s,ye,a===null?QS:function(){return eg(t),a(o)})}function Jm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function eg(t){var s=Jm(t).next.queue;aa(t,s,{},Ut())}function Vc(){return ft(Ra)}function tg(){return We().memoizedState}function ng(){return We().memoizedState}function XS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ut();t=pi(a);var o=mi(s,t,a);o!==null&&(yt(o,s,a),ua(o,s,a)),s={cache:Ac()},t.payload=s;return}s=s.return}}function $S(t,s,a){var o=Ut();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ro(t)?sg(s,a):(a=Ec(t,s,a,o),a!==null&&(yt(a,t,o),rg(a,s,o)))}function ig(t,s,a){var o=Ut();aa(t,s,a,o)}function aa(t,s,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ro(t))sg(s,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var g=s.lastRenderedState,v=h(g,a);if(c.hasEagerState=!0,c.eagerState=v,It(v,g))return ql(t,s,c,0),De===null&&jl(),!1}catch{}finally{}if(a=Ec(t,s,c,o),a!==null)return yt(a,t,o),rg(a,s,o),!0}return!1}function Gc(t,s,a,o){if(o={lane:2,revertLane:Lf(),action:o,hasEagerState:!1,eagerState:null,next:null},ro(t)){if(s)throw Error(r(479))}else s=Ec(t,a,o,2),s!==null&&yt(s,t,2)}function ro(t){var s=t.alternate;return t===ce||s!==null&&s===ce}function sg(t,s){Ys=Zl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function rg(t,s,a){if((a&4194176)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,gp(t,a)}}var pn={readContext:ft,use:to,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge};pn.useCacheRefresh=Ge,pn.useMemoCache=Ge,pn.useHostTransitionStatus=Ge,pn.useFormState=Ge,pn.useActionState=Ge,pn.useOptimistic=Ge;var Ji={readContext:ft,use:to,useCallback:function(t,s){return Tt().memoizedState=[t,s===void 0?null:s],t},useContext:ft,useEffect:Vm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,io(4194308,4,Km.bind(null,s,t),a)},useLayoutEffect:function(t,s){return io(4194308,4,t,s)},useInsertionEffect:function(t,s){io(4,2,t,s)},useMemo:function(t,s){var a=Tt();s=s===void 0?null:s;var o=t();if(Zi){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=Tt();if(a!==void 0){var c=a(s);if(Zi){si(!0);try{a(s)}finally{si(!1)}}}else c=s;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=$S.bind(null,ce,t),[o.memoizedState,t]},useRef:function(t){var s=Tt();return t={current:t},s.memoizedState=t},useState:function(t){t=zc(t);var s=t.queue,a=ig.bind(null,ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:jc,useDeferredValue:function(t,s){var a=Tt();return qc(a,t,s)},useTransition:function(){var t=zc(!1);return t=Zm.bind(null,ce,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=ce,c=Tt();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),De===null)throw Error(r(349));(ve&60)!==0||Nm(o,s,a)}c.memoizedState=a;var h={value:a,getSnapshot:s};return c.queue=h,Vm(xm.bind(null,o,h,t),[t]),o.flags|=2048,Ws(9,Om.bind(null,o,h,a,s),{destroy:void 0},null),a},useId:function(){var t=Tt(),s=De.identifierPrefix;if(Ee){var a=An,o=Rn;a=(o&~(1<<32-Dt(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=Jl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=GS++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},useCacheRefresh:function(){return Tt().memoizedState=XS.bind(null,ce)}};Ji.useMemoCache=Lc,Ji.useHostTransitionStatus=Vc,Ji.useFormState=Bm,Ji.useActionState=Bm,Ji.useOptimistic=function(t){var s=Tt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gc.bind(null,ce,!0,a),a.dispatch=s,[t,s]};var fi={readContext:ft,use:to,useCallback:Qm,useContext:ft,useEffect:Hc,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Xm,useReducer:no,useRef:Fm,useState:function(){return no(On)},useDebugValue:jc,useDeferredValue:function(t,s){var a=We();return $m(a,Ce.memoizedState,t,s)},useTransition:function(){var t=no(On)[0],s=We().memoizedState;return[typeof t=="boolean"?t:ra(t),s]},useSyncExternalStore:Am,useId:tg};fi.useCacheRefresh=ng,fi.useMemoCache=Lc,fi.useHostTransitionStatus=Vc,fi.useFormState=Hm,fi.useActionState=Hm,fi.useOptimistic=function(t,s){var a=We();return Mm(a,Ce,t,s)};var es={readContext:ft,use:to,useCallback:Qm,useContext:ft,useEffect:Hc,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Xm,useReducer:Pc,useRef:Fm,useState:function(){return Pc(On)},useDebugValue:jc,useDeferredValue:function(t,s){var a=We();return Ce===null?qc(a,t,s):$m(a,Ce.memoizedState,t,s)},useTransition:function(){var t=Pc(On)[0],s=We().memoizedState;return[typeof t=="boolean"?t:ra(t),s]},useSyncExternalStore:Am,useId:tg};es.useCacheRefresh=ng,es.useMemoCache=Lc,es.useHostTransitionStatus=Vc,es.useFormState=qm,es.useActionState=qm,es.useOptimistic=function(t,s){var a=We();return Ce!==null?Mm(a,Ce,t,s):(a.baseState=t,[t,a.queue.dispatch])};function Yc(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:re({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kc={isMounted:function(t){return(t=t._reactInternals)?te(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Ut(),c=pi(o);c.payload=s,a!=null&&(c.callback=a),s=mi(t,c,o),s!==null&&(yt(s,t,o),ua(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Ut(),c=pi(o);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=mi(t,c,o),s!==null&&(yt(s,t,o),ua(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ut(),o=pi(a);o.tag=2,s!=null&&(o.callback=s),s=mi(t,o,a),s!==null&&(yt(s,t,a),ua(s,t,a))}};function ag(t,s,a,o,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,g):s.prototype&&s.prototype.isPureReactComponent?!Kr(a,o)||!Kr(c,h):!0}function lg(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Kc.enqueueReplaceState(s,s.state,null)}function ts(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=re({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ao=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function og(t){ao(t)}function ug(t){console.error(t)}function cg(t){ao(t)}function lo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function fg(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wc(t,s,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){lo(t,s)},a}function hg(t){return t=pi(t),t.tag=3,t}function dg(t,s,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;t.payload=function(){return c(h)},t.callback=function(){fg(s,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){fg(s,a,o),typeof c!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function ZS(t,s,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&oa(s,a,c,!0),a=Vt.current,a!==null){switch(a.tag){case 13:return dn===null?xf():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===wc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),If(t,o,c)),!1;case 22:return a.flags|=65536,o===wc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),If(t,o,c)),!1}throw Error(r(435,a.tag))}return If(t,o,c),xf(),!1}if(Ee)return s=Vt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,o!==Tc&&(t=Error(r(422),{cause:o}),$r(jt(t,a)))):(o!==Tc&&(s=Error(r(423),{cause:o}),$r(jt(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=jt(o,a),c=Wc(t.stateNode,o,c),cf(t,c),qe!==4&&(qe=2)),!1;var h=Error(r(520),{cause:o});if(h=jt(h,a),_a===null?_a=[h]:_a.push(h),qe!==4&&(qe=2),s===null)return!0;o=jt(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Wc(a.stateNode,o,t),cf(a,t),!1;case 1:if(s=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(bi===null||!bi.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=hg(c),dg(c,t,a,o),cf(a,c),!1}a=a.return}while(a!==null);return!1}var pg=Error(r(461)),et=!1;function lt(t,s,a,o){s.child=t===null?vm(s,null,a,o):Xi(s,t.child,a,o)}function mg(t,s,a,o,c){a=a.render;var h=s.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return is(s),o=Dc(t,s,a,g,h,c),v=Ic(),t!==null&&!et?(Mc(t,s,c),xn(t,s,c)):(Ee&&v&&bc(s),s.flags|=1,lt(t,s,o,c),s.child)}function gg(t,s,a,o,c){if(t===null){var h=a.type;return typeof h=="function"&&!yf(h)&&h.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=h,_g(t,s,h,o,c)):(t=ho(a.type,null,o,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!sf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Kr,a(g,o)&&t.ref===s.ref)return xn(t,s,c)}return s.flags|=1,t=vi(h,o),t.ref=s.ref,t.return=s,s.child=t}function _g(t,s,a,o,c){if(t!==null){var h=t.memoizedProps;if(Kr(h,o)&&t.ref===s.ref)if(et=!1,s.pendingProps=o=h,sf(t,c))(t.flags&131072)!==0&&(et=!0);else return s.lanes=t.lanes,xn(t,s,c)}return Qc(t,s,a,o,c)}function yg(t,s,a){var o=s.pendingProps,c=o.children,h=(s.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(la(t,s),o.mode==="hidden"||h){if((s.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,t!==null){for(c=s.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;s.childLanes=h&~o}else s.childLanes=0,s.child=null;return vg(t,s,o,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&$l(s,g!==null?g.cachePool:null),g!==null?Em(s,g):Cc(),bm(s);else return s.lanes=s.childLanes=536870912,vg(t,s,g!==null?g.baseLanes|a:a,a)}else g!==null?($l(s,g.cachePool),Em(s,g),ui(),s.memoizedState=null):(t!==null&&$l(s,null),Cc(),ui());return lt(t,s,c,a),s.child}function vg(t,s,a,o){var c=Oc();return c=c===null?null:{parent:$e._currentValue,pool:c},s.memoizedState={baseLanes:a,cachePool:c},t!==null&&$l(s,null),Cc(),bm(s),t!==null&&oa(t,s,o,!0),null}function la(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=2097664)}}function Qc(t,s,a,o,c){return is(s),a=Dc(t,s,a,o,void 0,c),o=Ic(),t!==null&&!et?(Mc(t,s,c),xn(t,s,c)):(Ee&&o&&bc(s),s.flags|=1,lt(t,s,a,c),s.child)}function Eg(t,s,a,o,c,h){return is(s),s.updateQueue=null,a=Rm(s,o,a,c),Cm(t),o=Ic(),t!==null&&!et?(Mc(t,s,h),xn(t,s,h)):(Ee&&o&&bc(s),s.flags|=1,lt(t,s,a,h),s.child)}function bg(t,s,a,o,c){if(is(s),s.stateNode===null){var h=Bs,g=a.contextType;typeof g=="object"&&g!==null&&(h=ft(g)),h=new a(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Kc,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},of(s),g=a.contextType,h.context=typeof g=="object"&&g!==null?ft(g):Bs,h.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yc(s,a,g,o),h.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Kc.enqueueReplaceState(h,h.state,null),fa(s,o,h,c),ca(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var v=s.memoizedProps,b=ts(a,v);h.props=b;var C=h.context,U=a.contextType;g=Bs,typeof U=="object"&&U!==null&&(g=ft(U));var B=a.getDerivedStateFromProps;U=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=s.pendingProps!==v,U||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||C!==g)&&lg(s,h,o,g),di=!1;var x=s.memoizedState;h.state=x,fa(s,o,h,c),ca(),C=s.memoizedState,v||x!==C||di?(typeof B=="function"&&(Yc(s,a,B,o),C=s.memoizedState),(b=di||ag(s,a,b,o,x,C,g))?(U||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=C),h.props=o,h.state=C,h.context=g,o=b):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,uf(t,s),g=s.memoizedProps,U=ts(a,g),h.props=U,B=s.pendingProps,x=h.context,C=a.contextType,b=Bs,typeof C=="object"&&C!==null&&(b=ft(C)),v=a.getDerivedStateFromProps,(C=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==B||x!==b)&&lg(s,h,o,b),di=!1,x=s.memoizedState,h.state=x,fa(s,o,h,c),ca();var L=s.memoizedState;g!==B||x!==L||di||t!==null&&t.dependencies!==null&&oo(t.dependencies)?(typeof v=="function"&&(Yc(s,a,v,o),L=s.memoizedState),(U=di||ag(s,a,U,o,x,L,b)||t!==null&&t.dependencies!==null&&oo(t.dependencies))?(C||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,L,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,L,b)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=L),h.props=o,h.state=L,h.context=b,o=U):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,la(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=Xi(s,t.child,null,c),s.child=Xi(s,null,a,c)):lt(t,s,a,c),s.memoizedState=h.state,t=s.child):t=xn(t,s,c),t}function Sg(t,s,a,o){return Xr(),s.flags|=256,lt(t,s,a,o),s.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:wm()}}function Zc(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Wt),t}function Tg(t,s,a){var o=s.pendingProps,c=!1,h=(s.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),g&&(c=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ee){if(c?oi(s):ui(),Ee){var v=at,b;if(b=v){e:{for(b=v,v=hn;b.nodeType!==8;){if(!v){v=null;break e}if(b=en(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(s.memoizedState={dehydrated:v,treeContext:Ki!==null?{id:Rn,overflow:An}:null,retryLane:536870912},b=Kt(18,null,null,0),b.stateNode=v,b.return=s,s.child=b,_t=s,at=null,b=!0):b=!1}b||Qi(s)}if(v=s.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?s.lanes=16:s.lanes=536870912,null;Nn(s)}return v=o.children,o=o.fallback,c?(ui(),c=s.mode,v=ef({mode:"hidden",children:v},c),o=rs(o,c,a,null),v.return=s,o.return=s,v.sibling=o,s.child=v,c=s.child,c.memoizedState=$c(a),c.childLanes=Zc(t,g,a),s.memoizedState=Xc,o):(oi(s),Jc(s,v))}if(b=t.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(h)s.flags&256?(oi(s),s.flags&=-257,s=tf(t,s,a)):s.memoizedState!==null?(ui(),s.child=t.child,s.flags|=128,s=null):(ui(),c=o.fallback,v=s.mode,o=ef({mode:"visible",children:o.children},v),c=rs(c,v,a,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,Xi(s,t.child,null,a),o=s.child,o.memoizedState=$c(a),o.childLanes=Zc(t,g,a),s.memoizedState=Xc,s=c);else if(oi(s),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var C=g.dgst;g=C,o=Error(r(419)),o.stack="",o.digest=g,$r({value:o,source:null,stack:null}),s=tf(t,s,a)}else if(et||oa(t,s,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=De,g!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,li(t,o),yt(g,t,o),pg}v.data==="$?"||xf(),s=tf(t,s,a)}else v.data==="$?"?(s.flags|=128,s.child=t.child,s=dT.bind(null,t),v._reactRetry=s,s=null):(t=b.treeContext,at=en(v.nextSibling),_t=s,Ee=!0,Zt=null,hn=!1,t!==null&&(qt[Ft++]=Rn,qt[Ft++]=An,qt[Ft++]=Ki,Rn=t.id,An=t.overflow,Ki=s),s=Jc(s,o.children),s.flags|=4096);return s}return c?(ui(),c=o.fallback,v=s.mode,b=t.child,C=b.sibling,o=vi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,C!==null?c=vi(C,c):(c=rs(c,v,a,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,v=t.child.memoizedState,v===null?v=$c(a):(b=v.cachePool,b!==null?(C=$e._currentValue,b=b.parent!==C?{parent:C,pool:C}:b):b=wm(),v={baseLanes:v.baseLanes|a,cachePool:b}),c.memoizedState=v,c.childLanes=Zc(t,g,a),s.memoizedState=Xc,o):(oi(s),a=t.child,t=a.sibling,a=vi(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(g=s.deletions,g===null?(s.deletions=[t],s.flags|=16):g.push(t)),s.child=a,s.memoizedState=null,a)}function Jc(t,s){return s=ef({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ef(t,s){return Qg(t,s,0,null)}function tf(t,s,a){return Xi(s,t.child,null,a),t=Jc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function wg(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),af(t.return,s,a)}function nf(t,s,a,o,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=c)}function Cg(t,s,a){var o=s.pendingProps,c=o.revealOrder,h=o.tail;if(lt(t,s,o.children,a),o=Xe.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,s);else if(t.tag===19)wg(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ue(Xe,o),c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&Xl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),nf(s,!1,c,a,h);break;case"backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Xl(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}nf(s,!0,a,null,h);break;case"together":nf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ei|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(oa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=vi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=vi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function sf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&oo(t)))}function JS(t,s,a){switch(s.tag){case 3:wl(s,s.stateNode.containerInfo),hi(s,$e,t.memoizedState.cache),Xr();break;case 27:case 5:Ku(s);break;case 4:wl(s,s.stateNode.containerInfo);break;case 10:hi(s,s.type,s.memoizedProps.value);break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(oi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Tg(t,s,a):(oi(s),t=xn(t,s,a),t!==null?t.sibling:null);oi(s);break;case 19:var c=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(oa(t,s,a,!1),o=(a&s.childLanes)!==0),c){if(o)return Cg(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ue(Xe,Xe.current),o)break;return null;case 22:case 23:return s.lanes=0,yg(t,s,a);case 24:hi(s,$e,t.memoizedState.cache)}return xn(t,s,a)}function Rg(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)et=!0;else{if(!sf(t,a)&&(s.flags&128)===0)return et=!1,JS(t,s,a);et=(t.flags&131072)!==0}else et=!1,Ee&&(s.flags&1048576)!==0&&cm(s,Gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var o=s.elementType,c=o._init;if(o=c(o._payload),s.type=o,typeof o=="function")yf(o)?(t=ts(o,t),s.tag=1,s=bg(null,s,o,t,a)):(s.tag=0,s=Qc(null,s,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===S){s.tag=11,s=mg(null,s,o,t,a);break e}else if(c===P){s.tag=14,s=gg(null,s,o,t,a);break e}}throw s=Pe(o)||o,Error(r(306,s,""))}}return s;case 0:return Qc(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,c=ts(o,s.pendingProps),bg(t,s,o,c,a);case 3:e:{if(wl(s,s.stateNode.containerInfo),t===null)throw Error(r(387));var h=s.pendingProps;c=s.memoizedState,o=c.element,uf(t,s),fa(s,h,null,a);var g=s.memoizedState;if(h=g.cache,hi(s,$e,h),h!==c.cache&&lf(s,[$e],a,!0),ca(),h=g.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){s=Sg(t,s,h,a);break e}else if(h!==o){o=jt(Error(r(424)),s),$r(o),s=Sg(t,s,h,a);break e}else for(at=en(s.stateNode.containerInfo.firstChild),_t=s,Ee=!0,Zt=null,hn=!0,a=vm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xr(),h===o){s=xn(t,s,a);break e}lt(t,s,h,a)}s=s.child}return s;case 26:return la(t,s),t===null?(a=O_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ee||(a=s.type,t=s.pendingProps,o=Co(ii.current).createElement(a),o[ct]=s,o[bt]=t,ot(o,a,t),Je(o),s.stateNode=o):s.memoizedState=O_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ku(s),t===null&&Ee&&(o=s.stateNode=R_(s.type,s.pendingProps,ii.current),_t=s,hn=!0,at=en(o.firstChild)),o=s.pendingProps.children,t!==null||Ee?lt(t,s,o,a):s.child=Xi(s,null,o,a),la(t,s),s.child;case 5:return t===null&&Ee&&((c=o=at)&&(o=OT(o,s.type,s.pendingProps,hn),o!==null?(s.stateNode=o,_t=s,at=en(o.firstChild),hn=!1,c=!0):c=!1),c||Qi(s)),Ku(s),c=s.type,h=s.pendingProps,g=t!==null?t.memoizedProps:null,o=h.children,Vf(c,h)?o=null:g!==null&&Vf(c,g)&&(s.flags|=32),s.memoizedState!==null&&(c=Dc(t,s,YS,null,null,a),Ra._currentValue=c),la(t,s),lt(t,s,o,a),s.child;case 6:return t===null&&Ee&&((t=a=at)&&(a=xT(a,s.pendingProps,hn),a!==null?(s.stateNode=a,_t=s,at=null,t=!0):t=!1),t||Qi(s)),null;case 13:return Tg(t,s,a);case 4:return wl(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Xi(s,null,o,a):lt(t,s,o,a),s.child;case 11:return mg(t,s,s.type,s.pendingProps,a);case 7:return lt(t,s,s.pendingProps,a),s.child;case 8:return lt(t,s,s.pendingProps.children,a),s.child;case 12:return lt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,hi(s,s.type,o.value),lt(t,s,o.children,a),s.child;case 9:return c=s.type._context,o=s.pendingProps.children,is(s),c=ft(c),o=o(c),s.flags|=1,lt(t,s,o,a),s.child;case 14:return gg(t,s,s.type,s.pendingProps,a);case 15:return _g(t,s,s.type,s.pendingProps,a);case 19:return Cg(t,s,a);case 22:return yg(t,s,a);case 24:return is(s),o=ft($e),t===null?(c=Oc(),c===null&&(c=De,h=Ac(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),s.memoizedState={parent:o,cache:c},of(s),hi(s,$e,c)):((t.lanes&a)!==0&&(uf(t,s),fa(s,null,null,a),ca()),c=t.memoizedState,h=s.memoizedState,c.parent!==o?(c={parent:o,cache:o},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),hi(s,$e,o)):(o=h.cache,hi(s,$e,o),o!==c.cache&&lf(s,[$e],a,!0))),lt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var rf=Te(null),ns=null,Dn=null;function hi(t,s,a){Ue(rf,s._currentValue),s._currentValue=a}function In(t){t._currentValue=rf.current,Ye(rf)}function af(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function lf(t,s,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=c;for(var b=0;b<s.length;b++)if(v.context===s[b]){h.lanes|=a,v=h.alternate,v!==null&&(v.lanes|=a),af(h.return,a,t),o||(g=null);break e}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),af(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function oa(t,s,a,o){t=null;for(var c=s,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=c.type;It(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===Tl.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ra):t=[Ra])}c=c.return}t!==null&&lf(s,t,a,o),s.flags|=262144}function oo(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){ns=t,Dn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return Ag(ns,t)}function uo(t,s){return ns===null&&is(t),Ag(t,s)}function Ag(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Dn===null){if(t===null)throw Error(r(308));Dn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Dn=Dn.next=s;return a}var di=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var c=o.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s,s=Fl(t),om(t,null,a),s}return ql(t,o,s,a),Fl(t)}function ua(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,gp(t,a)}}function cf(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=s:h=h.next=s}else c=h=s;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ff=!1;function ca(){if(ff){var t=Gs;if(t!==null)throw t}}function fa(t,s,a,o){ff=!1;var c=t.updateQueue;di=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var b=v,C=b.next;b.next=null,g===null?h=C:g.next=C,g=b;var U=t.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==g&&(v===null?U.firstBaseUpdate=C:v.next=C,U.lastBaseUpdate=b))}if(h!==null){var B=c.baseState;g=0,U=C=b=null,v=h;do{var x=v.lane&-536870913,L=x!==v.lane;if(L?(ve&x)===x:(o&x)===x){x!==0&&x===Vs&&(ff=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Q=t,se=v;x=s;var Fe=a;switch(se.tag){case 1:if(Q=se.payload,typeof Q=="function"){B=Q.call(Fe,B,x);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=se.payload,x=typeof Q=="function"?Q.call(Fe,B,x):Q,x==null)break e;B=re({},B,x);break e;case 2:di=!0}}x=v.callback,x!==null&&(t.flags|=64,L&&(t.flags|=8192),L=c.callbacks,L===null?c.callbacks=[x]:L.push(x))}else L={lane:x,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(C=U=L,b=B):U=U.next=L,g|=x;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;L=v,v=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);U===null&&(b=B),c.baseState=b,c.firstBaseUpdate=C,c.lastBaseUpdate=U,h===null&&(c.shared.lanes=0),Ei|=g,t.lanes=g,t.memoizedState=B}}function Ng(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Og(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ng(a[t],s)}function ha(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var h=a.create,g=a.inst;o=h(),g.destroy=o}a=a.next}while(a!==c)}}catch(v){Ne(s,s.return,v)}}function gi(t,s,a){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=s;var b=a;try{v()}catch(C){Ne(c,b,C)}}}o=o.next}while(o!==h)}}catch(C){Ne(s,s.return,C)}}function xg(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Og(s,a)}catch(o){Ne(t,t.return,o)}}}function Dg(t,s,a){a.props=ts(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ne(t,s,o)}}function ss(t,s){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(h){Ne(t,s,h)}}function Mt(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ne(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ne(t,s,c)}else a.current=null}function Ig(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ne(t,t.return,c)}}function Mg(t,s,a){try{var o=t.stateNode;wT(o,t.type,a,s),o[bt]=s}catch(c){Ne(t,t.return,c)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=wo));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(df(t,s,a),t=t.sibling;t!==null;)df(t,s,a),t=t.sibling}function co(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(co(t,s,a),t=t.sibling;t!==null;)co(t,s,a),t=t.sibling}var Mn=!1,je=!1,pf=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,tt=null,Ug=!1;function eT(t,s){if(t=t.containerInfo,qf=Do,t=Jp(t),mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,v=-1,b=-1,C=0,U=0,B=t,x=null;t:for(;;){for(var L;B!==a||c!==0&&B.nodeType!==3||(v=g+c),B!==h||o!==0&&B.nodeType!==3||(b=g+o),B.nodeType===3&&(g+=B.nodeValue.length),(L=B.firstChild)!==null;)x=B,B=L;for(;;){if(B===t)break t;if(x===a&&++C===c&&(v=g),x===h&&++U===o&&(b=g),(L=B.nextSibling)!==null)break;B=x,x=B.parentNode}B=L}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ff={focusedElem:t,selectionRange:a},Do=!1,tt=s;tt!==null;)if(s=tt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,tt=t;else for(;tt!==null;){switch(s=tt,h=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=s,c=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Q=ts(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(Q,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(se){Ne(a,a.return,se)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,tt=t;break}tt=s.return}return Q=Ug,Ug=!1,Q}function Pg(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(t,a),o&4&&ha(5,a);break;case 1:if(Ln(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Ne(a,a.return,v)}else{var c=ts(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ne(a,a.return,v)}}o&64&&xg(a),o&512&&ss(a,a.return);break;case 3:if(Ln(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Og(o,t)}catch(v){Ne(a,a.return,v)}}break;case 26:Ln(t,a),o&512&&ss(a,a.return);break;case 27:case 5:Ln(t,a),s===null&&o&4&&Ig(a),o&512&&ss(a,a.return);break;case 12:Ln(t,a);break;case 13:Ln(t,a),o&4&&Hg(t,a);break;case 22:if(c=a.memoizedState!==null||Mn,!c){s=s!==null&&s.memoizedState!==null||je;var h=Mn,g=je;Mn=c,(je=s)&&!g?_i(t,a,(a.subtreeFlags&8772)!==0):Ln(t,a),Mn=h,je=g}o&512&&(a.memoizedProps.mode==="manual"?ss(a,a.return):Mt(a,a.return));break;default:Ln(t,a)}}function zg(t){var s=t.alternate;s!==null&&(t.alternate=null,zg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ju(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,kt=!1;function kn(t,s,a){for(a=a.child;a!==null;)Bg(t,s,a),a=a.sibling}function Bg(t,s,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Lr,a)}catch{}switch(a.tag){case 26:je||Mt(a,s),kn(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Mt(a,s);var o=Qe,c=kt;for(Qe=a.stateNode,kn(t,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ju(a),Qe=o,kt=c;break;case 5:je||Mt(a,s);case 6:c=Qe;var h=kt;if(Qe=null,kn(t,s,a),Qe=c,kt=h,Qe!==null)if(kt)try{t=Qe,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Ne(a,s,g)}else try{Qe.removeChild(a.stateNode)}catch(g){Ne(a,s,g)}break;case 18:Qe!==null&&(kt?(s=Qe,a=a.stateNode,s.nodeType===8?Yf(s.parentNode,a):s.nodeType===1&&Yf(s,a),xa(s)):Yf(Qe,a.stateNode));break;case 4:o=Qe,c=kt,Qe=a.stateNode.containerInfo,kt=!0,kn(t,s,a),Qe=o,kt=c;break;case 0:case 11:case 14:case 15:je||gi(2,a,s),je||gi(4,a,s),kn(t,s,a);break;case 1:je||(Mt(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dg(a,s,o)),kn(t,s,a);break;case 21:kn(t,s,a);break;case 22:je||Mt(a,s),je=(o=je)||a.memoizedState!==null,kn(t,s,a),je=o;break;default:kn(t,s,a)}}function Hg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xa(t)}catch(a){Ne(s,s.return,a)}}function tT(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Lg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Lg),s;default:throw Error(r(435,t.tag))}}function mf(t,s){var a=tT(t);s.forEach(function(o){var c=pT.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Gt(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],h=t,g=s,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:Qe=v.stateNode,kt=!1;break e;case 3:Qe=v.stateNode.containerInfo,kt=!0;break e;case 4:Qe=v.stateNode.containerInfo,kt=!0;break e}v=v.return}if(Qe===null)throw Error(r(160));Bg(h,g,c),Qe=null,kt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)jg(s,t),s=s.sibling}var Jt=null;function jg(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(s,t),Yt(t),o&4&&(gi(3,t,t.return),ha(3,t),gi(5,t,t.return));break;case 1:Gt(s,t),Yt(t),o&512&&(je||a===null||Mt(a,a.return)),o&64&&Mn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Jt;if(Gt(s,t),Yt(t),o&512&&(je||a===null||Mt(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[zr]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),ot(h,o,a),h[ct]=t,Je(h),o=h;break e;case"link":var g=I_("link","href",c).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(a.href==null?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}h=c.createElement(o),ot(h,o,a),c.head.appendChild(h);break;case"meta":if(g=I_("meta","content",c).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}h=c.createElement(o),ot(h,o,a),c.head.appendChild(h);break;default:throw Error(r(468,o))}h[ct]=t,Je(h),o=h}t.stateNode=o}else M_(c,t.type,t.stateNode);else t.stateNode=D_(c,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?M_(c,t.type,t.stateNode):D_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Mg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var b=c.firstChild;b;){var C=b.nextSibling,U=b.nodeName;b[zr]||U==="HEAD"||U==="BODY"||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=C}for(var B=t.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);ot(c,B,h),c[ct]=t,c[bt]=h}catch(Q){Ne(t,t.return,Q)}}case 5:if(Gt(s,t),Yt(t),o&512&&(je||a===null||Mt(a,a.return)),t.flags&32){c=t.stateNode;try{Is(c,"")}catch(Q){Ne(t,t.return,Q)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Mg(t,c,a!==null?a.memoizedProps:c)),o&1024&&(pf=!0);break;case 6:if(Gt(s,t),Yt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Q){Ne(t,t.return,Q)}}break;case 3:if(No=null,c=Jt,Jt=Ro(s.containerInfo),Gt(s,t),Jt=c,Yt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{xa(s.containerInfo)}catch(Q){Ne(t,t.return,Q)}pf&&(pf=!1,qg(t));break;case 4:o=Jt,Jt=Ro(t.stateNode.containerInfo),Gt(s,t),Yt(t),Jt=o;break;case 12:Gt(s,t),Yt(t);break;case 13:Gt(s,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wf=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mf(t,o)));break;case 22:if(o&512&&(je||a===null||Mt(a,a.return)),b=t.memoizedState!==null,C=a!==null&&a.memoizedState!==null,U=Mn,B=je,Mn=U||b,je=B||C,Gt(s,t),je=B,Mn=U,Yt(t),s=t.stateNode,s._current=t,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,o&8192&&(s._visibility=b?s._visibility&-2:s._visibility|1,b&&(s=Mn||je,a===null||C||s||Qs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,s=t;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){C=a=s;try{if(c=C.stateNode,b)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{g=C.stateNode,v=C.memoizedProps.style;var L=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Q){Ne(C,C.return,Q)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=b?"":C.memoizedProps}catch(Q){Ne(C,C.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mf(t,a))));break;case 19:Gt(s,t),Yt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mf(t,o)));break;case 21:break;default:Gt(s,t),Yt(t)}}function Yt(t){var s=t.flags;if(s&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(kg(a)){var o=a;break e}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var c=o.stateNode,h=hf(t);co(t,h,c);break;case 5:var g=o.stateNode;o.flags&32&&(Is(g,""),o.flags&=-33);var v=hf(t);co(t,v,g);break;case 3:case 4:var b=o.stateNode.containerInfo,C=hf(t);df(t,C,b);break;default:throw Error(r(161))}}}catch(U){Ne(t,t.return,U)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;qg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ln(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Pg(t,s.alternate,s),s=s.sibling}function Qs(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:gi(4,s,s.return),Qs(s);break;case 1:Mt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Dg(s,s.return,a),Qs(s);break;case 26:case 27:case 5:Mt(s,s.return),Qs(s);break;case 22:Mt(s,s.return),s.memoizedState===null&&Qs(s);break;default:Qs(s)}t=t.sibling}}function _i(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,c=t,h=s,g=h.flags;switch(h.tag){case 0:case 11:case 15:_i(c,h,a),ha(4,h);break;case 1:if(_i(c,h,a),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(C){Ne(o,o.return,C)}if(o=h,c=o.updateQueue,c!==null){var v=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Ng(b[c],v)}catch(C){Ne(o,o.return,C)}}a&&g&64&&xg(h),ss(h,h.return);break;case 26:case 27:case 5:_i(c,h,a),a&&o===null&&g&4&&Ig(h),ss(h,h.return);break;case 12:_i(c,h,a);break;case 13:_i(c,h,a),a&&g&4&&Hg(c,h);break;case 22:h.memoizedState===null&&_i(c,h,a),ss(h,h.return);break;default:_i(c,h,a)}s=s.sibling}}function gf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&na(a))}function _f(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&na(t))}function yi(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fg(t,s,a,o),s=s.sibling}function Fg(t,s,a,o){var c=s.flags;switch(s.tag){case 0:case 11:case 15:yi(t,s,a,o),c&2048&&ha(9,s);break;case 3:yi(t,s,a,o),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&na(t)));break;case 12:if(c&2048){yi(t,s,a,o),t=s.stateNode;try{var h=s.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ne(s,s.return,b)}}else yi(t,s,a,o);break;case 23:break;case 22:h=s.stateNode,s.memoizedState!==null?h._visibility&4?yi(t,s,a,o):da(t,s):h._visibility&4?yi(t,s,a,o):(h._visibility|=4,Xs(t,s,a,o,(s.subtreeFlags&10256)!==0)),c&2048&&gf(s.alternate,s);break;case 24:yi(t,s,a,o),c&2048&&_f(s.alternate,s);break;default:yi(t,s,a,o)}}function Xs(t,s,a,o,c){for(c=c&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var h=t,g=s,v=a,b=o,C=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(h,g,v,b,c),ha(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&4?Xs(h,g,v,b,c):da(h,g):(U._visibility|=4,Xs(h,g,v,b,c)),c&&C&2048&&gf(g.alternate,g);break;case 24:Xs(h,g,v,b,c),c&&C&2048&&_f(g.alternate,g);break;default:Xs(h,g,v,b,c)}s=s.sibling}}function da(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,c=o.flags;switch(o.tag){case 22:da(a,o),c&2048&&gf(o.alternate,o);break;case 24:da(a,o),c&2048&&_f(o.alternate,o);break;default:da(a,o)}s=s.sibling}}var pa=8192;function $s(t){if(t.subtreeFlags&pa)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:$s(t),t.flags&pa&&t.memoizedState!==null&&FT(Jt,t.memoizedState,t.memoizedProps);break;case 5:$s(t);break;case 3:case 4:var s=Jt;Jt=Ro(t.stateNode.containerInfo),$s(t),Jt=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=pa,pa=16777216,$s(t),pa=s):$s(t));break;default:$s(t)}}function Gg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ma(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];tt=o,Kg(o,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:ma(t),t.flags&2048&&gi(9,t,t.return);break;case 3:ma(t);break;case 12:ma(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&4&&(t.return===null||t.return.tag!==13)?(s._visibility&=-5,fo(t)):ma(t);break;default:ma(t)}}function fo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];tt=o,Kg(o,t)}Gg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:gi(8,s,s.return),fo(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,fo(s));break;default:fo(s)}t=t.sibling}}function Kg(t,s){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:gi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:na(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,tt=o;else e:for(a=t;tt!==null;){o=tt;var c=o.sibling,h=o.return;if(zg(o),o===a){tt=null;break e}if(c!==null){c.return=h,tt=c;break e}tt=h}}}function nT(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,s,a,o){return new nT(t,s,a,o)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,s){var a=t.alternate;return a===null?(a=Kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,s){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ho(t,s,a,o,c,h){var g=0;if(o=t,typeof t=="function")yf(t)&&(g=1);else if(typeof t=="string")g=jT(t,a,cn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return rs(a.children,c,h,s);case m:g=8,c|=24;break;case _:return t=Kt(12,a,s,c|2),t.elementType=_,t.lanes=h,t;case D:return t=Kt(13,a,s,c),t.elementType=D,t.lanes=h,t;case I:return t=Kt(19,a,s,c),t.elementType=I,t.lanes=h,t;case j:return Qg(a,c,h,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case R:g=10;break e;case E:g=9;break e;case S:g=11;break e;case P:g=14;break e;case q:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Kt(g,a,s,c),s.elementType=t,s.type=o,s.lanes=h,s}function rs(t,s,a,o){return t=Kt(7,t,o,s),t.lanes=a,t}function Qg(t,s,a,o){t=Kt(22,t,o,s),t.elementType=j,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(r(456));if((c._pendingVisibility&2)===0){var g=li(h,2);g!==null&&(c._pendingVisibility|=2,yt(g,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(r(456));if((c._pendingVisibility&2)!==0){var g=li(h,2);g!==null&&(c._pendingVisibility&=-3,yt(g,h,2))}}};return t.stateNode=c,t}function vf(t,s,a){return t=Kt(6,t,null,s),t.lanes=a,t}function Ef(t,s,a){return s=Kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Un(t){t.flags|=4}function Xg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k_(s)){if(s=Vt.current,s!==null&&((ve&4194176)===ve?dn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||s!==dn))throw Jr=wc,dm;t.flags|=8192}}function po(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?pp():536870912,t.lanes|=s,Js|=s)}function ga(t,s){if(!Ee)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function iT(t,s,a){var o=s.pendingProps;switch(Sc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),In($e),Rs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qr(s)?Un(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zt!==null&&(Nf(Zt),Zt=null))),ze(s),null;case 26:return a=s.memoizedState,t===null?(Un(s),a!==null?(ze(s),Xg(s,a)):(ze(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Un(s),ze(s),Xg(s,a)):(ze(s),s.flags&=-16777217):(t.memoizedProps!==o&&Un(s),ze(s),s.flags&=-16777217),null;case 27:Cl(s),a=ii.current;var c=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return ze(s),null}t=cn.current,Qr(s)?fm(s):(t=R_(c,o,a),s.stateNode=t,Un(s))}return ze(s),null;case 5:if(Cl(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return ze(s),null}if(t=cn.current,Qr(s))fm(s);else{switch(c=Co(ii.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[ct]=s,t[bt]=o;e:for(c=s.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s.stateNode=t;e:switch(ot(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Un(s)}}return ze(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=ii.current,Qr(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,c=_t,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[ct]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Qi(s)}else t=Co(t).createTextNode(o),t[ct]=s,s.stateNode=t}return ze(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qr(s),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=s}else Xr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),c=!1}else Zt!==null&&(Nf(Zt),Zt=null),c=!0;if(!c)return s.flags&256?(Nn(s),s):(Nn(s),null)}if(Nn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=s.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),po(s,s.updateQueue),ze(s),null;case 4:return Rs(),t===null&&Bf(s.stateNode.containerInfo),ze(s),null;case 10:return In(s.type),ze(s),null;case 19:if(Ye(Xe),c=s.memoizedState,c===null)return ze(s),null;if(o=(s.flags&128)!==0,h=c.rendering,h===null)if(o)ga(c,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=Xl(t),h!==null){for(s.flags|=128,ga(c,!1),t=h.updateQueue,s.updateQueue=t,po(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Wg(a,t),a=a.sibling;return Ue(Xe,Xe.current&1|2),s.child}t=t.sibling}c.tail!==null&&fn()>mo&&(s.flags|=128,o=!0,ga(c,!1),s.lanes=4194304)}else{if(!o)if(t=Xl(h),t!==null){if(s.flags|=128,o=!0,t=t.updateQueue,s.updateQueue=t,po(s,t),ga(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ee)return ze(s),null}else 2*fn()-c.renderingStartTime>mo&&a!==536870912&&(s.flags|=128,o=!0,ga(c,!1),s.lanes=4194304);c.isBackwards?(h.sibling=s.child,s.child=h):(t=c.last,t!==null?t.sibling=h:s.child=h,c.last=h)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=fn(),s.sibling=null,t=Xe.current,Ue(Xe,o?t&1|2:t&1),s):(ze(s),null);case 22:case 23:return Nn(s),Rc(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&po(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&Ye($i),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),In($e),ze(s),null;case 25:return null}throw Error(r(156,s.tag))}function sT(t,s){switch(Sc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return In($e),Rs(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Cl(s),null;case 13:if(Nn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ye(Xe),null;case 4:return Rs(),null;case 10:return In(s.type),null;case 22:case 23:return Nn(s),Rc(),t!==null&&Ye($i),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return In($e),null;case 25:return null;default:return null}}function $g(t,s){switch(Sc(s),s.tag){case 3:In($e),Rs();break;case 26:case 27:case 5:Cl(s);break;case 4:Rs();break;case 13:Nn(s);break;case 19:Ye(Xe);break;case 10:In(s.type);break;case 22:case 23:Nn(s),Rc(),t!==null&&Ye($i);break;case 24:In($e)}}var rT={getCacheForType:function(t){var s=ft($e),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,Be=0,De=null,pe=null,ve=0,Ie=0,Lt=null,Pn=!1,Zs=!1,bf=!1,zn=0,qe=0,Ei=0,as=0,Sf=0,Wt=0,Js=0,_a=null,mn=null,Tf=!1,wf=0,mo=1/0,go=null,bi=null,_o=!1,ls=null,ya=0,Cf=0,Rf=null,va=0,Af=null;function Ut(){if((Be&2)!==0&&ve!==0)return ve&-ve;if(G.T!==null){var t=Vs;return t!==0?t:Lf()}return yp()}function Zg(){Wt===0&&(Wt=(ve&536870912)===0||Ee?dp():536870912);var t=Vt.current;return t!==null&&(t.flags|=32),Wt}function yt(t,s,a){(t===De&&Ie===2||t.cancelPendingCommit!==null)&&(er(t,0),Bn(t,ve,Wt,!1)),Pr(t,a),((Be&2)===0||t!==De)&&(t===De&&((Be&2)===0&&(as|=a),qe===4&&Bn(t,ve,Wt,!1)),gn(t))}function Jg(t,s,a){if((Be&6)!==0)throw Error(r(327));var o=!a&&(s&60)===0&&(s&t.expiredLanes)===0||Ur(t,s),c=o?uT(t,s):Df(t,s,!0),h=o;do{if(c===0){Zs&&!o&&Bn(t,s,0,!1);break}else if(c===6)Bn(t,s,0,!Pn);else{if(a=t.current.alternate,h&&!lT(a)){c=Df(t,s,!1),h=!1;continue}if(c===2){if(h=s,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var v=t;c=_a;var b=v.current.memoizedState.isDehydrated;if(b&&(er(v,g).flags|=256),g=Df(v,g,!1),g!==2){if(bf&&!b){v.errorRecoveryDisabledLanes|=h,as|=h,c=4;break e}h=mn,mn=c,h!==null&&Nf(h)}c=g}if(h=!1,c!==2)continue}}if(c===1){er(t,0),Bn(t,s,0,!0);break}e:{switch(o=t,c){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Bn(o,s,Wt,!Pn);break e}break;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=s,(s&62914560)===s&&(h=wf+300-fn(),10<h)){if(Bn(o,s,Wt,!Pn),Ol(o,0)!==0)break e;o.timeoutHandle=T_(e_.bind(null,o,a,mn,go,Tf,s,Wt,as,Js,Pn,2,-0,0),h);break e}e_(o,a,mn,go,Tf,s,Wt,as,Js,Pn,0,-0,0)}}break}while(!0);gn(t)}function Nf(t){mn===null?mn=t:mn.push.apply(mn,t)}function e_(t,s,a,o,c,h,g,v,b,C,U,B,x){var L=s.subtreeFlags;if((L&8192||(L&16785408)===16785408)&&(Ca={stylesheets:null,count:0,unsuspend:qT},Vg(s),s=VT(),s!==null)){t.cancelPendingCommit=s(l_.bind(null,t,a,o,c,g,v,b,1,B,x)),Bn(t,h,g,!C);return}l_(t,a,o,c,g,v,b,U,B,x)}function lT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],h=c.getSnapshot;c=c.value;try{if(!It(h(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bn(t,s,a,o){s&=~Sf,s&=~as,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var c=s;0<c;){var h=31-Dt(c),g=1<<h;o[h]=-1,c&=~g}a!==0&&mp(t,a,s)}function yo(){return(Be&6)===0?(Ea(0),!1):!0}function Of(){if(pe!==null){if(Ie===0)var t=pe.return;else t=pe,Dn=ns=null,kc(t),qs=null,ea=0,t=pe;for(;t!==null;)$g(t.alternate,t),t=t.return;pe=null}}function er(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Of(),De=t,pe=a=vi(t.current,null),ve=s,Ie=0,Lt=null,Pn=!1,Zs=Ur(t,s),bf=!1,Js=Wt=Sf=as=Ei=qe=0,mn=_a=null,Tf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var c=31-Dt(o),h=1<<c;s|=t[c],o&=~h}return zn=s,jl(),a}function t_(t,s){ce=null,G.H=pn,s===Zr?(s=gm(),Ie=3):s===dm?(s=gm(),Ie=4):Ie=s===pg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lt=s,pe===null&&(qe=1,lo(t,jt(s,t.current)))}function n_(){var t=G.H;return G.H=pn,t===null?pn:t}function i_(){var t=G.A;return G.A=rT,t}function xf(){qe=4,Pn||(ve&4194176)!==ve&&Vt.current!==null||(Zs=!0),(Ei&134217727)===0&&(as&134217727)===0||De===null||Bn(De,ve,Wt,!1)}function Df(t,s,a){var o=Be;Be|=2;var c=n_(),h=i_();(De!==t||ve!==s)&&(go=null,er(t,s)),s=!1;var g=qe;e:do try{if(Ie!==0&&pe!==null){var v=pe,b=Lt;switch(Ie){case 8:Of(),g=6;break e;case 3:case 2:case 6:Vt.current===null&&(s=!0);var C=Ie;if(Ie=0,Lt=null,tr(t,v,b,C),a&&Zs){g=0;break e}break;default:C=Ie,Ie=0,Lt=null,tr(t,v,b,C)}}oT(),g=qe;break}catch(U){t_(t,U)}while(!0);return s&&t.shellSuspendCounter++,Dn=ns=null,Be=o,G.H=c,G.A=h,pe===null&&(De=null,ve=0,jl()),g}function oT(){for(;pe!==null;)s_(pe)}function uT(t,s){var a=Be;Be|=2;var o=n_(),c=i_();De!==t||ve!==s?(go=null,mo=fn()+500,er(t,s)):Zs=Ur(t,s);e:do try{if(Ie!==0&&pe!==null){s=pe;var h=Lt;t:switch(Ie){case 1:Ie=0,Lt=null,tr(t,s,h,1);break;case 2:if(pm(h)){Ie=0,Lt=null,r_(s);break}s=function(){Ie===2&&De===t&&(Ie=7),gn(t)},h.then(s,s);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:pm(h)?(Ie=0,Lt=null,r_(s)):(Ie=0,Lt=null,tr(t,s,h,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var v=pe;if(!g||k_(g)){Ie=0,Lt=null;var b=v.sibling;if(b!==null)pe=b;else{var C=v.return;C!==null?(pe=C,vo(C)):pe=null}break t}}Ie=0,Lt=null,tr(t,s,h,5);break;case 6:Ie=0,Lt=null,tr(t,s,h,6);break;case 8:Of(),qe=6;break e;default:throw Error(r(462))}}cT();break}catch(U){t_(t,U)}while(!0);return Dn=ns=null,G.H=o,G.A=c,Be=a,pe!==null?0:(De=null,ve=0,jl(),qe)}function cT(){for(;pe!==null&&!Ib();)s_(pe)}function s_(t){var s=Rg(t.alternate,t,zn);t.memoizedProps=t.pendingProps,s===null?vo(t):pe=s}function r_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Eg(a,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=Eg(a,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:kc(s);default:$g(a,s),s=pe=Wg(s,zn),s=Rg(a,s,zn)}t.memoizedProps=t.pendingProps,s===null?vo(t):pe=s}function tr(t,s,a,o){Dn=ns=null,kc(s),qs=null,ea=0;var c=s.return;try{if(ZS(t,c,s,a,ve)){qe=1,lo(t,jt(a,t.current)),pe=null;return}}catch(h){if(c!==null)throw pe=c,h;qe=1,lo(t,jt(a,t.current)),pe=null;return}s.flags&32768?(Ee||o===1?t=!0:Zs||(ve&536870912)!==0?t=!1:(Pn=t=!0,(o===2||o===3||o===6)&&(o=Vt.current,o!==null&&o.tag===13&&(o.flags|=16384))),a_(s,t)):vo(s)}function vo(t){var s=t;do{if((s.flags&32768)!==0){a_(s,Pn);return}t=s.return;var a=iT(s.alternate,s,zn);if(a!==null){pe=a;return}if(s=s.sibling,s!==null){pe=s;return}pe=s=t}while(s!==null);qe===0&&(qe=5)}function a_(t,s){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){pe=t;return}pe=t=a}while(t!==null);qe=6,pe=null}function l_(t,s,a,o,c,h,g,v,b,C){var U=G.T,B=Y.p;try{Y.p=2,G.T=null,fT(t,s,a,o,B,c,h,g,v,b,C)}finally{G.T=U,Y.p=B}}function fT(t,s,a,o,c,h,g,v){do nr();while(ls!==null);if((Be&6)!==0)throw Error(r(327));var b=t.finishedWork;if(o=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var C=b.lanes|b.childLanes;if(C|=vc,Fb(t,o,C,h,g,v),t===De&&(pe=De=null,ve=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||_o||(_o=!0,Cf=C,Rf=a,mT(Rl,function(){return nr(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,h=Y.p,Y.p=2,g=Be,Be|=4,eT(t,b),jg(b,t),LS(Ff,t.containerInfo),Do=!!qf,Ff=qf=null,t.current=b,Pg(t,b.alternate,b),Mb(),Be=g,Y.p=h,G.T=a):t.current=b,_o?(_o=!1,ls=t,ya=o):o_(t,C),C=t.pendingLanes,C===0&&(bi=null),zb(b.stateNode),gn(t),s!==null)for(c=t.onRecoverableError,b=0;b<s.length;b++)C=s[b],c(C.value,{componentStack:C.stack});return(ya&3)!==0&&nr(),C=t.pendingLanes,(o&4194218)!==0&&(C&42)!==0?t===Af?va++:(va=0,Af=t):va=0,Ea(0),null}function o_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,na(s)))}function nr(){if(ls!==null){var t=ls,s=Cf;Cf=0;var a=_p(ya),o=G.T,c=Y.p;try{if(Y.p=32>a?32:a,G.T=null,ls===null)var h=!1;else{a=Rf,Rf=null;var g=ls,v=ya;if(ls=null,ya=0,(Be&6)!==0)throw Error(r(331));var b=Be;if(Be|=4,Yg(g.current),Fg(g,g.current,v,a),Be=b,Ea(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Lr,g)}catch{}h=!0}return h}finally{Y.p=c,G.T=o,o_(t,s)}}return!1}function u_(t,s,a){s=jt(a,s),s=Wc(t.stateNode,s,2),t=mi(t,s,2),t!==null&&(Pr(t,2),gn(t))}function Ne(t,s,a){if(t.tag===3)u_(t,t,a);else for(;s!==null;){if(s.tag===3){u_(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(bi===null||!bi.has(o))){t=jt(a,t),a=hg(2),o=mi(s,a,2),o!==null&&(dg(a,o,s,t),Pr(o,2),gn(o));break}}s=s.return}}function If(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new aT;var c=new Set;o.set(s,c)}else c=o.get(s),c===void 0&&(c=new Set,o.set(s,c));c.has(a)||(bf=!0,c.add(a),t=hT.bind(null,t,s,a),s.then(t,t))}function hT(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,De===t&&(ve&a)===a&&(qe===4||qe===3&&(ve&62914560)===ve&&300>fn()-wf?(Be&2)===0&&er(t,0):Sf|=a,Js===ve&&(Js=0)),gn(t)}function c_(t,s){s===0&&(s=pp()),t=li(t,s),t!==null&&(Pr(t,s),gn(t))}function dT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),c_(t,a)}function pT(t,s){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),c_(t,a)}function mT(t,s){return Qu(t,s)}var Eo=null,ir=null,Mf=!1,bo=!1,kf=!1,os=0;function gn(t){t!==ir&&t.next===null&&(ir===null?Eo=ir=t:ir=ir.next=t),bo=!0,Mf||(Mf=!0,_T(gT))}function Ea(t,s){if(!kf&&bo){kf=!0;do for(var a=!1,o=Eo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var g=o.suspendedLanes,v=o.pingedLanes;h=(1<<31-Dt(42|t)+1)-1,h&=c&~(g&~v),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(a=!0,d_(o,h))}else h=ve,h=Ol(o,o===De?h:0),(h&3)===0||Ur(o,h)||(a=!0,d_(o,h));o=o.next}while(a);kf=!1}}function gT(){bo=Mf=!1;var t=0;os!==0&&(CT()&&(t=os),os=0);for(var s=fn(),a=null,o=Eo;o!==null;){var c=o.next,h=f_(o,s);h===0?(o.next=null,a===null?Eo=c:a.next=c,c===null&&(ir=a)):(a=o,(t!==0||(h&3)!==0)&&(bo=!0)),o=c}Ea(t)}function f_(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Dt(h),v=1<<g,b=c[g];b===-1?((v&a)===0||(v&o)!==0)&&(c[g]=qb(v,s)):b<=s&&(t.expiredLanes|=v),h&=~v}if(s=De,a=ve,a=Ol(t,t===s?a:0),o=t.callbackNode,a===0||t===s&&Ie===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xu(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ur(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Xu(o),_p(a)){case 2:case 8:a=fp;break;case 32:a=Rl;break;case 268435456:a=hp;break;default:a=Rl}return o=h_.bind(null,t),a=Qu(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Xu(o),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,s){var a=t.callbackNode;if(nr()&&t.callbackNode!==a)return null;var o=ve;return o=Ol(t,t===De?o:0),o===0?null:(Jg(t,o,s),f_(t,fn()),t.callbackNode!=null&&t.callbackNode===a?h_.bind(null,t):null)}function d_(t,s){if(nr())return null;Jg(t,s,!0)}function _T(t){AT(function(){(Be&6)!==0?Qu(cp,t):t()})}function Lf(){return os===0&&(os=dp()),os}function p_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kl(""+t)}function m_(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function yT(t,s,a,o,c){if(s==="submit"&&a&&a.stateNode===c){var h=p_((c[bt]||null).action),g=o.submitter;g&&(s=(s=g[bt]||null)?p_(s.formAction):g.getAttribute("formAction"),s!==null&&(h=s,g=null));var v=new zl("action","action",null,o,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(os!==0){var b=g?m_(c,g):new FormData(c);Fc(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(v.preventDefault(),b=g?m_(c,g):new FormData(c),Fc(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Uf=0;Uf<lm.length;Uf++){var Pf=lm[Uf],vT=Pf.toLowerCase(),ET=Pf[0].toUpperCase()+Pf.slice(1);$t(vT,"on"+ET)}$t(nm,"onAnimationEnd"),$t(im,"onAnimationIteration"),$t(sm,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(PS,"onTransitionRun"),$t(zS,"onTransitionStart"),$t(BS,"onTransitionCancel"),$t(rm,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ba));function g_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var g=o.length-1;0<=g;g--){var v=o[g],b=v.instance,C=v.currentTarget;if(v=v.listener,b!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=C;try{h(c)}catch(U){ao(U)}c.currentTarget=null,h=b}else for(g=0;g<o.length;g++){if(v=o[g],b=v.instance,C=v.currentTarget,v=v.listener,b!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=C;try{h(c)}catch(U){ao(U)}c.currentTarget=null,h=b}}}}function ge(t,s){var a=s[Zu];a===void 0&&(a=s[Zu]=new Set);var o=t+"__bubble";a.has(o)||(__(s,t,2,!1),a.add(o))}function zf(t,s,a){var o=0;s&&(o|=4),__(a,t,o,s)}var So="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[So]){t[So]=!0,Ep.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||zf(a,!1,t),zf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[So]||(s[So]=!0,zf("selectionchange",!1,s))}}function __(t,s,a,o){switch(H_(s)){case 2:var c=KT;break;case 8:c=WT;break;default:c=Zf}a=c.bind(null,s,a,t),c=void 0,!ac||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function Hf(t,s,a,o,c){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;v!==null;){if(g=qi(v),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){o=h=g;continue e}v=v.parentNode}}o=o.return}Ip(function(){var C=h,U=sc(a),B=[];e:{var x=am.get(t);if(x!==void 0){var L=zl,Q=t;switch(t){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":L=pS;break;case"focusin":Q="focus",L=cc;break;case"focusout":Q="blur",L=cc;break;case"beforeblur":case"afterblur":L=cc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=_S;break;case nm:case im:case sm:L=rS;break;case rm:L=vS;break;case"scroll":case"scrollend":L=eS;break;case"wheel":L=bS;break;case"copy":case"cut":case"paste":L=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Pp;break;case"toggle":case"beforetoggle":L=TS}var se=(s&4)!==0,Fe=!se&&(t==="scroll"||t==="scrollend"),A=se?x!==null?x+"Capture":null:x;se=[];for(var w=C,N;w!==null;){var z=w;if(N=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||N===null||A===null||(z=Hr(w,A),z!=null&&se.push(Sa(w,z,N))),Fe)break;w=w.return}0<se.length&&(x=new L(x,Q,null,a,U),B.push({event:x,listeners:se}))}}if((s&7)===0){e:{if(x=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",x&&a!==ic&&(Q=a.relatedTarget||a.fromElement)&&(qi(Q)||Q[As]))break e;if((L||x)&&(x=U.window===U?U:(x=U.ownerDocument)?x.defaultView||x.parentWindow:window,L?(Q=a.relatedTarget||a.toElement,L=C,Q=Q?qi(Q):null,Q!==null&&(Fe=te(Q),se=Q.tag,Q!==Fe||se!==5&&se!==27&&se!==6)&&(Q=null)):(L=null,Q=C),L!==Q)){if(se=Lp,z="onMouseLeave",A="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(se=Pp,z="onPointerLeave",A="onPointerEnter",w="pointer"),Fe=L==null?x:Br(L),N=Q==null?x:Br(Q),x=new se(z,w+"leave",L,a,U),x.target=Fe,x.relatedTarget=N,z=null,qi(U)===C&&(se=new se(A,w+"enter",Q,a,U),se.target=N,se.relatedTarget=Fe,z=se),Fe=z,L&&Q)t:{for(se=L,A=Q,w=0,N=se;N;N=sr(N))w++;for(N=0,z=A;z;z=sr(z))N++;for(;0<w-N;)se=sr(se),w--;for(;0<N-w;)A=sr(A),N--;for(;w--;){if(se===A||A!==null&&se===A.alternate)break t;se=sr(se),A=sr(A)}se=null}else se=null;L!==null&&y_(B,x,L,se,!1),Q!==null&&Fe!==null&&y_(B,Fe,Q,se,!0)}}e:{if(x=C?Br(C):window,L=x.nodeName&&x.nodeName.toLowerCase(),L==="select"||L==="input"&&x.type==="file")var W=Gp;else if(Fp(x))if(Yp)W=MS;else{W=DS;var fe=xS}else L=x.nodeName,!L||L.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?C&&nc(C.elementType)&&(W=Gp):W=IS;if(W&&(W=W(t,C))){Vp(B,W,a,U);break e}fe&&fe(t,x,C),t==="focusout"&&C&&x.type==="number"&&C.memoizedProps.value!=null&&tc(x,"number",x.value)}switch(fe=C?Br(C):window,t){case"focusin":(Fp(fe)||fe.contentEditable==="true")&&(Us=fe,gc=C,Wr=null);break;case"focusout":Wr=gc=Us=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,em(B,a,U);break;case"selectionchange":if(US)break;case"keydown":case"keyup":em(B,a,U)}var X;if(hc)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Ls?jp(t,a)&&(Z="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(zp&&a.locale!=="ko"&&(Ls||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Ls&&(X=Mp()):(ai=U,lc="value"in ai?ai.value:ai.textContent,Ls=!0)),fe=To(C,Z),0<fe.length&&(Z=new Up(Z,t,null,a,U),B.push({event:Z,listeners:fe}),X?Z.data=X:(X=qp(a),X!==null&&(Z.data=X)))),(X=CS?RS(t,a):AS(t,a))&&(Z=To(C,"onBeforeInput"),0<Z.length&&(fe=new Up("onBeforeInput","beforeinput",null,a,U),B.push({event:fe,listeners:Z}),fe.data=X)),yT(B,t,C,a,U)}g_(B,s)})}function Sa(t,s,a){return{instance:t,listener:s,currentTarget:a}}function To(t,s){for(var a=s+"Capture",o=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Hr(t,a),c!=null&&o.unshift(Sa(t,c,h)),c=Hr(t,s),c!=null&&o.push(Sa(t,c,h))),t=t.return}return o}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,s,a,o,c){for(var h=s._reactName,g=[];a!==null&&a!==o;){var v=a,b=v.alternate,C=v.stateNode;if(v=v.tag,b!==null&&b===o)break;v!==5&&v!==26&&v!==27||C===null||(b=C,c?(C=Hr(a,h),C!=null&&g.unshift(Sa(a,C,b))):c||(C=Hr(a,h),C!=null&&g.push(Sa(a,C,b)))),a=a.return}g.length!==0&&t.push({event:s,listeners:g})}var ST=/\r\n?/g,TT=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(ST,`
`).replace(TT,"")}function E_(t,s){return s=v_(s),v_(t)===s}function wo(){}function Re(t,s,a,o,c,h){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Is(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Is(t,""+o);break;case"className":Dl(t,"class",o);break;case"tabIndex":Dl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dl(t,a,o);break;case"style":xp(t,o,h);break;case"data":if(s!=="object"){Dl(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(s!=="input"&&Re(t,s,"name",c.name,c,null),Re(t,s,"formEncType",c.formEncType,c,null),Re(t,s,"formMethod",c.formMethod,c,null),Re(t,s,"formTarget",c.formTarget,c,null)):(Re(t,s,"encType",c.encType,c,null),Re(t,s,"method",c.method,c,null),Re(t,s,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=wo);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=kl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ge("beforetoggle",t),ge("toggle",t),xl(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zb.get(a)||a,xl(t,a,o))}}function jf(t,s,a,o,c,h){switch(a){case"style":xp(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Is(t,o):(typeof o=="number"||typeof o=="bigint")&&Is(t,""+o);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=wo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),h=t[bt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(s,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):xl(t,a,o)}}}function ot(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var o=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Re(t,s,h,g,a,null)}}c&&Re(t,s,"srcSet",a.srcSet,a,null),o&&Re(t,s,"src",a.src,a,null);return;case"input":ge("invalid",t);var v=h=g=c=null,b=null,C=null;for(o in a)if(a.hasOwnProperty(o)){var U=a[o];if(U!=null)switch(o){case"name":c=U;break;case"type":g=U;break;case"checked":b=U;break;case"defaultChecked":C=U;break;case"value":h=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:Re(t,s,o,U,a,null)}}Rp(t,h,v,b,C,g,c,!1),Il(t);return;case"select":ge("invalid",t),o=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Re(t,s,c,v,a,null)}s=h,a=g,t.multiple=!!o,s!=null?Ds(t,!!o,s,!1):a!=null&&Ds(t,!!o,a,!0);return;case"textarea":ge("invalid",t),h=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Re(t,s,g,v,a,null)}Np(t,o,c,h),Il(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Re(t,s,b,o,a,null)}return;case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(o=0;o<ba.length;o++)ge(ba[o],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Re(t,s,C,o,a,null)}return;default:if(nc(s)){for(U in a)a.hasOwnProperty(U)&&(o=a[U],o!==void 0&&jf(t,s,U,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Re(t,s,v,o,a,null))}function wT(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,b=null,C=null,U=null;for(L in a){var B=a[L];if(a.hasOwnProperty(L)&&B!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":b=B;default:o.hasOwnProperty(L)||Re(t,s,L,null,o,B)}}for(var x in o){var L=o[x];if(B=a[x],o.hasOwnProperty(x)&&(L!=null||B!=null))switch(x){case"type":h=L;break;case"name":c=L;break;case"checked":C=L;break;case"defaultChecked":U=L;break;case"value":g=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,s));break;default:L!==B&&Re(t,s,x,L,o,B)}}ec(t,g,v,b,C,U,h,c);return;case"select":L=g=v=x=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":L=b;default:o.hasOwnProperty(h)||Re(t,s,h,null,o,b)}for(c in o)if(h=o[c],b=a[c],o.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":x=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==b&&Re(t,s,c,h,o,b)}s=v,a=g,o=L,x!=null?Ds(t,!!a,x,!1):!!o!=!!a&&(s!=null?Ds(t,!!a,s,!0):Ds(t,!!a,a?[]:"",!1));return;case"textarea":L=x=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Re(t,s,v,null,o,c)}for(g in o)if(c=o[g],h=a[g],o.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":x=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Re(t,s,g,c,o,h)}Ap(t,x,L);return;case"option":for(var Q in a)if(x=a[Q],a.hasOwnProperty(Q)&&x!=null&&!o.hasOwnProperty(Q))switch(Q){case"selected":t.selected=!1;break;default:Re(t,s,Q,null,o,x)}for(b in o)if(x=o[b],L=a[b],o.hasOwnProperty(b)&&x!==L&&(x!=null||L!=null))switch(b){case"selected":t.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Re(t,s,b,x,o,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)x=a[se],a.hasOwnProperty(se)&&x!=null&&!o.hasOwnProperty(se)&&Re(t,s,se,null,o,x);for(C in o)if(x=o[C],L=a[C],o.hasOwnProperty(C)&&x!==L&&(x!=null||L!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,s));break;default:Re(t,s,C,x,o,L)}return;default:if(nc(s)){for(var Fe in a)x=a[Fe],a.hasOwnProperty(Fe)&&x!==void 0&&!o.hasOwnProperty(Fe)&&jf(t,s,Fe,void 0,o,x);for(U in o)x=o[U],L=a[U],!o.hasOwnProperty(U)||x===L||x===void 0&&L===void 0||jf(t,s,U,x,o,L);return}}for(var A in a)x=a[A],a.hasOwnProperty(A)&&x!=null&&!o.hasOwnProperty(A)&&Re(t,s,A,null,o,x);for(B in o)x=o[B],L=a[B],!o.hasOwnProperty(B)||x===L||x==null&&L==null||Re(t,s,B,x,o,L)}var qf=null,Ff=null;function Co(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Vf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gf=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(NT)}:T_;function NT(t){setTimeout(function(){throw t})}function Yf(t,s){var a=s,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){t.removeChild(c),xa(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);xa(s)}function Kf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),Ju(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OT(t,s,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[zr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function xT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function en(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}function C_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function R_(t,s,a){switch(s=Co(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Qt=new Map,A_=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Hn=Y.d;Y.d={f:DT,r:IT,D:MT,C:kT,L:LT,m:UT,X:zT,S:PT,M:BT};function DT(){var t=Hn.f(),s=yo();return t||s}function IT(t){var s=Ns(t);s!==null&&s.tag===5&&s.type==="form"?eg(s):Hn.r(t)}var rr=typeof document>"u"?null:document;function N_(t,s,a){var o=rr;if(o&&typeof s=="string"&&s){var c=Bt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),A_.has(c)||(A_.add(c),t={rel:t,crossOrigin:a,href:s},o.querySelector(c)===null&&(s=o.createElement("link"),ot(s,"link",t),Je(s),o.head.appendChild(s)))}}function MT(t){Hn.D(t),N_("dns-prefetch",t,null)}function kT(t,s){Hn.C(t,s),N_("preconnect",t,s)}function LT(t,s,a){Hn.L(t,s,a);var o=rr;if(o&&t&&s){var c='link[rel="preload"][as="'+Bt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Bt(a.imageSizes)+'"]')):c+='[href="'+Bt(t)+'"]';var h=c;switch(s){case"style":h=ar(t);break;case"script":h=lr(t)}Qt.has(h)||(t=re({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Qt.set(h,t),o.querySelector(c)!==null||s==="style"&&o.querySelector(Ta(h))||s==="script"&&o.querySelector(wa(h))||(s=o.createElement("link"),ot(s,"link",t),Je(s),o.head.appendChild(s)))}}function UT(t,s){Hn.m(t,s);var a=rr;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Bt(o)+'"][href="'+Bt(t)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=lr(t)}if(!Qt.has(h)&&(t=re({rel:"modulepreload",href:t},s),Qt.set(h,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wa(h)))return}o=a.createElement("link"),ot(o,"link",t),Je(o),a.head.appendChild(o)}}}function PT(t,s,a){Hn.S(t,s,a);var o=rr;if(o&&t){var c=Os(o).hoistableStyles,h=ar(t);s=s||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Ta(h)))v.loading=5;else{t=re({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Qt.get(h))&&Wf(t,a);var b=g=o.createElement("link");Je(b),ot(b,"link",t),b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Ao(g,s,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function zT(t,s){Hn.X(t,s);var a=rr;if(a&&t){var o=Os(a).hoistableScripts,c=lr(t),h=o.get(c);h||(h=a.querySelector(wa(c)),h||(t=re({src:t,async:!0},s),(s=Qt.get(c))&&Qf(t,s),h=a.createElement("script"),Je(h),ot(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function BT(t,s){Hn.M(t,s);var a=rr;if(a&&t){var o=Os(a).hoistableScripts,c=lr(t),h=o.get(c);h||(h=a.querySelector(wa(c)),h||(t=re({src:t,async:!0,type:"module"},s),(s=Qt.get(c))&&Qf(t,s),h=a.createElement("script"),Je(h),ot(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function O_(t,s,a,o){var c=(c=ii.current)?Ro(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ar(a.href),a=Os(c).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ar(a.href);var h=Os(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Ta(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(t,a),h||HT(c,t,a,g.state))),s&&o===null)throw Error(r(528,""));return g}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lr(a),a=Os(c).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ar(t){return'href="'+Bt(t)+'"'}function Ta(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return re({},t,{"data-precedence":t.precedence,precedence:null})}function HT(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),ot(s,"link",a),Je(s),t.head.appendChild(s))}function lr(t){return'[src="'+Bt(t)+'"]'}function wa(t){return"script[async]"+t}function D_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(o)return s.instance=o,Je(o),o;var c=re({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Je(o),ot(o,"style",c),Ao(o,a.precedence,t),s.instance=o;case"stylesheet":c=ar(a.href);var h=t.querySelector(Ta(c));if(h)return s.state.loading|=4,s.instance=h,Je(h),h;o=x_(a),(c=Qt.get(c))&&Wf(o,c),h=(t.ownerDocument||t).createElement("link"),Je(h);var g=h;return g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),ot(h,"link",o),s.state.loading|=4,Ao(h,a.precedence,t),s.instance=h;case"script":return h=lr(a.src),(c=t.querySelector(wa(h)))?(s.instance=c,Je(c),c):(o=a,(c=Qt.get(h))&&(o=re({},a),Qf(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),ot(c,"link",o),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Ao(o,a.precedence,t));return s.instance}function Ao(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===s)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Wf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Qf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var No=null;function I_(t,s,a){if(No===null){var o=new Map,c=No=new Map;c.set(a,o)}else c=No,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[zr]||h[ct]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(s)||"";g=t+g;var v=o.get(g);v?v.push(h):o.set(g,[h])}}return o}function M_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function jT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ca=null;function qT(){}function FT(t,s,a){if(Ca===null)throw Error(r(475));var o=Ca;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ar(a.href),h=t.querySelector(Ta(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Oo.bind(o),t.then(o,o)),s.state.loading|=4,s.instance=h,Je(h);return}h=t.ownerDocument||t,a=x_(a),(c=Qt.get(c))&&Wf(a,c),h=h.createElement("link"),Je(h);var g=h;g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),ot(h,"link",a),s.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(o.count++,s=Oo.bind(o),t.addEventListener("load",s),t.addEventListener("error",s))}}function VT(){if(Ca===null)throw Error(r(475));var t=Ca;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oo(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xo=null;function Xf(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xo=new Map,s.forEach(GT,t),xo=null,Oo.call(t))}function GT(t,s){if(!(s.state.loading&4)){var a=xo.get(t);if(a)var o=a.get(null);else{a=new Map,xo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=s.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||o,h===o&&a.set(null,c),a.set(g,c),this.count++,o=Oo.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var Ra={$$typeof:R,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function YT(t,s,a,o,c,h,g,v){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.hiddenUpdates=$u(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function L_(t,s,a,o,c,h,g,v,b,C,U,B){return t=new YT(t,s,a,g,v,b,C,B),s=1,h===!0&&(s|=24),h=Kt(3,null,null,s),t.current=h,h.stateNode=t,s=Ac(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:s},of(h),t}function U_(t){return t?(t=Bs,t):Bs}function P_(t,s,a,o,c,h){c=U_(c),o.context===null?o.context=c:o.pendingContext=c,o=pi(s),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=mi(t,o,s),a!==null&&(yt(a,t,s),ua(a,t,s))}function z_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function $f(t,s){z_(t,s),(t=t.alternate)&&z_(t,s)}function B_(t){if(t.tag===13){var s=li(t,67108864);s!==null&&yt(s,t,67108864),$f(t,67108864)}}var Do=!0;function KT(t,s,a,o){var c=G.T;G.T=null;var h=Y.p;try{Y.p=2,Zf(t,s,a,o)}finally{Y.p=h,G.T=c}}function WT(t,s,a,o){var c=G.T;G.T=null;var h=Y.p;try{Y.p=8,Zf(t,s,a,o)}finally{Y.p=h,G.T=c}}function Zf(t,s,a,o){if(Do){var c=Jf(o);if(c===null)Hf(t,s,o,Io,a),j_(t,o);else if(XT(c,t,s,a,o))o.stopPropagation();else if(j_(t,o),s&4&&-1<QT.indexOf(t)){for(;c!==null;){var h=Ns(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ji(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var b=1<<31-Dt(g);v.entanglements[1]|=b,g&=~b}gn(h),(Be&6)===0&&(mo=fn()+500,Ea(0))}}break;case 13:v=li(h,2),v!==null&&yt(v,h,2),yo(),$f(h,2)}if(h=Jf(o),h===null&&Hf(t,s,o,Io,a),h===c)break;c=h}c!==null&&o.stopPropagation()}else Hf(t,s,o,null,a)}}function Jf(t){return t=sc(t),eh(t)}var Io=null;function eh(t){if(Io=null,t=qi(t),t!==null){var s=te(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=xe(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Io=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kb()){case cp:return 2;case fp:return 8;case Rl:case Lb:return 32;case hp:return 268435456;default:return 32}default:return 32}}var th=!1,Si=null,Ti=null,wi=null,Aa=new Map,Na=new Map,Ci=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,s){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Aa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(s.pointerId)}}function Oa(t,s,a,o,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},s!==null&&(s=Ns(s),s!==null&&B_(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function XT(t,s,a,o,c){switch(s){case"focusin":return Si=Oa(Si,t,s,a,o,c),!0;case"dragenter":return Ti=Oa(Ti,t,s,a,o,c),!0;case"mouseover":return wi=Oa(wi,t,s,a,o,c),!0;case"pointerover":var h=c.pointerId;return Aa.set(h,Oa(Aa.get(h)||null,t,s,a,o,c)),!0;case"gotpointercapture":return h=c.pointerId,Na.set(h,Oa(Na.get(h)||null,t,s,a,o,c)),!0}return!1}function q_(t){var s=qi(t.target);if(s!==null){var a=te(s);if(a!==null){if(s=a.tag,s===13){if(s=xe(a),s!==null){t.blockedOn=s,Vb(t.priority,function(){if(a.tag===13){var o=Ut(),c=li(a,o);c!==null&&yt(c,a,o),$f(a,o)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ic=o,a.target.dispatchEvent(o),ic=null}else return s=Ns(a),s!==null&&B_(s),t.blockedOn=a,!1;s.shift()}return!0}function F_(t,s,a){Mo(t)&&a.delete(s)}function $T(){th=!1,Si!==null&&Mo(Si)&&(Si=null),Ti!==null&&Mo(Ti)&&(Ti=null),wi!==null&&Mo(wi)&&(wi=null),Aa.forEach(F_),Na.forEach(F_)}function ko(t,s){t.blockedOn===s&&(t.blockedOn=null,th||(th=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$T)))}var Lo=null;function V_(t){Lo!==t&&(Lo=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lo===t&&(Lo=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],c=t[s+2];if(typeof o!="function"){if(eh(o||a)===null)continue;break}var h=Ns(a);h!==null&&(t.splice(s,3),s-=3,Fc(h,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function xa(t){function s(b){return ko(b,t)}Si!==null&&ko(Si,t),Ti!==null&&ko(Ti,t),wi!==null&&ko(wi,t),Aa.forEach(s),Na.forEach(s);for(var a=0;a<Ci.length;a++){var o=Ci[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Ci.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],g=c[bt]||null;if(typeof h=="function")g||V_(a);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[bt]||null)v=g.formAction;else if(eh(c)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),V_(a)}}}function nh(t){this._internalRoot=t}Uo.prototype.render=nh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Ut();P_(a,o,t,s,null,null)},Uo.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;t.tag===0&&nr(),P_(t.current,2,null,t,null,null),yo(),s[As]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var s=yp();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ci.length&&s!==0&&s<Ci[a].priority;a++);Ci.splice(a,0,t),a===0&&q_(t)}};var G_=e.version;if(G_!=="19.0.0")throw Error(r(527,G_,"19.0.0"));Y.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=H(s),t=t!==null?J(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:qi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Lr=Po.inject(ZT),xt=Po}catch{}}return Ia.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",c=og,h=ug,g=cg,v=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(v=s.unstable_transitionCallbacks)),s=L_(t,1,!1,null,null,a,o,c,h,g,v,null),t[As]=s.current,Bf(t.nodeType===8?t.parentNode:t),new nh(s)},Ia.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,c="",h=og,g=ug,v=cg,b=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),s=L_(t,1,!0,s,a??null,o,c,h,g,v,b,C),s.context=U_(null),a=s.current,o=Ut(),c=pi(o),c.callback=null,mi(a,c,o),s.current.lanes=o,Pr(s,o),gn(s),t[As]=s.current,Bf(t),new Uo(s)},Ia.version="19.0.0",Ia}var ty;function ow(){if(ty)return rh.exports;ty=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),rh.exports=lw(),rh.exports}var uw=ow(),Ma={},ny;function cw(){if(ny)return Ma;ny=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.parse=f,Ma.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,R){const S=new u,D=E.length;if(D<2)return S;const I=(R==null?void 0:R.decode)||_;let P=0;do{const q=E.indexOf("=",P);if(q===-1)break;const j=E.indexOf(";",P),ie=j===-1?D:j;if(q>ie){P=E.lastIndexOf(";",q-1)+1;continue}const K=d(E,P,q),_e=p(E,q,K),we=E.slice(K,_e);if(S[we]===void 0){let Pe=d(E,q+1,ie),G=p(E,ie,Pe);const re=I(E.slice(Pe,G));S[we]=re}P=ie+1}while(P<D);return S}function d(E,R,S){do{const D=E.charCodeAt(R);if(D!==32&&D!==9)return R}while(++R<S);return S}function p(E,R,S){for(;R>S;){const D=E.charCodeAt(--R);if(D!==32&&D!==9)return R+1}return S}function m(E,R,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=D(R);if(!e.test(I))throw new TypeError(`argument val is invalid: ${R}`);let P=E+"="+I;if(!S)return P;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);P+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);P+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);P+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);P+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(P+="; HttpOnly"),S.secure&&(P+="; Secure"),S.partitioned&&(P+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return P}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function y(E){return l.call(E)==="[object Date]"}return Ma}cw();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function fw(n={}){function e(l,u){let{pathname:f="/",search:d="",hash:p=""}=ws(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Nh("",{pathname:f,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let f=l.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof u=="string"?u:Wa(u))}function r(l,u){an(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return dw(e,i,r,n)}function He(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function an(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function sy(n,e){return{usr:n.state,key:n.key,idx:e}}function Nh(n,e,i=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:i,key:e&&e.key||r||hw()}}function Wa({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function ws(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function dw(n,e,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,f=l.history,d="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function y(){d="POP";let I=_(),P=I==null?null:I-m;m=I,p&&p({action:d,location:D.location,delta:P})}function E(I,P){d="PUSH";let q=Nh(D.location,I,P);i&&i(q,I),m=_()+1;let j=sy(q,m),ie=D.createHref(q);try{f.pushState(j,"",ie)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(ie)}u&&p&&p({action:d,location:D.location,delta:1})}function R(I,P){d="REPLACE";let q=Nh(D.location,I,P);i&&i(q,I),m=_();let j=sy(q,m),ie=D.createHref(q);f.replaceState(j,"",ie),u&&p&&p({action:d,location:D.location,delta:0})}function S(I){let P=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof I=="string"?I:Wa(I);return q=q.replace(/ $/,"%20"),He(P,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,P)}let D={get action(){return d},get location(){return n(l,f)},listen(I){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(iy,y),p=I,()=>{l.removeEventListener(iy,y),p=null}},createHref(I){return e(l,I)},createURL:S,encodeLocation(I){let P=S(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:R,go(I){return f.go(I)}};return D}function Iv(n,e,i="/"){return pw(n,e,i,!1)}function pw(n,e,i,r){let l=typeof e=="string"?ws(e):e,u=Wn(l.pathname||"/",i);if(u==null)return null;let f=Mv(n);mw(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let m=Rw(u);d=ww(f[p],m,r)}return d}function Mv(n,e=[],i=[],r=""){let l=(u,f,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(He(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=Gn([r,p.relativePath]),_=i.concat(p);u.children&&u.children.length>0&&(He(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Mv(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:Sw(m,u.index),routesMeta:_})};return n.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,f);else for(let p of kv(u.path))l(u,f,p)}),e}function kv(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let f=kv(r.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&d.push(...f),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function mw(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:Tw(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var gw=/^:[\w-]+$/,_w=3,yw=2,vw=1,Ew=10,bw=-2,ry=n=>n==="*";function Sw(n,e){let i=n.split("/"),r=i.length;return i.some(ry)&&(r+=bw),e&&(r+=yw),i.filter(l=>!ry(l)).reduce((l,u)=>l+(gw.test(u)?_w:u===""?vw:Ew),r)}function Tw(n,e){return n.length===e.length&&n.slice(0,-1).every((r,l)=>r===e[l])?n[n.length-1]-e[e.length-1]:0}function ww(n,e,i=!1){let{routesMeta:r}=n,l={},u="/",f=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",y=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),E=p.route;if(!y&&m&&i&&!r[r.length-1].route.index&&(y=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:Gn([u,y.pathname]),pathnameBase:xw(Gn([u,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(u=Gn([u,y.pathnameBase]))}return f}function Jo(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=Cw(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:y},E)=>{if(_==="*"){let S=d[E]||"";f=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const R=d[E];return y&&!R?m[_]=void 0:m[_]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:n}}function Cw(n,e=!1,i=!0){an(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Rw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function Aw(n,e="/"){let{pathname:i,search:r="",hash:l=""}=typeof n=="string"?ws(n):n;return{pathname:i?i.startsWith("/")?i:Nw(i,e):e,search:Dw(r),hash:Iw(l)}}function Nw(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function uh(n,e,i,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ow(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Lv(n){let e=Ow(n);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Uv(n,e,i,r=!1){let l;typeof n=="string"?l=ws(n):(l={...n},He(!l.pathname||!l.pathname.includes("?"),uh("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),uh("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),uh("#","search","hash",l)));let u=n===""||l.pathname==="",f=u?"/":l.pathname,d;if(f==null)d=i;else{let y=e.length-1;if(!r&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),y-=1;l.pathname=E.join("/")}d=y>=0?e[y]:"/"}let p=Aw(l,d),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Gn=n=>n.join("/").replace(/\/\/+/g,"/"),xw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Mw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Pv=["POST","PUT","PATCH","DELETE"];new Set(Pv);var kw=["GET",...Pv];new Set(kw);var wr=M.createContext(null);wr.displayName="DataRouter";var Cu=M.createContext(null);Cu.displayName="DataRouterState";var zv=M.createContext({isTransitioning:!1});zv.displayName="ViewTransition";var Lw=M.createContext(new Map);Lw.displayName="Fetchers";var Uw=M.createContext(null);Uw.displayName="Await";var En=M.createContext(null);En.displayName="Navigation";var ll=M.createContext(null);ll.displayName="Location";var Jn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var ad=M.createContext(null);ad.displayName="RouteError";function Pw(n,{relative:e}={}){He(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=M.useContext(En),{hash:l,pathname:u,search:f}=ul(n,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:Gn([i,u])),r.createHref({pathname:d,search:f,hash:l})}function ol(){return M.useContext(ll)!=null}function bn(){return He(ol(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ll).location}var Bv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hv(n){M.useContext(En).static||M.useLayoutEffect(n)}function Ru(){let{isDataRoute:n}=M.useContext(Jn);return n?Xw():zw()}function zw(){He(ol(),"useNavigate() may be used only in the context of a <Router> component.");let n=M.useContext(wr),{basename:e,navigator:i}=M.useContext(En),{matches:r}=M.useContext(Jn),{pathname:l}=bn(),u=JSON.stringify(Lv(r)),f=M.useRef(!1);return Hv(()=>{f.current=!0}),M.useCallback((p,m={})=>{if(an(f.current,Bv),!f.current)return;if(typeof p=="number"){i.go(p);return}let _=Uv(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gn([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,n])}M.createContext(null);function ul(n,{relative:e}={}){let{matches:i}=M.useContext(Jn),{pathname:r}=bn(),l=JSON.stringify(Lv(i));return M.useMemo(()=>Uv(n,JSON.parse(l),r,e==="path"),[n,l,r,e])}function Bw(n,e){return jv(n,e)}function jv(n,e,i,r){var q;He(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=M.useContext(En),{matches:f}=M.useContext(Jn),d=f[f.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",y=d&&d.route;{let j=y&&y.path||"";qv(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=bn(),R;if(e){let j=typeof e=="string"?ws(e):e;He(_==="/"||((q=j.pathname)==null?void 0:q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),R=j}else R=E;let S=R.pathname||"/",D=S;if(_!=="/"){let j=_.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let I=!u&&i&&i.matches&&i.matches.length>0?i.matches:Iv(n,{pathname:D});an(y||I!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),an(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Vw(I&&I.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Gn([_,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Gn([_,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),f,i,r);return e&&P?M.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},P):P}function Hw(){let n=Qw(),e=Mw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),i?M.createElement("pre",{style:l},i):null,f)}var jw=M.createElement(Hw,null),qw=class extends M.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?M.createElement(Jn.Provider,{value:this.props.routeContext},M.createElement(ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fw({routeContext:n,match:e,children:i}){let r=M.useContext(wr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Jn.Provider,{value:n},i)}function Vw(n,e=[],i=null,r=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);He(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,d=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:y}=i,E=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let y,E=!1,R=null,S=null;i&&(y=u&&m.route.id?u[m.route.id]:void 0,R=m.route.errorElement||jw,f&&(d<0&&_===0?(qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):d===_&&(E=!0,S=m.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,_+1)),I=()=>{let P;return y?P=R:E?P=S:m.route.Component?P=M.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,M.createElement(Fw,{match:m,routeContext:{outlet:p,matches:D,isDataRoute:i!=null},children:P})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?M.createElement(qw,{location:i.location,revalidation:i.revalidation,component:R,error:y,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}function ld(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(n){let e=M.useContext(wr);return He(e,ld(n)),e}function Yw(n){let e=M.useContext(Cu);return He(e,ld(n)),e}function Kw(n){let e=M.useContext(Jn);return He(e,ld(n)),e}function od(n){let e=Kw(n),i=e.matches[e.matches.length-1];return He(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Ww(){return od("useRouteId")}function Qw(){var r;let n=M.useContext(ad),e=Yw("useRouteError"),i=od("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[i]}function Xw(){let{router:n}=Gw("useNavigate"),e=od("useNavigate"),i=M.useRef(!1);return Hv(()=>{i.current=!0}),M.useCallback(async(l,u={})=>{an(i.current,Bv),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var ay={};function qv(n,e,i){!e&&!ay[n]&&(ay[n]=!0,an(!1,i))}M.memo($w);function $w({routes:n,future:e,state:i}){return jv(n,void 0,i,e)}function qo(n){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zw({basename:n="/",children:e=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){He(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=ws(i));let{pathname:p="/",search:m="",hash:_="",state:y=null,key:E="default"}=i,R=M.useMemo(()=>{let S=Wn(p,f);return S==null?null:{location:{pathname:S,search:m,hash:_,state:y,key:E},navigationType:r}},[f,p,m,_,y,E,r]);return an(R!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:M.createElement(En.Provider,{value:d},M.createElement(ll.Provider,{children:e,value:R}))}function Jw({children:n,location:e}){return Bw(Oh(n),e)}function Oh(n,e=[]){let i=[];return M.Children.forEach(n,(r,l)=>{if(!M.isValidElement(r))return;let u=[...e,l];if(r.type===M.Fragment){i.push.apply(i,Oh(r.props.children,u));return}He(r.type===qo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Oh(r.props.children,u)),i.push(f)}),i}var Fo="get",Vo="application/x-www-form-urlencoded";function Au(n){return n!=null&&typeof n.tagName=="string"}function eC(n){return Au(n)&&n.tagName.toLowerCase()==="button"}function tC(n){return Au(n)&&n.tagName.toLowerCase()==="form"}function nC(n){return Au(n)&&n.tagName.toLowerCase()==="input"}function iC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sC(n,e){return n.button===0&&(!e||e==="_self")&&!iC(n)}var zo=null;function rC(){if(zo===null)try{new FormData(document.createElement("form"),0),zo=!1}catch{zo=!0}return zo}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ch(n){return n!=null&&!aC.has(n)?(an(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vo}"`),null):n}function lC(n,e){let i,r,l,u,f;if(tC(n)){let d=n.getAttribute("action");r=d?Wn(d,e):null,i=n.getAttribute("method")||Fo,l=ch(n.getAttribute("enctype"))||Vo,u=new FormData(n)}else if(eC(n)||nC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(r=p?Wn(p,e):null,i=n.getAttribute("formmethod")||d.getAttribute("method")||Fo,l=ch(n.getAttribute("formenctype"))||ch(d.getAttribute("enctype"))||Vo,u=new FormData(d,n),!rC()){let{name:m,type:_,value:y}=n;if(_==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,y)}}else{if(Au(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Fo,r=null,l=Vo,f=n}return u&&l==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:f}}function ud(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oC(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cC(n,e,i){let r=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await oC(u,i);return f.links?f.links():[]}return[]}));return pC(r.flat(1).filter(uC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ly(n,e,i,r,l,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>{var _;return i[m].pathname!==p.pathname||((_=i[m].route.path)==null?void 0:_.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||d(p,m)):u==="data"?e.filter((p,m)=>{var y;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fC(n,e,{includeHydrateFallback:i}={}){return hC(n.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function hC(n){return[...new Set(n)]}function dC(n){let e={},i=Object.keys(n).sort();for(let r of i)e[r]=n[r];return e}function pC(n,e){let i=new Set;return new Set(e),n.reduce((r,l)=>{let u=JSON.stringify(dC(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}function mC(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&Wn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Fv(){let n=M.useContext(wr);return ud(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gC(){let n=M.useContext(Cu);return ud(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cd=M.createContext(void 0);cd.displayName="FrameworkContext";function Vv(){let n=M.useContext(cd);return ud(n,"You must render this element inside a <HydratedRouter> element"),n}function _C(n,e){let i=M.useContext(cd),[r,l]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,E=M.useRef(null);M.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let D=P=>{P.forEach(q=>{f(q.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),M.useEffect(()=>{if(r){let D=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(D)}}},[r]);let R=()=>{l(!0)},S=()=>{l(!1),f(!1)};return i?n!=="intent"?[u,E,{}]:[u,E,{onFocus:ka(d,R),onBlur:ka(p,S),onMouseEnter:ka(m,R),onMouseLeave:ka(_,S),onTouchStart:ka(y,R)}]:[!1,E,{}]}function ka(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function yC({page:n,...e}){let{router:i}=Fv(),r=M.useMemo(()=>Iv(i.routes,n,i.basename),[i.routes,n,i.basename]);return r?M.createElement(EC,{page:n,matches:r,...e}):null}function vC(n){let{manifest:e,routeModules:i}=Vv(),[r,l]=M.useState([]);return M.useEffect(()=>{let u=!1;return cC(n,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[n,e,i]),r}function EC({page:n,matches:e,...i}){let r=bn(),{manifest:l,routeModules:u}=Vv(),{basename:f}=Fv(),{loaderData:d,matches:p}=gC(),m=M.useMemo(()=>ly(n,e,p,l,r,"data"),[n,e,p,l,r]),_=M.useMemo(()=>ly(n,e,p,l,r,"assets"),[n,e,p,l,r]),y=M.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,D=!1;if(e.forEach(P=>{var j;let q=l.routes[P.route.id];!q||!q.hasLoader||(!m.some(ie=>ie.route.id===P.route.id)&&P.route.id in d&&((j=u[P.route.id])!=null&&j.shouldRevalidate)||q.hasClientLoader?D=!0:S.add(P.route.id))}),S.size===0)return[];let I=mC(n,f);return D&&S.size>0&&I.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[f,d,r,l,m,e,n,u]),E=M.useMemo(()=>fC(_,l),[_,l]),R=vC(_);return M.createElement(M.Fragment,null,y.map(S=>M.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),E.map(S=>M.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),R.map(({key:S,link:D})=>M.createElement("link",{key:S,...D})))}function bC(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Gv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gv&&(window.__reactRouterVersion="7.4.0")}catch{}function SC({basename:n,children:e,window:i}){let r=M.useRef();r.current==null&&(r.current=fw({window:i,v5Compat:!0}));let l=r.current,[u,f]=M.useState({action:l.action,location:l.location}),d=M.useCallback(p=>{M.startTransition(()=>f(p))},[f]);return M.useLayoutEffect(()=>l.listen(d),[l,d]),M.createElement(Zw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var Yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kv=M.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:f,state:d,target:p,to:m,preventScrollReset:_,viewTransition:y,...E},R){let{basename:S}=M.useContext(En),D=typeof m=="string"&&Yv.test(m),I,P=!1;if(typeof m=="string"&&D&&(I=m,Gv))try{let G=new URL(window.location.href),re=m.startsWith("//")?new URL(G.protocol+m):new URL(m),mt=Wn(re.pathname,S);re.origin===G.origin&&mt!=null?m=mt+re.search+re.hash:P=!0}catch{an(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Pw(m,{relative:l}),[j,ie,K]=_C(r,E),_e=RC(m,{replace:f,state:d,target:p,preventScrollReset:_,relative:l,viewTransition:y});function we(G){e&&e(G),G.defaultPrevented||_e(G)}let Pe=M.createElement("a",{...E,...K,href:I||q,onClick:P||u?e:we,ref:bC(R,ie),target:p,"data-discover":!D&&i==="render"?"true":void 0});return j&&!D?M.createElement(M.Fragment,null,Pe,M.createElement(yC,{page:q})):Pe});Kv.displayName="Link";var TC=M.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:f,viewTransition:d,children:p,...m},_){let y=ul(f,{relative:m.relative}),E=bn(),R=M.useContext(Cu),{navigator:S,basename:D}=M.useContext(En),I=R!=null&&DC(y)&&d===!0,P=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,q=E.pathname,j=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(q=q.toLowerCase(),j=j?j.toLowerCase():null,P=P.toLowerCase()),j&&D&&(j=Wn(j,D)||j);const ie=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let K=q===P||!l&&q.startsWith(P)&&q.charAt(ie)==="/",_e=j!=null&&(j===P||!l&&j.startsWith(P)&&j.charAt(P.length)==="/"),we={isActive:K,isPending:_e,isTransitioning:I},Pe=K?e:void 0,G;typeof r=="function"?G=r(we):G=[r,K?"active":null,_e?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let re=typeof u=="function"?u(we):u;return M.createElement(Kv,{...m,"aria-current":Pe,className:G,ref:_,style:re,to:f,viewTransition:d},typeof p=="function"?p(we):p)});TC.displayName="NavLink";var wC=M.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:l,state:u,method:f=Fo,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:y,...E},R)=>{let S=OC(),D=xC(d,{relative:m}),I=f.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&Yv.test(d),q=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let ie=j.nativeEvent.submitter,K=(ie==null?void 0:ie.getAttribute("formmethod"))||f;S(ie||j.currentTarget,{fetcherKey:e,method:K,navigate:i,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:y})};return M.createElement("form",{ref:R,method:I,action:D,onSubmit:r?p:q,...E,"data-discover":!P&&n==="render"?"true":void 0})});wC.displayName="Form";function CC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wv(n){let e=M.useContext(wr);return He(e,CC(n)),e}function RC(n,{target:e,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:f}={}){let d=Ru(),p=bn(),m=ul(n,{relative:u});return M.useCallback(_=>{if(sC(_,e)){_.preventDefault();let y=i!==void 0?i:Wa(p)===Wa(m);d(n,{replace:y,state:r,preventScrollReset:l,relative:u,viewTransition:f})}},[p,d,m,i,r,e,n,l,u,f])}var AC=0,NC=()=>`__${String(++AC)}__`;function OC(){let{router:n}=Wv("useSubmit"),{basename:e}=M.useContext(En),i=Ww();return M.useCallback(async(r,l={})=>{let{action:u,method:f,encType:d,formData:p,body:m}=lC(r,e);if(l.navigate===!1){let _=l.fetcherKey||NC();await n.fetch(_,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function xC(n,{relative:e}={}){let{basename:i}=M.useContext(En),r=M.useContext(Jn);He(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...ul(n||".",{relative:e})},f=bn();if(n==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let _=d.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Gn([i,u.pathname])),Wa(u)}function DC(n,e={}){let i=M.useContext(zv);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Wv("useViewTransitionState"),l=ul(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Wn(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=Wn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Jo(l.pathname,f)!=null||Jo(l.pathname,u)!=null}new TextEncoder;const IC=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(n,e){if(!n)throw Cr(e)},Cr=function(n){return new Error("Firebase Database ("+Qv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(n){const e=[];let i=0;for(let r=0;r<n.length;r++){let l=n.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},MC=function(n){const e=[];let i=0,r=0;for(;i<n.length;){const l=n[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],f=n[i++],d=n[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],f=n[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,d=f?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,_=u>>2,y=(u&3)<<4|d>>4;let E=(d&15)<<2|m>>6,R=m&63;p||(R=64,f||(E=64)),r.push(i[_],i[y],i[E],i[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],d=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const y=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||d==null||m==null||y==null)throw new kC;const E=u<<2|d>>4;if(r.push(E),m!==64){const R=d<<4&240|m>>2;if(r.push(R),y!==64){const S=m<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $v=function(n){const e=Xv(n);return fd.encodeByteArray(e,!0)},eu=function(n){return $v(n).replace(/\./g,"")},tu=function(n){try{return fd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){return Zv(void 0,n)}function Zv(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!UC(i)||(n[i]=Zv(n[i],e[i]));return n}function UC(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=()=>PC().__FIREBASE_DEFAULTS__,BC=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},HC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tu(n[1]);return e&&JSON.parse(e)},hd=()=>{try{return IC()||zC()||BC()||HC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jv=n=>{var e,i;return(i=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},jC=n=>{const e=Jv(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},e0=()=>{var n;return(n=hd())===null||n===void 0?void 0:n.config},t0=n=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[eu(JSON.stringify(i)),eu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function FC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){const n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YC(){return Qv.NODE_ADMIN===!0}function KC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((n,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="FirebaseError";class zi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=QC,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?XC(u,r):"Error",d=`${this.serviceName}: ${f} (${l}).`;return new zi(l,d,r)}}function XC(n,e){return n.replace($C,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const $C=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){return JSON.parse(n)}function rt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(n){let e={},i={},r={},l="";try{const u=n.split(".");e=Qa(tu(u[0])||""),i=Qa(tu(u[1])||""),l=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:l}},ZC=function(n){const e=i0(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},JC=function(n){const e=i0(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vr(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function xh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nu(n,e,i){const r={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=e.call(i,n[l],l,n));return r}function ms(n,e){if(n===e)return!0;const i=Object.keys(n),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=n[l],f=e[l];if(uy(u)&&uy(f)){if(!ms(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function uy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(n){const e=[];for(const[i,r]of Object.entries(n))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ja(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const E=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=d^u&(f^d),_=1518500249):(m=u^f^d,_=1859775393):y<60?(m=u&f|d&(u|f),_=2400959708):(m=u^f^d,_=3395469782);const E=(l<<5|l>>>27)+m+p+_+r[y]&4294967295;p=d,d=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[l]>>u&255,++r;return e}}function tR(n,e){const i=new nR(n,e);return i.subscribe.bind(i)}class nR{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=fh),l.error===void 0&&(l.error=fh),l.complete===void 0&&(l.complete=fh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function fh(){}function pd(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=function(n){const e=[];let i=0;for(let r=0;r<n.length;r++){let l=n.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,F(r<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(r)-56320;l=65536+(u<<10)+f}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Ou=function(n){let e=0;for(let i=0;i<n.length;i++){const r=n.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n){return n&&n._delegate?n._delegate:n}class gs{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Nu;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(l)}return l}onInit(e,i){var r;const l=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(n){return n===us?void 0:n}function lR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rR(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ae||(Ae={}));const uR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},cR=Ae.INFO,fR={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},hR=(n,e,...i)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),l=fR[e];if(l)console[l](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class md{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const dR=(n,e)=>e.some(i=>n instanceof i);let cy,fy;function pR(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,Dh=new WeakMap,r0=new WeakMap,hh=new WeakMap,gd=new WeakMap;function gR(n){const e=new Promise((i,r)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(Ii(n.result)),l()},f=()=>{r(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&s0.set(i,n)}).catch(()=>{}),gd.set(e,n),e}function _R(n){if(Dh.has(n))return;const e=new Promise((i,r)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Dh.set(n,e)}let Ih={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Dh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||r0.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ii(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yR(n){Ih=n(Ih)}function vR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=n.call(dh(this),e,...i);return r0.set(r,e.sort?e.sort():[e]),Ii(r)}:mR().includes(n)?function(...e){return n.apply(dh(this),e),Ii(s0.get(this))}:function(...e){return Ii(n.apply(dh(this),e))}}function ER(n){return typeof n=="function"?vR(n):(n instanceof IDBTransaction&&_R(n),dR(n,pR())?new Proxy(n,Ih):n)}function Ii(n){if(n instanceof IDBRequest)return gR(n);if(hh.has(n))return hh.get(n);const e=ER(n);return e!==n&&(hh.set(n,e),gd.set(e,n)),e}const dh=n=>gd.get(n);function bR(n,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),d=Ii(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ii(f.result),p.oldVersion,p.newVersion,Ii(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const SR=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],ph=new Map;function hy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ph.get(e))return ph.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=TR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||SR.includes(i)))return;const u=async function(f,...d){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),l&&p.done]))[0]};return ph.set(e,u),u}yR(n=>({...n,get:(e,i,r)=>hy(e,i)||n.get(e,i,r),has:(e,i)=>!!hy(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function CR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mh="@firebase/app",dy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new md("@firebase/app"),RR="@firebase/app-compat",AR="@firebase/analytics-compat",NR="@firebase/analytics",OR="@firebase/app-check-compat",xR="@firebase/app-check",DR="@firebase/auth",IR="@firebase/auth-compat",MR="@firebase/database",kR="@firebase/data-connect",LR="@firebase/database-compat",UR="@firebase/functions",PR="@firebase/functions-compat",zR="@firebase/installations",BR="@firebase/installations-compat",HR="@firebase/messaging",jR="@firebase/messaging-compat",qR="@firebase/performance",FR="@firebase/performance-compat",VR="@firebase/remote-config",GR="@firebase/remote-config-compat",YR="@firebase/storage",KR="@firebase/storage-compat",WR="@firebase/firestore",QR="@firebase/vertexai",XR="@firebase/firestore-compat",$R="firebase",ZR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",JR={[Mh]:"fire-core",[RR]:"fire-core-compat",[NR]:"fire-analytics",[AR]:"fire-analytics-compat",[xR]:"fire-app-check",[OR]:"fire-app-check-compat",[DR]:"fire-auth",[IR]:"fire-auth-compat",[MR]:"fire-rtdb",[kR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[UR]:"fire-fn",[PR]:"fire-fn-compat",[zR]:"fire-iid",[BR]:"fire-iid-compat",[HR]:"fire-fcm",[jR]:"fire-fcm-compat",[qR]:"fire-perf",[FR]:"fire-perf-compat",[VR]:"fire-rc",[GR]:"fire-rc-compat",[YR]:"fire-gcs",[KR]:"fire-gcs-compat",[WR]:"fire-fst",[XR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,eA=new Map,Lh=new Map;function py(n,e){try{n.container.addComponent(e)}catch(i){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Er(n){const e=n.name;if(Lh.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,n);for(const i of iu.values())py(i,n);for(const i of eA.values())py(i,n);return!0}function _d(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Xt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new cl("app","Firebase",tA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=ZR;function a0(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw Mi.create("bad-app-name",{appName:String(l)});if(i||(i=e0()),!i)throw Mi.create("no-options");const u=iu.get(l);if(u){if(ms(i,u.options)&&ms(r,u.config))return u;throw Mi.create("duplicate-app",{appName:l})}const f=new oR(l);for(const p of Lh.values())f.addComponent(p);const d=new nA(i,r,f);return iu.set(l,d),d}function l0(n=kh){const e=iu.get(n);if(!e&&n===kh&&e0())return a0();if(!e)throw Mi.create("no-app",{appName:n});return e}function ki(n,e,i){var r;let l=(r=JR[n])!==null&&r!==void 0?r:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${l}" with version "${e}":`];u&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(d.join(" "));return}Er(new gs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebase-heartbeat-database",sA=1,Xa="firebase-heartbeat-store";let mh=null;function o0(){return mh||(mh=bR(iA,sA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xa)}catch(i){console.warn(i)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),mh}async function rA(n){try{const i=(await o0()).transaction(Xa),r=await i.objectStore(Xa).get(u0(n));return await i.done,r}catch(e){if(e instanceof zi)Qn.warn(e.message);else{const i=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(i.message)}}}async function my(n,e){try{const r=(await o0()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,u0(n)),await r.done}catch(i){if(i instanceof zi)Qn.warn(i.message);else{const r=Mi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Qn.warn(r.message)}}}function u0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=1024,lA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>lA){const f=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=gy(),{heartbeatsToSend:r,unsentEntries:l}=uA(this._heartbeatsCache.heartbeats),u=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Qn.warn(i),""}}}function gy(){return new Date().toISOString().substring(0,10)}function uA(n,e=aA){const i=[];let r=n.slice();for(const l of n){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),_y(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),_y(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class cA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await rA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function _y(n){return eu(JSON.stringify({version:2,heartbeats:n})).length}function fA(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){Er(new gs("platform-logger",e=>new wR(e),"PRIVATE")),Er(new gs("heartbeat",e=>new oA(e),"PRIVATE")),ki(Mh,dy,n),ki(Mh,dy,"esm2017"),ki("fire-js","")}hA("");function yd(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(i[r[l]]=n[r[l]]);return i}function c0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dA=c0,f0=new cl("auth","Firebase",c0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new md("@firebase/auth");function pA(n,...e){su.logLevel<=Ae.WARN&&su.warn(`Auth (${Ar}): ${n}`,...e)}function Go(n,...e){su.logLevel<=Ae.ERROR&&su.error(`Auth (${Ar}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,...e){throw vd(n,...e)}function yn(n,...e){return vd(n,...e)}function h0(n,e,i){const r=Object.assign(Object.assign({},dA()),{[e]:i});return new cl("auth","Firebase",r).create(e,{appName:n.name})}function Yn(n){return h0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vd(n,...e){if(typeof n!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(i,...r)}return f0.create(n,...e)}function ee(n,e,...i){if(!n)throw vd(e,...i)}function jn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Go(e),new Error(e)}function Xn(n,e){n||jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mA(){return yy()==="http:"||yy()==="https:"}function yy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mA()||VC()||"connection"in navigator)?navigator.onLine:!0}function _A(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Xn(i>e,"Short delay should be less than long delay!"),this.isMobile=dd()||n0()}get(){return gA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n,e){Xn(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new fl(3e4,6e4);function ti(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ni(n,e,i,r,l={}){return p0(n,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const d=Rr(Object.assign({key:n.config.apiKey},f)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},u);return FC()||(m.referrerPolicy="no-referrer"),d0.fetch()(m0(n,n.config.apiHost,i,d),m)})}async function p0(n,e,i){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},yA),e);try{const l=new bA(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bo(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bo(n,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bo(n,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bo(n,"user-disabled",f);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw h0(n,_,m);ln(n,_)}}catch(l){if(l instanceof zi)throw l;ln(n,"network-request-failed",{message:String(l)})}}async function hl(n,e,i,r,l={}){const u=await ni(n,e,i,r,l);return"mfaPendingCredential"in u&&ln(n,"multi-factor-auth-required",{_serverResponse:u}),u}function m0(n,e,i,r){const l=`${e}${i}?${r}`;return n.config.emulator?Ed(n.config,l):`${n.config.apiScheme}://${l}`}function EA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),vA.get())})}}function Bo(n,e,i){const r={appName:n.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=yn(n,e,r);return l.customData._tokenResponse=i,l}function vy(n){return n!==void 0&&n.enterprise!==void 0}class SA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return EA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TA(n,e){return ni(n,"GET","/v2/recaptchaConfig",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e){return ni(n,"POST","/v1/accounts:delete",e)}async function g0(n,e){return ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CA(n,e=!1){const i=Ot(n),r=await i.getIdToken(e),l=bd(r);ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:qa(gh(l.auth_time)),issuedAtTime:qa(gh(l.iat)),expirationTime:qa(gh(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gh(n){return Number(n)*1e3}function bd(n){const[e,i,r]=n.split(".");if(e===void 0||i===void 0||r===void 0)return Go("JWT malformed, contained fewer than 3 sections"),null;try{const l=tu(i);return l?JSON.parse(l):(Go("Failed to decode base64 JWT payload"),null)}catch(l){return Go("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ey(n){const e=bd(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(n,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof zi&&RA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function RA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(n){var e;const i=n.auth,r=await n.getIdToken(),l=await $a(n,g0(i,{idToken:r}));ee(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?_0(u.providerUserInfo):[],d=OA(n.providerData,f),p=n.isAnonymous,m=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Ph(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,y)}async function NA(n){const e=Ot(n);await ru(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OA(n,e){return[...n.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function _0(n){return n.map(e=>{var{providerId:i}=e,r=yd(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(n,e){const i=await p0(n,{},async()=>{const r=Rr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=m0(n,l,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",d0.fetch()(f,{method:"POST",headers:d,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DA(n,e){return ni(n,"POST","/v2/accounts:revokeToken",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const i=Ey(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await xA(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,f=new fr;return r&&(ee(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fr,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:i,auth:r,stsTokenManager:l}=e,u=yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ph(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await $a(this,this.stsTokenManager.getToken(this.auth,e));return ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return CA(this,e)}reload(){return NA(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ru(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await $a(this,wA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,l,u,f,d,p,m,_;const y=(r=i.displayName)!==null&&r!==void 0?r:void 0,E=(l=i.email)!==null&&l!==void 0?l:void 0,R=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,S=(f=i.photoURL)!==null&&f!==void 0?f:void 0,D=(d=i.tenantId)!==null&&d!==void 0?d:void 0,I=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,P=(m=i.createdAt)!==null&&m!==void 0?m:void 0,q=(_=i.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:ie,isAnonymous:K,providerData:_e,stsTokenManager:we}=i;ee(j&&we,e,"internal-error");const Pe=fr.fromJSON(this.name,we);ee(typeof j=="string",e,"internal-error"),Ai(y,e.name),Ai(E,e.name),ee(typeof ie=="boolean",e,"internal-error"),ee(typeof K=="boolean",e,"internal-error"),Ai(R,e.name),Ai(S,e.name),Ai(D,e.name),Ai(I,e.name),Ai(P,e.name),Ai(q,e.name);const G=new qn({uid:j,auth:e,email:E,emailVerified:ie,displayName:y,isAnonymous:K,photoURL:S,phoneNumber:R,tenantId:D,stsTokenManager:Pe,createdAt:P,lastLoginAt:q});return _e&&Array.isArray(_e)&&(G.providerData=_e.map(re=>Object.assign({},re))),I&&(G._redirectEventId=I),G}static async _fromIdTokenResponse(e,i,r=!1){const l=new fr;l.updateFromServerResponse(i);const u=new qn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ru(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?_0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),d=new fr;d.updateFromIdToken(r);const p=new qn({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Ph(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;function Fn(n){Xn(n instanceof Function,"Expected a class definition");let e=by.get(n);return e?(Xn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,by.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}y0.type="NONE";const Sy=y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n,e,i){return`firebase:${n}:${e}:${i}`}class hr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Yo(this.userKey,l.apiKey,u),this.fullPersistenceKey=Yo("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new hr(Fn(Sy),e,r);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Fn(Sy);const f=Yo(r,e.config.apiKey,e.name);let d=null;for(const m of i)try{const _=await m._get(f);if(_){const y=qn._fromJSON(e,_);m!==u&&(d=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new hr(u,e,r):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new hr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w0(e))return"Blackberry";if(C0(e))return"Webos";if(E0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(T0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v0(n=vt()){return/firefox\//i.test(n)}function E0(n=vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(n=vt()){return/crios\//i.test(n)}function S0(n=vt()){return/iemobile/i.test(n)}function T0(n=vt()){return/android/i.test(n)}function w0(n=vt()){return/blackberry/i.test(n)}function C0(n=vt()){return/webos/i.test(n)}function Sd(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IA(n=vt()){var e;return Sd(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MA(){return GC()&&document.documentMode===10}function R0(n=vt()){return Sd(n)||T0(n)||C0(n)||w0(n)||/windows phone/i.test(n)||S0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n,e=[]){let i;switch(n){case"Browser":i=Ty(vt());break;case"Worker":i=`${Ty(vt())}-${n}`;break;default:i=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ar}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,d)=>{try{const p=e(u);f(p)}catch(p){d(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(n,e={}){return ni(n,"GET","/v2/passwordPolicy",ti(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=6;class PA{constructor(e){var i,r,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:UA,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,l,u,f,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new kA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Fn(i)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await hr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await g0(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===d)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ru(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_A()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Yn(this));const i=e?Ot(e):null;return i&&ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LA(this),i=new PA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await DA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Fn(e)||this._popupRedirectResolver;ee(i,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[Fn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&pA(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Bi(n){return Ot(n)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=tR(i=>this.observer=i)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(n){xu=n}function N0(n){return xu.loadJS(n)}function HA(){return xu.recaptchaEnterpriseScript}function jA(){return xu.gapiScript}function qA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class FA{constructor(){this.enterprise=new VA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class VA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const GA="recaptcha-enterprise",O0="NO_RECAPTCHA";class YA{constructor(e){this.type=GA,this.auth=Bi(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{TA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new SA(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{d(p)})})}function l(u,f,d){const p=window.grecaptcha;vy(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(O0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(d=>{if(!i&&vy(window.grecaptcha))l(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HA();p.length!==0&&(p+=d),N0(p).then(()=>{l(d,u,f)}).catch(m=>{f(m)})}}).catch(d=>{f(d)})})}}async function Cy(n,e,i,r=!1,l=!1){const u=new YA(n);let f;if(l)f=O0;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const d=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function au(n,e,i,r,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Cy(n,e,i,i==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Cy(n,e,i,i==="getOobCode");return r(n,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,e){const i=_d(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ms(u,e??{}))return l;ln(l,"already-initialized")}return i.initialize({options:e})}function WA(n,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Fn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QA(n,e,i){const r=Bi(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=x0(e),{host:f,port:d}=XA(e),p=d===null?"":`:${d}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(ms(m,r.config.emulator)&&ms(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,$A()}function x0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XA(n){const e=x0(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Ry(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Ry(f)}}}function Ry(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $A(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,i){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}}async function ZA(n,e){return ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(n,e){return hl(n,"POST","/v1/accounts:signInWithPassword",ti(n,e))}async function e1(n,e){return ni(n,"POST","/v1/accounts:sendOobCode",ti(n,e))}async function t1(n,e){return e1(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n,e){return hl(n,"POST","/v1/accounts:signInWithEmailLink",ti(n,e))}async function i1(n,e){return hl(n,"POST","/v1/accounts:signInWithEmailLink",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Td{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Za(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Za(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return au(e,i,"signInWithPassword",JA);case"emailLink":return n1(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return au(e,r,"signUpPassword",ZA);case"emailLink":return i1(e,{idToken:i,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dr(n,e){return hl(n,"POST","/v1/accounts:signInWithIdp",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="http://localhost";class _s extends Td{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=i,u=yd(i,["providerId","signInMethod"]);if(!r||!l)return null;const f=new _s(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return dr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,dr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,dr(e,i)}buildRequest(){const e={requestUri:s1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Rr(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a1(n){const e=Ha(ja(n)).link,i=e?Ha(ja(e)).deep_link_id:null,r=Ha(ja(n)).deep_link_id;return(r?Ha(ja(r)).link:null)||r||i||e||n}class wd{constructor(e){var i,r,l,u,f,d;const p=Ha(ja(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,y=r1((l=p.mode)!==null&&l!==void 0?l:null);ee(m&&_&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const i=a1(e);try{return new wd(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.providerId=Nr.PROVIDER_ID}static credential(e,i){return Za._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=wd.parseLink(i);return ee(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}Nr.PROVIDER_ID="password";Nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends dl{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return _s._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Oi.credential(i,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends dl{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends dl{constructor(){super("twitter.com")}static credential(e,i){return _s._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Di.credential(i,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n,e){return hl(n,"POST","/v1/accounts:signUp",ti(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await qn._fromIdTokenResponse(e,r,l),f=Ay(r);return new ys({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Ay(r);return new ys({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Ay(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends zi{constructor(e,i,r,l){var u;super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new lu(e,i,r,l)}}function I0(n,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lu._fromErrorAndOperation(n,u,e,r):u})}async function o1(n,e,i=!1){const r=await $a(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return ys._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(n,e,i=!1){const{auth:r}=n;if(Xt(r.app))return Promise.reject(Yn(r));const l="reauthenticate";try{const u=await $a(n,I0(r,l,e,n),i);ee(u.idToken,r,"internal-error");const f=bd(u.idToken);ee(f,r,"internal-error");const{sub:d}=f;return ee(n.uid===d,r,"user-mismatch"),ys._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(n,e,i=!1){if(Xt(n.app))return Promise.reject(Yn(n));const r="signIn",l=await I0(n,r,e),u=await ys._fromIdTokenResponse(n,r,l);return i||await n._updateCurrentUser(u.user),u}async function c1(n,e){return M0(Bi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(n){const e=Bi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f1(n,e,i){const r=Bi(n);await au(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",t1)}async function h1(n,e,i){if(Xt(n.app))return Promise.reject(Yn(n));const r=Bi(n),f=await au(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&k0(n),p}),d=await ys._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(d.user),d}function d1(n,e,i){return Xt(n.app)?Promise.reject(Yn(n)):c1(Ot(n),Nr.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&k0(n),r})}function p1(n,e,i,r){return Ot(n).onIdTokenChanged(e,i,r)}function m1(n,e,i){return Ot(n).beforeAuthStateChanged(e,i)}function g1(n,e,i,r){return Ot(n).onAuthStateChanged(e,i,r)}function _1(n){return Ot(n).signOut()}const ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1e3,v1=10;class U0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);MA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,v1):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}U0.type="LOCAL";const E1=U0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}P0.type="SESSION";const z0=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Du(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const d=Array.from(f).map(async m=>m(i.origin,u)),p=await b1(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Du.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const m=Cd("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function T1(n){vn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function w1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function R1(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebaseLocalStorageDb",A1=1,uu="firebaseLocalStorage",j0="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Iu(n,e){return n.transaction([uu],e?"readwrite":"readonly").objectStore(uu)}function N1(){const n=indexedDB.deleteDatabase(H0);return new pl(n).toPromise()}function zh(){const n=indexedDB.open(H0,A1);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(uu,{keyPath:j0})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(uu)?e(r):(r.close(),await N1(),e(await zh()))})})}async function Ny(n,e,i){const r=Iu(n,!0).put({[j0]:e,value:i});return new pl(r).toPromise()}async function O1(n,e){const i=Iu(n,!1).get(e),r=await new pl(i).toPromise();return r===void 0?null:r.value}function Oy(n,e){const i=Iu(n,!0).delete(e);return new pl(i).toPromise()}const x1=800,D1=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zh(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>D1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Du._getInstance(R1()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await w1(),!this.activeServiceWorker)return;this.sender=new S1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zh();return await Ny(e,ou,"1"),await Oy(e,ou),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ny(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>O1(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Oy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Iu(l,!1).getAll();return new pl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const I1=q0;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n,e){return e?Fn(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Td{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return dr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function k1(n){return M0(n.auth,new Rd(n),n.bypassAuthState)}function L1(n){const{auth:e,user:i}=n;return ee(i,e,"internal-error"),u1(i,new Rd(n),n.bypassAuthState)}async function U1(n){const{auth:e,user:i}=n;return ee(i,e,"internal-error"),o1(i,new Rd(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k1;case"linkViaPopup":case"linkViaRedirect":return U1;case"reauthViaPopup":case"reauthViaRedirect":return L1;default:ln(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new fl(2e3,1e4);class ur extends F0{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=Cd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P1.get())};e()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="pendingRedirect",Ko=new Map;class B1 extends F0{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Ko.get(this.auth._key());if(!e){try{const r=await H1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Ko.set(this.auth._key(),e)}return this.bypassAuthState||Ko.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H1(n,e){const i=F1(e),r=q1(n);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function j1(n,e){Ko.set(n._key(),e)}function q1(n){return Fn(n._redirectPersistence)}function F1(n){return Yo(z1,n.config.apiKey,n.name)}async function V1(n,e,i=!1){if(Xt(n.app))return Promise.reject(Yn(n));const r=Bi(n),l=M1(r,e),f=await new B1(r,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=10*60*1e3;class Y1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!V0(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(yn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G1&&this.cachedEventUids.clear(),this.cachedEventUids.has(xy(e))}saveEventToCache(e){this.cachedEventUids.add(xy(e)),this.lastProcessedEventTime=Date.now()}}function xy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function V0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(n,e={}){return ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X1=/^https?/;async function $1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await W1(n);for(const i of e)try{if(Z1(i))return}catch{}ln(n,"unauthorized-domain")}function Z1(n){const e=Uh(),{protocol:i,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!X1.test(i))return!1;if(Q1.test(n))return r===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new fl(3e4,6e4);function Dy(){const n=vn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function eN(n){return new Promise((e,i)=>{var r,l,u;function f(){Dy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dy(),i(yn(n,"network-request-failed"))},timeout:J1.get()})}if(!((l=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=vn().gapi)===null||u===void 0)&&u.load)f();else{const d=qA("iframefcb");return vn()[d]=()=>{gapi.load?f():i(yn(n,"network-request-failed"))},N0(`${jA()}?onload=${d}`).catch(p=>i(p))}}).catch(e=>{throw Wo=null,e})}let Wo=null;function tN(n){return Wo=Wo||eN(n),Wo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new fl(5e3,15e3),iN="__/auth/iframe",sN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(n){const e=n.config;ee(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?Ed(e,sN):`https://${n.config.authDomain}/${iN}`,r={apiKey:e.apiKey,appName:n.name,v:Ar},l=aN.get(n.config.apiHost);l&&(r.eid=l);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Rr(r).slice(1)}`}async function oN(n){const e=await tN(n),i=vn().gapi;return ee(i,n,"internal-error"),e.open({where:document.body,url:lN(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=yn(n,"network-request-failed"),d=vn().setTimeout(()=>{u(f)},nN.get());function p(){vn().clearTimeout(d),l(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cN=500,fN=600,hN="_blank",dN="http://localhost";class Iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(n,e,i,r=cN,l=fN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},uN),{width:r.toString(),height:l.toString(),top:u,left:f}),m=vt().toLowerCase();i&&(d=b0(m)?hN:i),v0(m)&&(e=e||dN,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[R,S])=>`${E}${R}=${S},`,"");if(IA(m)&&d!=="_self")return mN(e||"",d),new Iy(null);const y=window.open(e||"",d,_);ee(y,n,"popup-blocked");try{y.focus()}catch{}return new Iy(y)}function mN(n,e){const i=document.createElement("a");i.href=n,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__/auth/handler",_N="emulator/auth/handler",yN=encodeURIComponent("fac");async function My(n,e,i,r,l,u){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:r,v:Ar,eventId:l};if(e instanceof D0){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",xh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))f[_]=y}if(e instanceof dl){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(f.scopes=_.join(","))}n.tenantId&&(f.tid=n.tenantId);const d=f;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),m=p?`#${yN}=${encodeURIComponent(p)}`:"";return`${vN(n)}?${Rr(d).slice(1)}${m}`}function vN({config:n}){return n.emulator?Ed(n,_N):`https://${n.authDomain}/${gN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class EN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=V1,this._overrideRedirectResult=j1}async _openPopup(e,i,r,l){var u;Xn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await My(e,i,r,Uh(),l);return pN(e,f,Cd())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await My(e,i,r,Uh(),l);return T1(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Xn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await oN(e),r=new Y1(e);return i.register("authEvent",l=>(ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(_h,{type:_h},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[_h];f!==void 0&&i(!!f),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return R0()||E0()||Sd()}}const bN=EN;var ky="@firebase/auth",Ly="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(n){Er(new gs("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=r.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A0(n)},m=new zA(r,l,u,p);return WA(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Er(new gs("auth-internal",e=>{const i=Bi(e.getProvider("auth").getImmediate());return(r=>new SN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(ky,Ly,TN(n)),ki(ky,Ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=5*60,RN=t0("authIdTokenMaxAge")||CN;let Uy=null;const AN=n=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>RN)return;const l=i==null?void 0:i.token;Uy!==l&&(Uy=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ja(n=l0()){const e=_d(n,"auth");if(e.isInitialized())return e.getImmediate();const i=KA(n,{popupRedirectResolver:bN,persistence:[I1,E1,z0]}),r=t0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=AN(u.toString());m1(i,f,()=>f(i.currentUser)),p1(i,d=>f(d))}}const l=Jv("auth");return l&&QA(i,`http://${l}`),i}function NN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}BA({loadJS(n){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=l=>{const u=yn("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",NN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");function ON(n){const e=M.useContext(Sl),{setUser:i}={...n},r=Ru(),[l,u]=M.useState(!0),[f,d]=M.useState(!1),p=M.useRef(null);M.useEffect(()=>{const S=Ja();g1(S,D=>{D!=null&&i(D),u(!1)})},[]);function m(){r("/")}function _(){document.getElementById("loginDialog").showModal()}function y(){document.getElementById("signupDialog").showModal()}async function E(){document.getElementById("settingPasswordDialog").showModal()}async function R(S){S.preventDefault();const D=Ja();await _1(D),i(null),d(!0),p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(!1)},5e3)}return O.jsxs(O.Fragment,{children:[O.jsx("header",{className:"fixed z-[99] top-0 left-0 right-0 h-12 bg-slate-200/80 backdrop-blur-lg",children:O.jsxs("div",{className:"sectionWrapper flex justify-between py-2",children:[O.jsx("h1",{className:"md:text-base font-bold text-slate-800",children:O.jsx("button",{onClick:m,children:"Summarized Wiki"})}),O.jsx("div",{className:"group relative flex justify-end grow "+(l&&"hidden"),children:e?O.jsxs(O.Fragment,{children:[O.jsx("button",{id:"userIcon",className:"block w-8 h-8 p-1 ml-auto mr-0 bg-slate-500 rounded-full overflow-hidden focus:ring-1 ring-cyan-600",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"8.75",viewBox:"0 0 448 512",className:"w-full h-full fill-slate-50",children:O.jsx("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"})})}),O.jsxs("div",{className:"absolute top-full right-0 bg-white px-4 py-4 border border-slate-300 rounded transition pointer-events-none group-focus-within:pointer-events-auto group-focus:translate-y-2 group-focus-within:opacity-100 translate-y-0 opacity-0",children:[O.jsx("p",{className:"mb-4",children:e.email}),O.jsx("button",{onClick:E,className:"block py-0.5 ml-auto mr-0 rounded font-bold text-sm md:text-base text-slate-800 mb-4 ",children:""}),O.jsx("button",{onClick:R,className:"block w-20 py-0.5 ml-auto mr-0 rounded font-bold text-sm md:text-base bg-slate-600 text-slate-50 ",children:""})]})]}):O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:_,className:"w-20 py-0.5 rounded font-bold text-sm md:text-base bg-slate-600 text-slate-50 mr-2 md:mr-4",children:""}),O.jsx("button",{onClick:y,className:"w-20 py-0.5 rounded font-bold text-sm md:text-base text-slate-800",children:""})]})})]})}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:O.jsx("p",{children:""})})]})}var xN="firebase",DN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(xN,DN,"app");var Py={};const zy="@firebase/database",By="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0="";function IN(n){G0=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Qa(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return ei(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MN(e)}}catch{}return new kN},fs=Y0("localStorage"),LN=Y0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new md("@firebase/database"),UN=function(){let n=1;return function(){return n++}}(),K0=function(n){const e=sR(n),i=new eR;i.update(e);const r=i.digest();return fd.encodeByteArray(r)},ml=function(...n){let e="";for(let i=0;i<n.length;i++){const r=n[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ml.apply(null,r):typeof r=="object"?e+=rt(r):e+=r,e+=" "}return e};let Fa=null,Hy=!0;const PN=function(n,e){F(!0,"Can't turn on custom loggers persistently."),pr.logLevel=Ae.VERBOSE,Fa=pr.log.bind(pr)},dt=function(...n){if(Hy===!0&&(Hy=!1,Fa===null&&LN.get("logging_enabled")===!0&&PN()),Fa){const e=ml.apply(null,n);Fa(e)}},gl=function(n){return function(...e){dt(n,...e)}},Bh=function(...n){const e="FIREBASE INTERNAL ERROR: "+ml(...n);pr.error(e)},$n=function(...n){const e=`FIREBASE FATAL ERROR: ${ml(...n)}`;throw pr.error(e),new Error(e)},Rt=function(...n){const e="FIREBASE WARNING: "+ml(...n);pr.warn(e)},zN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},W0=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},BN=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},br="[MIN_NAME]",vs="[MAX_NAME]",Or=function(n,e){if(n===e)return 0;if(n===br||e===vs)return-1;if(e===br||n===vs)return 1;{const i=jy(n),r=jy(e);return i!==null?r!==null?i-r===0?n.length-e.length:i-r:-1:r!==null?1:n<e?-1:1}},HN=function(n,e){return n===e?0:n<e?-1:1},La=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+rt(e))},Ad=function(n){if(typeof n!="object"||n===null)return rt(n);const e=[];for(const r in n)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=rt(e[r]),i+=":",i+=Ad(n[e[r]]);return i+="}",i},Q0=function(n,e){const i=n.length;if(i<=e)return[n];const r=[];for(let l=0;l<i;l+=e)l+e>i?r.push(n.substring(l,i)):r.push(n.substring(l,l+e));return r};function Nt(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const X0=function(n){F(!W0(n),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let l,u,f,d,p;n===0?(u=0,f=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=d+r,f=Math.round(n*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(n/Math.pow(2,1-r-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},jN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FN(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+i);return r.code=n.toUpperCase(),r}const VN=new RegExp("^-?(0*)\\d{1,10}$"),GN=-2147483648,YN=2147483647,jy=function(n){if(VN.test(n)){const e=Number(n);if(e>=GN&&e<=YN)return e}return null},xr=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Rt("Exception was thrown by user callback.",i),e},Math.floor(0))}},KN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Va=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}}class Qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="5",$0="v",Z0="s",J0="r",eE="f",tE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nE="ls",iE="p",Hh="ac",sE="websocket",rE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,i,r,l,u=!1,f="",d=!1,p=!1,m=null){this.secure=i,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function XN(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function lE(n,e,i){F(typeof e=="string","typeof type must == string"),F(typeof i=="object","typeof params must == object");let r;if(e===sE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===rE)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XN(n)&&(i.ns=n.namespace);const l=[];return Nt(i,(u,f)=>{l.push(u+"="+f)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.counters_={}}incrementCounter(e,i=1){ei(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return LC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh={},vh={};function Od(n){const e=n.toString();return yh[e]||(yh[e]=new $N),yh[e]}function ZN(n,e){const i=n.toString();return vh[i]||(vh[i]=e()),vh[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&xr(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="start",eO="close",tO="pLPCommand",nO="pRTLPCB",oE="id",uE="pw",cE="ser",iO="cb",sO="seg",rO="ts",aO="d",lO="dframe",fE=1870,hE=30,oO=fE-hE,uO=25e3,cO=3e4;class cr{constructor(e,i,r,l,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Od(i),this.urlFn=p=>(this.appCheckToken&&(p[Hh]=this.appCheckToken),lE(i,rE,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new JN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cO)),BN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xd((...u)=>{const[f,d,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===qy)this.id=d,this.password=p;else if(f===eO)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[qy]="t",r[cE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[iO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$0]=Nd,this.transportSessionId&&(r[Z0]=this.transportSessionId),this.lastSessionId&&(r[nE]=this.lastSessionId),this.applicationId&&(r[iE]=this.applicationId),this.appCheckToken&&(r[Hh]=this.appCheckToken),typeof location<"u"&&location.hostname&&tE.test(location.hostname)&&(r[J0]=eE);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cr.forceAllow_=!0}static forceDisallow(){cr.forceDisallow_=!0}static isAvailable(){return cr.forceAllow_?!0:!cr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!jN()&&!qN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=rt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=$v(i),l=Q0(r,oO);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[lO]="t",r[oE]=e,r[uE]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=rt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class xd{constructor(e,i,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UN(),window[tO+this.uniqueCallbackIdentifier]=e,window[nO+this.uniqueCallbackIdentifier]=i,this.myIFrame=xd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){dt("frame writing exception"),d.stack&&dt(d.stack),dt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oE]=this.myID,e[uE]=this.myPW,e[cE]=this.currentSerial;let i=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hE+r.length<=fE;){const f=this.pendingSegs.shift();r=r+"&"+sO+l+"="+f.seg+"&"+rO+l+"="+f.ts+"&"+aO+l+"="+f.d,l++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(r,Math.floor(uO)),u=()=>{clearTimeout(l),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=16384,hO=45e3;let cu=null;typeof MozWebSocket<"u"?cu=MozWebSocket:typeof WebSocket<"u"&&(cu=WebSocket);class tn{constructor(e,i,r,l,u,f,d){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Od(i),this.connURL=tn.connectionURL_(i,f,d,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l,u){const f={};return f[$0]=Nd,typeof location<"u"&&location.hostname&&tE.test(location.hostname)&&(f[J0]=eE),i&&(f[Z0]=i),r&&(f[nE]=r),l&&(f[Hh]=l),u&&(f[iE]=u),lE(e,sE,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let r;YC(),this.mySock=new cu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&cu!==null&&!tn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Qa(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=rt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Q0(i,fO);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(hO))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static get ALL_TRANSPORTS(){return[cr,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=tn&&tn.isAvailable();let r=i&&!tn.previouslyFailed();if(e.webSocketOnly&&(i||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const l=this.transports_=[];for(const u of el.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);el.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}el.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=6e4,pO=5e3,mO=10*1024,gO=100*1024,Eh="t",Fy="d",_O="s",Vy="r",yO="e",Gy="o",Yy="a",Ky="n",Wy="p",vO="h";class EO{constructor(e,i,r,l,u,f,d,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new el(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Eh in e){const i=e[Eh];i===Yy?this.upgradeIfSecondaryHealthy_():i===Vy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Gy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=La("t",e),r=La("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ky,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=La("t",e),r=La("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=La(Eh,e);if(Fy in e){const r=e[Fy];if(i===vO){const l=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Ky){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_O?this.onConnectionShutdown_(r):i===Vy?this.onReset_(r):i===yO?Bh("Server Error: "+r):i===Gy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bh("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Nd!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{put(e,i,r,l){}merge(e,i,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const l=this.getInitialEvent(e);l&&i.apply(r,l)}off(e,i,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(e){F(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends pE{static getInstance(){return new fu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=32,Xy=768;class Oe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Se(){return new Oe("")}function he(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ui(n){return n.pieces_.length-n.pieceNum_}function Me(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Oe(n.pieces_,e)}function mE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bO(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function gE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function _E(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new Oe(e,0)}function Ze(n,e){const i=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)i.push(n.pieces_[r]);if(e instanceof Oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&i.push(r[l])}return new Oe(i,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function wt(n,e){const i=he(n),r=he(e);if(i===null)return e;if(i===r)return wt(Me(n),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Dd(n,e){if(Ui(n)!==Ui(e))return!1;for(let i=n.pieceNum_,r=e.pieceNum_;i<=n.pieces_.length;i++,r++)if(n.pieces_[i]!==e.pieces_[r])return!1;return!0}function nn(n,e){let i=n.pieceNum_,r=e.pieceNum_;if(Ui(n)>Ui(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class SO{constructor(e,i){this.errorPrefix_=i,this.parts_=gE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ou(this.parts_[r]);yE(this)}}function TO(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ou(e),yE(n)}function wO(n){const e=n.parts_.pop();n.byteLength_-=Ou(e),n.parts_.length>0&&(n.byteLength_-=1)}function yE(n){if(n.byteLength_>Xy)throw new Error(n.errorPrefix_+"has a key path longer than "+Xy+" bytes ("+n.byteLength_+").");if(n.parts_.length>Qy)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qy+") or object contains a cycle "+cs(n))}function cs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends pE{static getInstance(){return new Id}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=1e3,CO=60*5*1e3,$y=30*1e3,RO=1.3,AO=3e4,NO="server_kill",Zy=3;class Kn extends dE{constructor(e,i,r,l,u,f,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Kn.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=CO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Id.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(rt(u)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new Nu,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,m=d.s;Kn.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&ei(e,"w")){const r=vr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||JC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$y)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=ZC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";l&&(u.q=r,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Bh("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>AO&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Kn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,r())},m=function(y){F(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,d=new EO(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,R=>{Rt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(NO)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Rt(y),p())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xh(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>Ad(u)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new Oe(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){dt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zy&&(this.reconnectDelay_=$y,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){dt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+G0.replace(/\./g,"-")]=1,dd()?e["framework.cordova"]=1:n0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fu.getInstance().currentlyOnline();return xh(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new de(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new de(br,e),l=new de(br,i);return this.compare(r,l)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class vE extends Mu{static get __EMPTY_NODE(){return Ho}static set __EMPTY_NODE(e){Ho=e}compare(e,i){return Or(e.name,i.name)}isDefinedOn(e){throw Cr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return de.MIN}maxPost(){return new de(vs,Ho)}makePost(e,i){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,Ho)}toString(){return".key"}}const mr=new vE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??st.RED,this.left=l??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,i,r,l,u){return new st(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class OO{copy(e,i,r,l,u){return this}insert(e,i,r){return new st(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,i=Ct.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Ct(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,l=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new jo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new jo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new OO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n,e){return Or(n.name,e.name)}function Md(n,e){return Or(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh;function DO(n){jh=n}const EE=function(n){return typeof n=="number"?"number:"+X0(n):"string:"+n},bE=function(n){if(n.isLeafNode()){const e=n.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ei(e,".sv"),"Priority must be a string or number.")}else F(n===jh||n.isEmpty(),"priority of unexpected type.");F(n===jh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy;class it{static set __childrenNodeConstructor(e){Jy=e}static get __childrenNodeConstructor(){return Jy}constructor(e,i=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:he(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=he(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+EE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=X0(this.value_):e+=this.value_,this.lazyHash_=K0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=it.VALUE_TYPE_ORDER.indexOf(i),u=it.VALUE_TYPE_ORDER.indexOf(r);return F(l>=0,"Unknown leaf type: "+i),F(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SE,TE;function IO(n){SE=n}function MO(n){TE=n}class kO extends Mu{compare(e,i){const r=e.node.getPriority(),l=i.node.getPriority(),u=r.compareTo(l);return u===0?Or(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return de.MIN}maxPost(){return new de(vs,new it("[PRIORITY-POST]",TE))}makePost(e,i){const r=SE(e);return new de(i,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ve=new kO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=Math.log(2);class UO{constructor(e){const i=u=>parseInt(Math.log(u)/LO,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hu=function(n,e,i,r){n.sort(e);const l=function(p,m){const _=m-p;let y,E;if(_===0)return null;if(_===1)return y=n[p],E=i?i(y):y,new st(E,y.node,st.BLACK,null,null);{const R=parseInt(_/2,10)+p,S=l(p,R),D=l(R+1,m);return y=n[R],E=i?i(y):y,new st(E,y.node,st.BLACK,S,D)}},u=function(p){let m=null,_=null,y=n.length;const E=function(S,D){const I=y-S,P=y;y-=S;const q=l(I+1,P),j=n[I],ie=i?i(j):j;R(new st(ie,j.node,D,null,q))},R=function(S){m?(m.left=S,m=S):(_=S,m=S)};for(let S=0;S<p.count;++S){const D=p.nextBitIsOne(),I=Math.pow(2,p.count-(S+1));D?E(I,st.BLACK):(E(I,st.BLACK),E(I,st.RED))}return _},f=new UO(n.length),d=u(f);return new Ct(r||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh;const or={};class Vn{static get Default(){return F(or&&Ve,"ChildrenNode.ts has not been loaded"),bh=bh||new Vn({".priority":or},{".priority":Ve}),bh}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=vr(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Ct?i:null}hasIndex(e){return ei(this.indexSet_,e.toString())}addIndex(e,i){F(e!==mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=i.getIterator(de.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let d;l?d=hu(r,e.getCompare()):d=or;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=d,new Vn(_,m)}addToIndexes(e,i){const r=nu(this.indexes_,(l,u)=>{const f=vr(this.indexSet_,u);if(F(f,"Missing index implementation for "+u),l===or)if(f.isDefinedOn(e.node)){const d=[],p=i.getIterator(de.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),hu(d,f.getCompare())}else return or;else{const d=i.get(e.name);let p=l;return d&&(p=p.remove(new de(e.name,d))),p.insert(e,e.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(e,i){const r=nu(this.indexes_,l=>{if(l===or)return l;{const u=i.get(e.name);return u?l.remove(new de(e.name,u)):l}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class ne{static get EMPTY_NODE(){return Pa||(Pa=new ne(new Ct(Md),null,Vn.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&bE(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pa}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Pa:i}}getChild(e){const i=he(e);return i===null?this:this.getImmediateChild(i).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(F(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new de(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=l.isEmpty()?Pa:this.priorityNode_;return new ne(l,f,u)}}updateChild(e,i){const r=he(e);if(r===null)return i;{F(he(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Me(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,u=!0;if(this.forEachChild(Ve,(f,d)=>{i[f]=d.val(e),r++,u&&ne.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*r){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+EE(this.getPriority().val())+":"),this.forEachChild(Ve,(i,r)=>{const l=r.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":K0(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new de(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new de(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new de(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===mr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===mr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ve),l=i.getIterator(Ve);let u=r.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===mr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class PO extends ne{constructor(){super(new Ct(Md),ne.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const _l=new PO;Object.defineProperties(de,{MIN:{value:new de(br,ne.EMPTY_NODE)},MAX:{value:new de(vs,_l)}});vE.__EMPTY_NODE=ne.EMPTY_NODE;it.__childrenNodeConstructor=ne;DO(_l);MO(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=!0;function ut(n,e=null){if(n===null)return ne.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new it(i,ut(e))}if(!(n instanceof Array)&&zO){const i=[];let r=!1;if(Nt(n,(f,d)=>{if(f.substring(0,1)!=="."){const p=ut(d);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new de(f,p)))}}),i.length===0)return ne.EMPTY_NODE;const u=hu(i,xO,f=>f.name,Md);if(r){const f=hu(i,Ve.getCompare());return new ne(u,ut(e),new Vn({".priority":f},{".priority":Ve}))}else return new ne(u,ut(e),Vn.Default)}else{let i=ne.EMPTY_NODE;return Nt(n,(r,l)=>{if(ei(n,r)&&r.substring(0,1)!=="."){const u=ut(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(ut(e))}}IO(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO extends Mu{constructor(e){super(),this.indexPath_=e,F(!me(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),l=this.extractChild(i.node),u=r.compareTo(l);return u===0?Or(e.name,i.name):u}makePost(e,i){const r=ut(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(i,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,_l);return new de(vs,e)}toString(){return gE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends Mu{compare(e,i){const r=e.node.compareTo(i.node);return r===0?Or(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,i){const r=ut(e);return new de(i,r)}toString(){return".value"}}const jO=new HO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){return{type:"value",snapshotNode:n}}function Sr(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function tl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function nl(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function qO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.index_=e}updateChild(e,i,r,l,u,f){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(l).equals(r.getChild(l))&&d.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(tl(i,d)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(Sr(i,r)):f.trackChildChange(nl(i,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{i.hasChild(l)||r.trackChildChange(tl(l,u))}),i.isLeafNode()||i.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||r.trackChildChange(nl(l,u,f))}else r.trackChildChange(Sr(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.indexedFilter_=new kd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=il.getStartPost_(e),this.endPost_=il.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,l,u,f){return this.matches(new de(i,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,l,u,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=ne.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(f,d)=>{u.matches(new de(f,d))||(l=l.updateImmediateChild(f,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new il(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,l,u,f){return this.rangedFilter_.matches(new de(i,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,l,u,f):this.fullLimitUpdateChild_(e,i,r,u,f)}updateFullNode(e,i,r){let l;if(i.isLeafNode()||i.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:l=l.updateImmediateChild(d.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,l,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,R)=>y(R,E)}else f=this.index_.getCompare();const d=e;F(d.numChildren()===this.limit_,"");const p=new de(i,r),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(d.hasChild(i)){const y=d.getImmediateChild(i);let E=l.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const R=E==null?1:f(E,p);if(_&&!r.isEmpty()&&R>=0)return u!=null&&u.trackChildChange(nl(i,r,y)),d.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(tl(i,y));const D=d.updateImmediateChild(i,ne.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Sr(E.name,E.node)),D.updateImmediateChild(E.name,E.node)):D}}else return r.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(tl(m.name,m.node)),u.trackChildChange(Sr(i,r))),d.updateImmediateChild(i,r).updateImmediateChild(m.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:br}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Ld;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VO(n){return n.loadsAllData()?new kd(n.getIndex()):n.hasLimit()?new FO(n):new il(n)}function ev(n){const e={};if(n.isDefault())return e;let i;if(n.index_===Ve?i="$priority":n.index_===jO?i="$value":n.index_===mr?i="$key":(F(n.index_ instanceof BO,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=rt(i),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=rt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+rt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=rt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+rt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function tv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==Ve&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends dE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=gl("p:rest:"),this.listens_={}}listen(e,i,r,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=du.getListenId_(e,r),d={};this.listens_[f]=d;const p=ev(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,r),vr(this.listens_,f)===d){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",l(E,null)}})}unlisten(e,i){const r=du.getListenId_(e,i);delete this.listens_[r]}get(e){const i=ev(e._queryParams),r=e._path.toString(),l=new Nu;return this.restRequest_(r+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rr(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Qa(d.responseText)}catch{Rt("Failed to parse JSON response for "+f+": "+d.responseText)}r(null,p)}else d.status!==401&&d.status!==404&&Rt("Got unsuccessful REST response for "+f+" Status: "+d.status),r(d.status);r=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(){return{value:null,children:new Map}}function CE(n,e,i){if(me(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const r=he(e);n.children.has(r)||n.children.set(r,pu());const l=n.children.get(r);e=Me(e),CE(l,e,i)}}function qh(n,e,i){n.value!==null?i(e,n.value):YO(n,(r,l)=>{const u=new Oe(e.toString()+"/"+r);qh(l,u,i)})}function YO(n,e){n.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Nt(this.last_,(r,l)=>{i[r]=i[r]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=10*1e3,WO=30*1e3,QO=5*60*1e3;class XO{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new KO(e);const r=nv+(WO-nv)*Math.random();Va(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Nt(e,(l,u)=>{u>0&&ei(this.statsToReport_,l)&&(i[l]=u,r=!0)}),r&&this.server_.reportStats(i),Va(this.reportStats_.bind(this),Math.floor(Math.random()*2*QO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function RE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ud(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pd(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=RE()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Oe(e));return new mu(Se(),i,this.revert)}}else return F(he(this.path)===e,"operationForChild called for unrelated child."),new mu(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,i){this.source=e,this.path=i,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new sl(this.source,Se()):new sl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=sn.OVERWRITE}operationForChild(e){return me(this.path)?new Es(this.source,Se(),this.snap.getImmediateChild(e)):new Es(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=sn.MERGE}operationForChild(e){if(me(this.path)){const i=this.children.subtree(new Oe(e));return i.isEmpty()?null:i.value?new Es(this.source,Se(),i.value):new rl(this.source,Se(),i)}else return F(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const i=he(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ZO(n,e,i,r){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(qO(f.childName,f.snapshotNode))}),za(n,l,"child_removed",e,r,i),za(n,l,"child_added",e,r,i),za(n,l,"child_moved",u,r,i),za(n,l,"child_changed",e,r,i),za(n,l,"value",e,r,i),l}function za(n,e,i,r,l,u){const f=r.filter(d=>d.type===i);f.sort((d,p)=>ex(n,d,p)),f.forEach(d=>{const p=JO(n,d,u);l.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,n.query_))})})}function JO(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function ex(n,e,i){if(e.childName==null||i.childName==null)throw Cr("Should only compare child_ events.");const r=new de(e.childName,e.snapshotNode),l=new de(i.childName,i.snapshotNode);return n.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n,e){return{eventCache:n,serverCache:e}}function Ga(n,e,i,r){return ku(new bs(e,i,r),n.serverCache)}function AE(n,e,i,r){return ku(n.eventCache,new bs(e,i,r))}function Fh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ss(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;const tx=()=>(Sh||(Sh=new Ct(HN)),Sh);class Le{static fromObject(e){let i=new Le(null);return Nt(e,(r,l)=>{i=i.set(new Oe(r),l)}),i}constructor(e,i=tx()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Se(),value:this.value};if(me(e))return null;{const r=he(e),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Me(e),i);return u!=null?{path:Ze(new Oe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const i=he(e),r=this.children.get(i);return r!==null?r.subtree(Me(e)):new Le(null)}}set(e,i){if(me(e))return new Le(i,this.children);{const r=he(e),u=(this.children.get(r)||new Le(null)).set(Me(e),i),f=this.children.insert(r,u);return new Le(this.value,f)}}remove(e){if(me(e))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const i=he(e),r=this.children.get(i);if(r){const l=r.remove(Me(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new Le(null):new Le(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const i=he(e),r=this.children.get(i);return r?r.get(Me(e)):null}}setTree(e,i){if(me(e))return i;{const r=he(e),u=(this.children.get(r)||new Le(null)).setTree(Me(e),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Le(this.value,f)}}fold(e){return this.fold_(Se(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(Ze(e,l),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Se(),i)}findOnPath_(e,i,r){const l=this.value?r(i,this.value):!1;if(l)return l;if(me(e))return null;{const u=he(e),f=this.children.get(u);return f?f.findOnPath_(Me(e),Ze(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Se(),i)}foreachOnPath_(e,i,r){if(me(e))return this;{this.value&&r(i,this.value);const l=he(e),u=this.children.get(l);return u?u.foreachOnPath_(Me(e),Ze(i,l),r):new Le(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,i){this.children.inorderTraversal((r,l)=>{l.foreach_(Ze(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new Le(null))}}function Ya(n,e,i){if(me(e))return new rn(new Le(i));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let u=r.value;const f=wt(l,e);return u=u.updateChild(f,i),new rn(n.writeTree_.set(l,u))}else{const l=new Le(i),u=n.writeTree_.setTree(e,l);return new rn(u)}}}function iv(n,e,i){let r=n;return Nt(i,(l,u)=>{r=Ya(r,Ze(e,l),u)}),r}function sv(n,e){if(me(e))return rn.empty();{const i=n.writeTree_.setTree(e,new Le(null));return new rn(i)}}function Vh(n,e){return Cs(n,e)!=null}function Cs(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(wt(i.path,e)):null}function rv(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(r,l)=>{e.push(new de(r,l))}):n.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new de(r,l.value))}),e}function Li(n,e){if(me(e))return n;{const i=Cs(n,e);return i!=null?new rn(new Le(i)):new rn(n.writeTree_.subtree(e))}}function Gh(n){return n.writeTree_.isEmpty()}function Tr(n,e){return NE(Se(),n.writeTree_,e)}function NE(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(F(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=NE(Ze(n,l),u,i)}),!i.getChild(n).isEmpty()&&r!==null&&(i=i.updateChild(Ze(n,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(n,e){return IE(e,n)}function nx(n,e,i,r,l){F(r>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:r,visible:l}),l&&(n.visibleWrites=Ya(n.visibleWrites,e,i)),n.lastWriteId=r}function ix(n,e){for(let i=0;i<n.allWrites.length;i++){const r=n.allWrites[i];if(r.writeId===e)return r}return null}function sx(n,e){const i=n.allWrites.findIndex(d=>d.writeId===e);F(i>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[i];n.allWrites.splice(i,1);let l=r.visible,u=!1,f=n.allWrites.length-1;for(;l&&f>=0;){const d=n.allWrites[f];d.visible&&(f>=i&&rx(d,r.path)?l=!1:nn(r.path,d.path)&&(u=!0)),f--}if(l){if(u)return ax(n),!0;if(r.snap)n.visibleWrites=sv(n.visibleWrites,r.path);else{const d=r.children;Nt(d,p=>{n.visibleWrites=sv(n.visibleWrites,Ze(r.path,p))})}return!0}else return!1}function rx(n,e){if(n.snap)return nn(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&nn(Ze(n.path,i),e))return!0;return!1}function ax(n){n.visibleWrites=OE(n.allWrites,lx,Se()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function lx(n){return n.visible}function OE(n,e,i){let r=rn.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const f=u.path;let d;if(u.snap)nn(i,f)?(d=wt(i,f),r=Ya(r,d,u.snap)):nn(f,i)&&(d=wt(f,i),r=Ya(r,Se(),u.snap.getChild(d)));else if(u.children){if(nn(i,f))d=wt(i,f),r=iv(r,d,u.children);else if(nn(f,i))if(d=wt(f,i),me(d))r=iv(r,Se(),u.children);else{const p=vr(u.children,he(d));if(p){const m=p.getChild(Me(d));r=Ya(r,Se(),m)}}}else throw Cr("WriteRecord should have .snap or .children")}}return r}function xE(n,e,i,r,l){if(!r&&!l){const u=Cs(n.visibleWrites,e);if(u!=null)return u;{const f=Li(n.visibleWrites,e);if(Gh(f))return i;if(i==null&&!Vh(f,Se()))return null;{const d=i||ne.EMPTY_NODE;return Tr(f,d)}}}else{const u=Li(n.visibleWrites,e);if(!l&&Gh(u))return i;if(!l&&i==null&&!Vh(u,Se()))return null;{const f=function(m){return(m.visible||l)&&(!r||!~r.indexOf(m.writeId))&&(nn(m.path,e)||nn(e,m.path))},d=OE(n.allWrites,f,e),p=i||ne.EMPTY_NODE;return Tr(d,p)}}}function ox(n,e,i){let r=ne.EMPTY_NODE;const l=Cs(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=Li(n.visibleWrites,e);return i.forEachChild(Ve,(f,d)=>{const p=Tr(Li(u,new Oe(f)),d);r=r.updateImmediateChild(f,p)}),rv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Li(n.visibleWrites,e);return rv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function ux(n,e,i,r,l){F(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=Ze(e,i);if(Vh(n.visibleWrites,u))return null;{const f=Li(n.visibleWrites,u);return Gh(f)?l.getChild(i):Tr(f,l.getChild(i))}}function cx(n,e,i,r){const l=Ze(e,i),u=Cs(n.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=Li(n.visibleWrites,l);return Tr(f,r.getNode().getImmediateChild(i))}else return null}function fx(n,e){return Cs(n.visibleWrites,e)}function hx(n,e,i,r,l,u,f){let d;const p=Li(n.visibleWrites,e),m=Cs(p,Se());if(m!=null)d=m;else if(i!=null)d=Tr(p,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const _=[],y=f.getCompare(),E=u?d.getReverseIteratorFrom(r,f):d.getIteratorFrom(r,f);let R=E.getNext();for(;R&&_.length<l;)y(R,r)!==0&&_.push(R),R=E.getNext();return _}else return[]}function dx(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function gu(n,e,i,r){return xE(n.writeTree,n.treePath,e,i,r)}function Bd(n,e){return ox(n.writeTree,n.treePath,e)}function av(n,e,i,r){return ux(n.writeTree,n.treePath,e,i,r)}function _u(n,e){return fx(n.writeTree,Ze(n.treePath,e))}function px(n,e,i,r,l,u){return hx(n.writeTree,n.treePath,e,i,r,l,u)}function Hd(n,e,i){return cx(n.writeTree,n.treePath,e,i)}function DE(n,e){return IE(Ze(n.treePath,e),n.writeTree)}function IE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;F(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,nl(r,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,tl(r,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,Sr(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,nl(r,e.snapshotNode,l.oldSnap));else throw Cr("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const ME=new gx;class jd{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hd(this.writes_,e,r)}}getChildAfterChild(e,i,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ss(this.viewCache_),u=px(this.writes_,l,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(n){return{filter:n}}function yx(n,e){F(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function vx(n,e,i,r,l){const u=new mx;let f,d;if(i.type===sn.OVERWRITE){const m=i;m.source.fromUser?f=Yh(n,e,m.path,m.snap,r,l,u):(F(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!me(m.path),f=yu(n,e,m.path,m.snap,r,l,d,u))}else if(i.type===sn.MERGE){const m=i;m.source.fromUser?f=bx(n,e,m.path,m.children,r,l,u):(F(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),f=Kh(n,e,m.path,m.children,r,l,d,u))}else if(i.type===sn.ACK_USER_WRITE){const m=i;m.revert?f=wx(n,e,m.path,r,l,u):f=Sx(n,e,m.path,m.affectedTree,r,l,u)}else if(i.type===sn.LISTEN_COMPLETE)f=Tx(n,e,i.path,r,u);else throw Cr("Unknown operation type: "+i.type);const p=u.getChanges();return Ex(e,f,p),{viewCache:f,changes:p}}function Ex(n,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Fh(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(wE(Fh(e)))}}function kE(n,e,i,r,l,u){const f=e.eventCache;if(_u(r,i)!=null)return e;{let d,p;if(me(i))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ss(e),_=m instanceof ne?m:ne.EMPTY_NODE,y=Bd(r,_);d=n.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=gu(r,Ss(e));d=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=he(i);if(m===".priority"){F(Ui(i)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const y=av(r,i,_,p);y!=null?d=n.filter.updatePriority(_,y):d=f.getNode()}else{const _=Me(i);let y;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=av(r,i,f.getNode(),p);E!=null?y=f.getNode().getImmediateChild(m).updateChild(_,E):y=f.getNode().getImmediateChild(m)}else y=Hd(r,m,e.serverCache);y!=null?d=n.filter.updateChild(f.getNode(),m,y,_,l,u):d=f.getNode()}}return Ga(e,d,f.isFullyInitialized()||me(i),n.filter.filtersNodes())}}function yu(n,e,i,r,l,u,f,d){const p=e.serverCache;let m;const _=f?n.filter:n.filter.getIndexedFilter();if(me(i))m=_.updateFullNode(p.getNode(),r,null);else if(_.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(i,r);m=_.updateFullNode(p.getNode(),R,null)}else{const R=he(i);if(!p.isCompleteForPath(i)&&Ui(i)>1)return e;const S=Me(i),I=p.getNode().getImmediateChild(R).updateChild(S,r);R===".priority"?m=_.updatePriority(p.getNode(),I):m=_.updateChild(p.getNode(),R,I,S,ME,null)}const y=AE(e,m,p.isFullyInitialized()||me(i),_.filtersNodes()),E=new jd(l,y,u);return kE(n,y,i,l,E,d)}function Yh(n,e,i,r,l,u,f){const d=e.eventCache;let p,m;const _=new jd(l,e,u);if(me(i))m=n.filter.updateFullNode(e.eventCache.getNode(),r,f),p=Ga(e,m,!0,n.filter.filtersNodes());else{const y=he(i);if(y===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),r),p=Ga(e,m,d.isFullyInitialized(),d.isFiltered());else{const E=Me(i),R=d.getNode().getImmediateChild(y);let S;if(me(E))S=r;else{const D=_.getCompleteChild(y);D!=null?mE(E)===".priority"&&D.getChild(_E(E)).isEmpty()?S=D:S=D.updateChild(E,r):S=ne.EMPTY_NODE}if(R.equals(S))p=e;else{const D=n.filter.updateChild(d.getNode(),y,S,E,_,f);p=Ga(e,D,d.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function lv(n,e){return n.eventCache.isCompleteForChild(e)}function bx(n,e,i,r,l,u,f){let d=e;return r.foreach((p,m)=>{const _=Ze(i,p);lv(e,he(_))&&(d=Yh(n,d,_,m,l,u,f))}),r.foreach((p,m)=>{const _=Ze(i,p);lv(e,he(_))||(d=Yh(n,d,_,m,l,u,f))}),d}function ov(n,e,i){return i.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function Kh(n,e,i,r,l,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;me(i)?m=r:m=new Le(null).setTree(i,r);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(_.hasChild(y)){const R=e.serverCache.getNode().getImmediateChild(y),S=ov(n,R,E);p=yu(n,p,new Oe(y),S,l,u,f,d)}}),m.children.inorderTraversal((y,E)=>{const R=!e.serverCache.isCompleteForChild(y)&&E.value===null;if(!_.hasChild(y)&&!R){const S=e.serverCache.getNode().getImmediateChild(y),D=ov(n,S,E);p=yu(n,p,new Oe(y),D,l,u,f,d)}}),p}function Sx(n,e,i,r,l,u,f){if(_u(l,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(me(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return yu(n,e,i,p.getNode().getChild(i),l,u,d,f);if(me(i)){let m=new Le(null);return p.getNode().forEachChild(mr,(_,y)=>{m=m.set(new Oe(_),y)}),Kh(n,e,i,m,l,u,d,f)}else return e}else{let m=new Le(null);return r.foreach((_,y)=>{const E=Ze(i,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),Kh(n,e,i,m,l,u,d,f)}}function Tx(n,e,i,r,l){const u=e.serverCache,f=AE(e,u.getNode(),u.isFullyInitialized()||me(i),u.isFiltered());return kE(n,f,i,r,ME,l)}function wx(n,e,i,r,l,u){let f;if(_u(r,i)!=null)return e;{const d=new jd(r,e,l),p=e.eventCache.getNode();let m;if(me(i)||he(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=gu(r,Ss(e));else{const y=e.serverCache.getNode();F(y instanceof ne,"serverChildren would be complete if leaf node"),_=Bd(r,y)}_=_,m=n.filter.updateFullNode(p,_,u)}else{const _=he(i);let y=Hd(r,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=n.filter.updateChild(p,_,y,Me(i),d,u):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,ne.EMPTY_NODE,Me(i),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=gu(r,Ss(e)),f.isLeafNode()&&(m=n.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||_u(r,Se())!=null,Ga(e,m,f,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new kd(r.getIndex()),u=VO(r);this.processor_=_x(u);const f=i.serverCache,d=i.eventCache,p=l.updateFullNode(ne.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),_=new bs(p,f.isFullyInitialized(),l.filtersNodes()),y=new bs(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=ku(y,_),this.eventGenerator_=new $O(this.query_)}get query(){return this.query_}}function Rx(n){return n.viewCache_.serverCache.getNode()}function Ax(n,e){const i=Ss(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!me(e)&&!i.getImmediateChild(he(e)).isEmpty())?i.getChild(e):null}function uv(n){return n.eventRegistrations_.length===0}function Nx(n,e){n.eventRegistrations_.push(e)}function cv(n,e,i){const r=[];if(i){F(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&r.push(f)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return r}function fv(n,e,i,r){e.type===sn.MERGE&&e.source.queryId!==null&&(F(Ss(n.viewCache_),"We should always have a full cache before handling merges"),F(Fh(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=vx(n.processor_,l,e,i,r);return yx(n.processor_,u.viewCache),F(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,LE(n,u.changes,u.viewCache.eventCache.getNode(),null)}function Ox(n,e){const i=n.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,f)=>{r.push(Sr(u,f))}),i.isFullyInitialized()&&r.push(wE(i.getNode())),LE(n,r,i.getNode(),e)}function LE(n,e,i,r){const l=r?[r]:n.eventRegistrations_;return ZO(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu;class xx{constructor(){this.views=new Map}}function Dx(n){F(!vu,"__referenceConstructor has already been defined"),vu=n}function Ix(){return F(vu,"Reference.ts has not been loaded"),vu}function Mx(n){return n.views.size===0}function qd(n,e,i,r){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return F(u!=null,"SyncTree gave us an op for an invalid query."),fv(u,e,i,r)}else{let u=[];for(const f of n.views.values())u=u.concat(fv(f,e,i,r));return u}}function kx(n,e,i,r,l){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let d=gu(i,l?r:null),p=!1;d?p=!0:r instanceof ne?(d=Bd(i,r),p=!1):(d=ne.EMPTY_NODE,p=!1);const m=ku(new bs(d,p,!1),new bs(r,l,!1));return new Cx(e,m)}return f}function Lx(n,e,i,r,l,u){const f=kx(n,e,r,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),Nx(f,i),Ox(f,i)}function Ux(n,e,i,r){const l=e._queryIdentifier,u=[];let f=[];const d=Pi(n);if(l==="default")for(const[p,m]of n.views.entries())f=f.concat(cv(m,i,r)),uv(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(f=f.concat(cv(p,i,r)),uv(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!Pi(n)&&u.push(new(Ix())(e._repo,e._path)),{removed:u,events:f}}function UE(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function gr(n,e){let i=null;for(const r of n.views.values())i=i||Ax(r,e);return i}function PE(n,e){if(e._queryParams.loadsAllData())return Lu(n);{const r=e._queryIdentifier;return n.views.get(r)}}function zE(n,e){return PE(n,e)!=null}function Pi(n){return Lu(n)!=null}function Lu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu;function Px(n){F(!Eu,"__referenceConstructor has already been defined"),Eu=n}function zx(){return F(Eu,"Reference.ts has not been loaded"),Eu}let Bx=1;class hv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=dx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BE(n,e,i,r,l){return nx(n.pendingWriteTree_,e,i,r,l),l?yl(n,new Es(RE(),e,i)):[]}function hs(n,e,i=!1){const r=ix(n.pendingWriteTree_,e);if(sx(n.pendingWriteTree_,e)){let u=new Le(null);return r.snap!=null?u=u.set(Se(),!0):Nt(r.children,f=>{u=u.set(new Oe(f),!0)}),yl(n,new mu(r.path,u,i))}else return[]}function Uu(n,e,i){return yl(n,new Es(Ud(),e,i))}function Hx(n,e,i){const r=Le.fromObject(i);return yl(n,new rl(Ud(),e,r))}function jx(n,e){return yl(n,new sl(Ud(),e))}function qx(n,e,i){const r=Vd(n,i);if(r){const l=Gd(r),u=l.path,f=l.queryId,d=wt(u,e),p=new sl(Pd(f),d);return Yd(n,u,p)}else return[]}function Wh(n,e,i,r,l=!1){const u=e._path,f=n.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||zE(f,e))){const p=Ux(f,e,i,r);Mx(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!l){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(u,(E,R)=>Pi(R));if(_&&!y){const E=n.syncPointTree_.subtree(u);if(!E.isEmpty()){const R=Gx(E);for(let S=0;S<R.length;++S){const D=R[S],I=D.query,P=qE(n,D);n.listenProvider_.startListening(Ka(I),bu(n,I),P.hashFn,P.onComplete)}}}!y&&m.length>0&&!r&&(_?n.listenProvider_.stopListening(Ka(e),null):m.forEach(E=>{const R=n.queryToTagMap.get(Pu(E));n.listenProvider_.stopListening(Ka(E),R)}))}Yx(n,m)}return d}function Fx(n,e,i,r){const l=Vd(n,r);if(l!=null){const u=Gd(l),f=u.path,d=u.queryId,p=wt(f,e),m=new Es(Pd(d),p,i);return Yd(n,f,m)}else return[]}function Vx(n,e,i,r){const l=Vd(n,r);if(l){const u=Gd(l),f=u.path,d=u.queryId,p=wt(f,e),m=Le.fromObject(i),_=new rl(Pd(d),p,m);return Yd(n,f,_)}else return[]}function dv(n,e,i,r=!1){const l=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(l,(E,R)=>{const S=wt(E,l);u=u||gr(R,S),f=f||Pi(R)});let d=n.syncPointTree_.get(l);d?(f=f||Pi(d),u=u||gr(d,Se())):(d=new xx,n.syncPointTree_=n.syncPointTree_.set(l,d));let p;u!=null?p=!0:(p=!1,u=ne.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((R,S)=>{const D=gr(S,Se());D&&(u=u.updateImmediateChild(R,D))}));const m=zE(d,e);if(!m&&!e._queryParams.loadsAllData()){const E=Pu(e);F(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=Kx();n.queryToTagMap.set(E,R),n.tagToQueryMap.set(R,E)}const _=zd(n.pendingWriteTree_,l);let y=Lx(d,e,i,_,u,p);if(!m&&!f&&!r){const E=PE(d,e);y=y.concat(Wx(n,e,E))}return y}function Fd(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,d)=>{const p=wt(f,e),m=gr(d,p);if(m)return m});return xE(l,e,u,i,!0)}function yl(n,e){return HE(e,n.syncPointTree_,null,zd(n.pendingWriteTree_,Se()))}function HE(n,e,i,r){if(me(n.path))return jE(n,e,i,r);{const l=e.get(Se());i==null&&l!=null&&(i=gr(l,Se()));let u=[];const f=he(n.path),d=n.operationForChild(f),p=e.children.get(f);if(p&&d){const m=i?i.getImmediateChild(f):null,_=DE(r,f);u=u.concat(HE(d,p,m,_))}return l&&(u=u.concat(qd(l,n,r,i))),u}}function jE(n,e,i,r){const l=e.get(Se());i==null&&l!=null&&(i=gr(l,Se()));let u=[];return e.children.inorderTraversal((f,d)=>{const p=i?i.getImmediateChild(f):null,m=DE(r,f),_=n.operationForChild(f);_&&(u=u.concat(jE(_,d,p,m)))}),l&&(u=u.concat(qd(l,n,r,i))),u}function qE(n,e){const i=e.query,r=bu(n,i);return{hashFn:()=>(Rx(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?qx(n,i._path,r):jx(n,i._path);{const u=FN(l,i);return Wh(n,i,null,u)}}}}function bu(n,e){const i=Pu(e);return n.queryToTagMap.get(i)}function Pu(n){return n._path.toString()+"$"+n._queryIdentifier}function Vd(n,e){return n.tagToQueryMap.get(e)}function Gd(n){const e=n.indexOf("$");return F(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Oe(n.substr(0,e))}}function Yd(n,e,i){const r=n.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const l=zd(n.pendingWriteTree_,e);return qd(r,i,l,null)}function Gx(n){return n.fold((e,i,r)=>{if(i&&Pi(i))return[Lu(i)];{let l=[];return i&&(l=UE(i)),Nt(r,(u,f)=>{l=l.concat(f)}),l}})}function Ka(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(zx())(n._repo,n._path):n}function Yx(n,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const l=Pu(r),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function Kx(){return Bx++}function Wx(n,e,i){const r=e._path,l=bu(n,e),u=qE(n,i),f=n.listenProvider_.startListening(Ka(e),l,u.hashFn,u.onComplete),d=n.syncPointTree_.subtree(r);if(l)F(!Pi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,_,y)=>{if(!me(m)&&_&&Pi(_))return[Lu(_).query];{let E=[];return _&&(E=E.concat(UE(_).map(R=>R.query))),Nt(y,(R,S)=>{E=E.concat(S)}),E}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(Ka(_),bu(n,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Kd(i)}node(){return this.node_}}class Wd{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ze(this.path_,e);return new Wd(this.syncTree_,i)}node(){return Fd(this.syncTree_,this.path_)}}const Qx=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},pv=function(n,e,i){if(!n||typeof n!="object")return n;if(F(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Xx(n[".sv"],e,i);if(typeof n[".sv"]=="object")return $x(n[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Xx=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:F(!1,"Unexpected server value: "+n)}},$x=function(n,e,i){n.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const l=e.node();if(F(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const f=l.getValue();return typeof f!="number"?r:f+r},Zx=function(n,e,i,r){return Qd(e,new Wd(i,n),r)},FE=function(n,e,i){return Qd(n,new Kd(e),i)};function Qd(n,e,i){const r=n.getPriority().val(),l=pv(r,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const f=n,d=pv(f.getValue(),e,i);return d!==f.getValue()||l!==f.getPriority().val()?new it(d,ut(l)):n}else{const f=n;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new it(l))),f.forEachChild(Ve,(d,p)=>{const m=Qd(p,e.getImmediateChild(d),i);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function $d(n,e){let i=e instanceof Oe?e:new Oe(e),r=n,l=he(i);for(;l!==null;){const u=vr(r.node.children,l)||{children:{},childCount:0};r=new Xd(l,r,u),i=Me(i),l=he(i)}return r}function Dr(n){return n.node.value}function VE(n,e){n.node.value=e,Qh(n)}function GE(n){return n.node.childCount>0}function Jx(n){return Dr(n)===void 0&&!GE(n)}function zu(n,e){Nt(n.node.children,(i,r)=>{e(new Xd(i,n,r))})}function YE(n,e,i,r){i&&e(n),zu(n,l=>{YE(l,e,!0)})}function eD(n,e,i){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vl(n){return new Oe(n.parent===null?n.name:vl(n.parent)+"/"+n.name)}function Qh(n){n.parent!==null&&tD(n.parent,n.name,n)}function tD(n,e,i){const r=Jx(i),l=ei(n.node.children,e);r&&l?(delete n.node.children[e],n.node.childCount--,Qh(n)):!r&&!l&&(n.node.children[e]=i.node,n.node.childCount++,Qh(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/[\[\].#$\/\u0000-\u001F\u007F]/,iD=/[\[\].#$\u0000-\u001F\u007F]/,Th=10*1024*1024,KE=function(n){return typeof n=="string"&&n.length!==0&&!nD.test(n)},WE=function(n){return typeof n=="string"&&n.length!==0&&!iD.test(n)},sD=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WE(n)},rD=function(n,e,i,r){Zd(pd(n,"value"),e,i)},Zd=function(n,e,i){const r=i instanceof Oe?new SO(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+cs(r));if(typeof e=="function")throw new Error(n+"contains a function "+cs(r)+" with contents = "+e.toString());if(W0(e))throw new Error(n+"contains "+e.toString()+" "+cs(r));if(typeof e=="string"&&e.length>Th/3&&Ou(e)>Th)throw new Error(n+"contains a string greater than "+Th+" utf8 bytes "+cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Nt(e,(f,d)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!KE(f)))throw new Error(n+" contains an invalid key ("+f+") "+cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TO(r,f),Zd(n,d,r),wO(r)}),l&&u)throw new Error(n+' contains ".value" child '+cs(r)+" in addition to actual children.")}},QE=function(n,e,i,r){if(!WE(i))throw new Error(pd(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aD=function(n,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),QE(n,e,i)},XE=function(n,e){if(he(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},lD=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!KE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!sD(i))throw new Error(pd(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jd(n,e){let i=null;for(let r=0;r<e.length;r++){const l=e[r],u=l.getPath();i!==null&&!Dd(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function $E(n,e,i){Jd(n,i),ZE(n,r=>Dd(r,e))}function Zn(n,e,i){Jd(n,i),ZE(n,r=>nn(r,e)||nn(e,r))}function ZE(n,e){n.recursionDepth_++;let i=!0;for(let r=0;r<n.eventLists_.length;r++){const l=n.eventLists_[r];if(l){const u=l.path;e(u)?(uD(n.eventLists_[r]),n.eventLists_[r]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function uD(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const r=i.getEventRunner();Fa&&dt("event: "+i.toString()),xr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="repo_interrupt",fD=25;class hD{constructor(e,i,r,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pu(),this.transactionQueueTree_=new Xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dD(n,e,i){if(n.stats_=Od(n.repoInfo_),n.forceRestClient_||KN())n.server_=new du(n.repoInfo_,(r,l,u,f)=>{mv(n,r,l,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gv(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Kn(n.repoInfo_,e,(r,l,u,f)=>{mv(n,r,l,u,f)},r=>{gv(n,r)},r=>{mD(n,r)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=ZN(n.repoInfo_,()=>new XO(n.stats_,n.server_)),n.infoData_=new GO,n.infoSyncTree_=new hv({startListening:(r,l,u,f)=>{let d=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(d=Uu(n.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),tp(n,"connected",!1),n.serverSyncTree_=new hv({startListening:(r,l,u,f)=>(n.server_.listen(r,u,l,(d,p)=>{const m=f(d,p);Zn(n.eventQueue_,r._path,m)}),[]),stopListening:(r,l)=>{n.server_.unlisten(r,l)}})}function pD(n){const i=n.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function ep(n){return Qx({timestamp:pD(n)})}function mv(n,e,i,r,l){n.dataUpdateCount++;const u=new Oe(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let f=[];if(l)if(r){const p=nu(i,m=>ut(m));f=Vx(n.serverSyncTree_,u,p,l)}else{const p=ut(i);f=Fx(n.serverSyncTree_,u,p,l)}else if(r){const p=nu(i,m=>ut(m));f=Hx(n.serverSyncTree_,u,p)}else{const p=ut(i);f=Uu(n.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=Bu(n,u)),Zn(n.eventQueue_,d,f)}function gv(n,e){tp(n,"connected",e),e===!1&&_D(n)}function mD(n,e){Nt(e,(i,r)=>{tp(n,i,r)})}function tp(n,e,i){const r=new Oe("/.info/"+e),l=ut(i);n.infoData_.updateSnapshot(r,l);const u=Uu(n.infoSyncTree_,r,l);Zn(n.eventQueue_,r,u)}function JE(n){return n.nextWriteId_++}function gD(n,e,i,r,l){np(n,"set",{path:e.toString(),value:i,priority:r});const u=ep(n),f=ut(i,r),d=Fd(n.serverSyncTree_,e),p=FE(f,d,u),m=JE(n),_=BE(n.serverSyncTree_,e,p,m,!0);Jd(n.eventQueue_,_),n.server_.put(e.toString(),f.val(!0),(E,R)=>{const S=E==="ok";S||Rt("set at "+e+" failed: "+E);const D=hs(n.serverSyncTree_,m,!S);Zn(n.eventQueue_,e,D),bD(n,l,E,R)});const y=sb(n,e);Bu(n,y),Zn(n.eventQueue_,y,[])}function _D(n){np(n,"onDisconnectEvents");const e=ep(n),i=pu();qh(n.onDisconnect_,Se(),(l,u)=>{const f=Zx(l,u,n.serverSyncTree_,e);CE(i,l,f)});let r=[];qh(i,Se(),(l,u)=>{r=r.concat(Uu(n.serverSyncTree_,l,u));const f=sb(n,l);Bu(n,f)}),n.onDisconnect_=pu(),Zn(n.eventQueue_,Se(),r)}function yD(n,e,i){let r;he(e._path)===".info"?r=dv(n.infoSyncTree_,e,i):r=dv(n.serverSyncTree_,e,i),$E(n.eventQueue_,e._path,r)}function vD(n,e,i){let r;he(e._path)===".info"?r=Wh(n.infoSyncTree_,e,i):r=Wh(n.serverSyncTree_,e,i),$E(n.eventQueue_,e._path,r)}function ED(n){n.persistentConnection_&&n.persistentConnection_.interrupt(cD)}function np(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),dt(i,...e)}function bD(n,e,i,r){e&&xr(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;r&&(u+=": "+r);const f=new Error(u);f.code=l,e(f)}})}function eb(n,e,i){return Fd(n.serverSyncTree_,e,i)||ne.EMPTY_NODE}function ip(n,e=n.transactionQueueTree_){if(e||Hu(n,e),Dr(e)){const i=nb(n,e);F(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&SD(n,vl(e),i)}else GE(e)&&zu(e,i=>{ip(n,i)})}function SD(n,e,i){const r=i.map(m=>m.currentWriteId),l=eb(n,e,r);let u=l;const f=l.hash();for(let m=0;m<i.length;m++){const _=i[m];F(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=wt(e,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;n.server_.put(p.toString(),d,m=>{np(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let E=0;E<i.length;E++)i[E].status=2,_=_.concat(hs(n.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&y.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Hu(n,$d(n.transactionQueueTree_,e)),ip(n,n.transactionQueueTree_),Zn(n.eventQueue_,e,_);for(let E=0;E<y.length;E++)xr(y[E])}else{if(m==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Rt("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=m}Bu(n,e)}},f)}function Bu(n,e){const i=tb(n,e),r=vl(i),l=nb(n,i);return TD(n,l,r),r}function TD(n,e,i){if(e.length===0)return;const r=[];let l=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=wt(i,p.path);let _=!1,y;if(F(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,l=l.concat(hs(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=fD)_=!0,y="maxretry",l=l.concat(hs(n.serverSyncTree_,p.currentWriteId,!0));else{const E=eb(n,p.path,f);p.currentInputSnapshot=E;const R=e[d].update(E.val());if(R!==void 0){Zd("transaction failed: Data returned ",R,p.path);let S=ut(R);typeof R=="object"&&R!=null&&ei(R,".priority")||(S=S.updatePriority(E.getPriority()));const I=p.currentWriteId,P=ep(n),q=FE(S,E,P);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=q,p.currentWriteId=JE(n),f.splice(f.indexOf(I),1),l=l.concat(BE(n.serverSyncTree_,p.path,q,p.currentWriteId,p.applyLocally)),l=l.concat(hs(n.serverSyncTree_,I,!0))}else _=!0,y="nodata",l=l.concat(hs(n.serverSyncTree_,p.currentWriteId,!0))}Zn(n.eventQueue_,i,l),l=[],_&&(e[d].status=2,function(E){setTimeout(E,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?r.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):r.push(()=>e[d].onComplete(new Error(y),!1,null))))}Hu(n,n.transactionQueueTree_);for(let d=0;d<r.length;d++)xr(r[d]);ip(n,n.transactionQueueTree_)}function tb(n,e){let i,r=n.transactionQueueTree_;for(i=he(e);i!==null&&Dr(r)===void 0;)r=$d(r,i),e=Me(e),i=he(e);return r}function nb(n,e){const i=[];return ib(n,e,i),i.sort((r,l)=>r.order-l.order),i}function ib(n,e,i){const r=Dr(e);if(r)for(let l=0;l<r.length;l++)i.push(r[l]);zu(e,l=>{ib(n,l,i)})}function Hu(n,e){const i=Dr(e);if(i){let r=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[r]=i[l],r++);i.length=r,VE(e,i.length>0?i:void 0)}zu(e,r=>{Hu(n,r)})}function sb(n,e){const i=vl(tb(n,e)),r=$d(n.transactionQueueTree_,e);return eD(r,l=>{wh(n,l)}),wh(n,r),YE(r,l=>{wh(n,l)}),i}function wh(n,e){const i=Dr(e);if(i){const r=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(F(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(F(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(hs(n.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?VE(e,void 0):i.length=u+1,Zn(n.eventQueue_,vl(e),l);for(let f=0;f<r.length;f++)xr(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){let e="";const i=n.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let l=i[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function CD(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${i}' in query '${n}'`)}return e}const _v=function(n,e){const i=RD(n),r=i.namespace;i.domain==="firebase.com"&&$n(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&$n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||zN();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new aE(i.host,i.secure,r,l,e,"",r!==i.subdomain),path:new Oe(i.pathString)}},RD=function(n){let e="",i="",r="",l="",u="",f=!0,d="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(_,y)),_<y&&(l=wD(n.substring(_,y)));const E=CD(n.substring(Math.min(n.length,y)));m=e.indexOf(":"),m>=0?(f=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),i=e.substring(S+1),u=r}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:i,subdomain:r,secure:f,scheme:d,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,i,r,l){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class ND{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,i,r,l){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=l}get key(){return me(this._path)?null:mE(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){const e=tv(this._queryParams),i=Ad(e);return i==="{}"?"default":i}get _queryObject(){return tv(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof sp))return!1;const i=this._repo===e._repo,r=Dd(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+bO(this._path)}}class Hi extends sp{constructor(e,i){super(e,i,new Ld,!1)}get parent(){const e=_E(this._path);return e===null?null:new Hi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Su{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Oe(e),r=Xh(this.ref,e);return new Su(this._node.getChild(i),r,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new Su(l,Xh(this.ref,r),Ve)))}hasChild(e){const i=new Oe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _r(n,e){return n=Ot(n),n._checkNotDeleted("ref"),e!==void 0?Xh(n._root,e):n._root}function Xh(n,e){return n=Ot(n),he(n._path)===null?aD("child","path",e):QE("child","path",e),new Hi(n._repo,Ze(n._path,e))}function rb(n){return XE("remove",n._path),rp(n,null)}function rp(n,e){n=Ot(n),XE("set",n._path),rD("set",e,n._path);const i=new Nu;return gD(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}class ap{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new AD("value",this,new Su(e.snapshotNode,new Hi(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new ND(this,e,i):null}matches(e){return e instanceof ap?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function xD(n,e,i,r,l){const u=new OD(i,void 0),f=new ap(u);return yD(n._repo,n,f),()=>vD(n._repo,n,f)}function ab(n,e,i,r){return xD(n,"value",e)}Dx(Hi);Px(Hi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="FIREBASE_DATABASE_EMULATOR_HOST",$h={};let ID=!1;function MD(n,e,i,r){n.repoInfo_=new aE(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(n.authTokenProvider_=r)}function kD(n,e,i,r,l){let u=r||n.options.databaseURL;u===void 0&&(n.options.projectId||$n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=_v(u,l),d=f.repoInfo,p;typeof process<"u"&&Py&&(p=Py[DD]),p?(u=`http://${p}?ns=${d.namespace}`,f=_v(u,l),d=f.repoInfo):f.repoInfo.secure;const m=new QN(n.name,n.options,e);lD("Invalid Firebase Database URL",f),me(f.path)||$n("Database URL must point to the root of a Firebase Database (not including a child path).");const _=UD(d,n,m,new WN(n,i));return new PD(_,n)}function LD(n,e){const i=$h[e];(!i||i[n.key]!==n)&&$n(`Database ${e}(${n.repoInfo_}) has already been deleted.`),ED(n),delete i[n.key]}function UD(n,e,i,r){let l=$h[e.name];l||(l={},$h[e.name]=l);let u=l[n.toURLString()];return u&&$n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new hD(n,ID,i,r),l[n.toURLString()]=u,u}class PD{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$n("Cannot call "+e+" on a deleted database.")}}function zD(n=l0(),e){const i=_d(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=jC("database");r&&BD(i,...r)}return i}function BD(n,e,i,r={}){n=Ot(n),n._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&ms(r,u.repoInfo_.emulatorOptions))return;$n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&$n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Qo(Qo.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:qC(r.mockUserToken,n.app.options.projectId);f=new Qo(d)}MD(u,l,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n){IN(Ar),Er(new gs("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return kD(r,l,u,i)},"PUBLIC").setMultipleInstances(!0)),ki(zy,By,n),ki(zy,By,"esm2017")}Kn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Kn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};HD();const jD={apiKey:"AIzaSyBOtSmM02cVwW8BH29UqXeQP-GoFWvmNqo",authDomain:"summarywiki-32605.firebaseapp.com",databaseURL:"https://summarywiki-32605-default-rtdb.firebaseio.com",projectId:"summarywiki-32605",storageBucket:"summarywiki-32605.firebasestorage.app",messagingSenderId:"1009942867972",appId:"1:1009942867972:web:7493cedaef3851c71e0551",measurementId:"G-9SBCNB4RS5"},qD=a0(jD),yr=zD(qD);function FD(n){const{resultAry:e}={...n},[i,r]=M.useState([]),[l,u]=M.useState(""),f=M.useRef(null),d=M.useContext(Sl),p=_r(yr,"user_"+(d==null?void 0:d.uid)+"/bookMark");M.useEffect(()=>{ab(p,_=>{_.exists()&&r(Object.keys(_.val()))})},[d]);async function m(_,y,E){if(d!=null){if(i.includes(y))rb(_r(yr,"user_"+d.uid+"/bookMark/"+y));else{const R=new Date,S={id:_,title:y,year:R.getFullYear(),month:R.getMonth()+1,date:R.getDate(),extract:E};rp(_r(yr,"user_"+d.uid+"/bookMark/"+y),S)}u(y),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u("")},5e3)}}return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"",children:e.map(_=>O.jsxs("div",{className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow",children:[O.jsxs("div",{className:"flex justify-between mb-6",children:[O.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:O.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+_.title,className:"fadeIn",children:_.title})}),O.jsx("button",{onClick:()=>m(_.id,_.title,_.extract),className:d?"w-8 h-8 p-1 rounded-full":"hidden",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full "+(i.includes(_.title)?"fill-cyan-600":"fill-slate-300"),children:O.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),O.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:_.extract}})]},_.id))}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l==""?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:O.jsxs("p",{className:l==""?"opacity-0":"",children:["",O.jsx("span",{children:l}),""]})})]})}function lb(n,e){return function(){return n.apply(e,arguments)}}const{toString:VD}=Object.prototype,{getPrototypeOf:lp}=Object,ju=(n=>e=>{const i=VD.call(e);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),on=n=>(n=n.toLowerCase(),e=>ju(e)===n),qu=n=>e=>typeof e===n,{isArray:Ir}=Array,al=qu("undefined");function GD(n){return n!==null&&!al(n)&&n.constructor!==null&&!al(n.constructor)&&Pt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ob=on("ArrayBuffer");function YD(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ob(n.buffer),e}const KD=qu("string"),Pt=qu("function"),ub=qu("number"),Fu=n=>n!==null&&typeof n=="object",WD=n=>n===!0||n===!1,Xo=n=>{if(ju(n)!=="object")return!1;const e=lp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},QD=on("Date"),XD=on("File"),$D=on("Blob"),ZD=on("FileList"),JD=n=>Fu(n)&&Pt(n.pipe),eI=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Pt(n.append)&&((e=ju(n))==="formdata"||e==="object"&&Pt(n.toString)&&n.toString()==="[object FormData]"))},tI=on("URLSearchParams"),[nI,iI,sI,rI]=["ReadableStream","Request","Response","Headers"].map(on),aI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function El(n,e,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let r,l;if(typeof n!="object"&&(n=[n]),Ir(n))for(r=0,l=n.length;r<l;r++)e.call(null,n[r],r,n);else{const u=i?Object.getOwnPropertyNames(n):Object.keys(n),f=u.length;let d;for(r=0;r<f;r++)d=u[r],e.call(null,n[d],d,n)}}function cb(n,e){e=e.toLowerCase();const i=Object.keys(n);let r=i.length,l;for(;r-- >0;)if(l=i[r],e===l.toLowerCase())return l;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fb=n=>!al(n)&&n!==ds;function Zh(){const{caseless:n}=fb(this)&&this||{},e={},i=(r,l)=>{const u=n&&cb(e,l)||l;Xo(e[u])&&Xo(r)?e[u]=Zh(e[u],r):Xo(r)?e[u]=Zh({},r):Ir(r)?e[u]=r.slice():e[u]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&El(arguments[r],i);return e}const lI=(n,e,i,{allOwnKeys:r}={})=>(El(e,(l,u)=>{i&&Pt(l)?n[u]=lb(l,i):n[u]=l},{allOwnKeys:r}),n),oI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),uI=(n,e,i,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),i&&Object.assign(n.prototype,i)},cI=(n,e,i,r)=>{let l,u,f;const d={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),u=l.length;u-- >0;)f=l[u],(!r||r(f,n,e))&&!d[f]&&(e[f]=n[f],d[f]=!0);n=i!==!1&&lp(n)}while(n&&(!i||i(n,e))&&n!==Object.prototype);return e},fI=(n,e,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=e.length;const r=n.indexOf(e,i);return r!==-1&&r===i},hI=n=>{if(!n)return null;if(Ir(n))return n;let e=n.length;if(!ub(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=n[e];return i},dI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&lp(Uint8Array)),pI=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=r.next())&&!l.done;){const u=l.value;e.call(n,u[0],u[1])}},mI=(n,e)=>{let i;const r=[];for(;(i=n.exec(e))!==null;)r.push(i);return r},gI=on("HTMLFormElement"),_I=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,l){return r.toUpperCase()+l}),yv=(({hasOwnProperty:n})=>(e,i)=>n.call(e,i))(Object.prototype),yI=on("RegExp"),hb=(n,e)=>{const i=Object.getOwnPropertyDescriptors(n),r={};El(i,(l,u)=>{let f;(f=e(l,u,n))!==!1&&(r[u]=f||l)}),Object.defineProperties(n,r)},vI=n=>{hb(n,(e,i)=>{if(Pt(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=n[i];if(Pt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},EI=(n,e)=>{const i={},r=l=>{l.forEach(u=>{i[u]=!0})};return Ir(n)?r(n):r(String(n).split(e)),i},bI=()=>{},SI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function TI(n){return!!(n&&Pt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const wI=n=>{const e=new Array(10),i=(r,l)=>{if(Fu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[l]=r;const u=Ir(r)?[]:{};return El(r,(f,d)=>{const p=i(f,l+1);!al(p)&&(u[d]=p)}),e[l]=void 0,u}}return r};return i(n,0)},CI=on("AsyncFunction"),RI=n=>n&&(Fu(n)||Pt(n))&&Pt(n.then)&&Pt(n.catch),db=((n,e)=>n?setImmediate:e?((i,r)=>(ds.addEventListener("message",({source:l,data:u})=>{l===ds&&u===i&&r.length&&r.shift()()},!1),l=>{r.push(l),ds.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Pt(ds.postMessage)),AI=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||db,k={isArray:Ir,isArrayBuffer:ob,isBuffer:GD,isFormData:eI,isArrayBufferView:YD,isString:KD,isNumber:ub,isBoolean:WD,isObject:Fu,isPlainObject:Xo,isReadableStream:nI,isRequest:iI,isResponse:sI,isHeaders:rI,isUndefined:al,isDate:QD,isFile:XD,isBlob:$D,isRegExp:yI,isFunction:Pt,isStream:JD,isURLSearchParams:tI,isTypedArray:dI,isFileList:ZD,forEach:El,merge:Zh,extend:lI,trim:aI,stripBOM:oI,inherits:uI,toFlatObject:cI,kindOf:ju,kindOfTest:on,endsWith:fI,toArray:hI,forEachEntry:pI,matchAll:mI,isHTMLForm:gI,hasOwnProperty:yv,hasOwnProp:yv,reduceDescriptors:hb,freezeMethods:vI,toObjectSet:EI,toCamelCase:_I,noop:bI,toFiniteNumber:SI,findKey:cb,global:ds,isContextDefined:fb,isSpecCompliantForm:TI,toJSONObject:wI,isAsyncFn:CI,isThenable:RI,setImmediate:db,asap:AI};function le(n,e,i,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}k.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const pb=le.prototype,mb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mb[n]={value:n}});Object.defineProperties(le,mb);Object.defineProperty(pb,"isAxiosError",{value:!0});le.from=(n,e,i,r,l,u)=>{const f=Object.create(pb);return k.toFlatObject(n,f,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),le.call(f,n.message,e,i,r,l),f.cause=n,f.name=n.name,u&&Object.assign(f,u),f};const NI=null;function Jh(n){return k.isPlainObject(n)||k.isArray(n)}function gb(n){return k.endsWith(n,"[]")?n.slice(0,-2):n}function vv(n,e,i){return n?n.concat(e).map(function(l,u){return l=gb(l),!i&&u?"["+l+"]":l}).join(i?".":""):e}function OI(n){return k.isArray(n)&&!n.some(Jh)}const xI=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function Vu(n,e,i){if(!k.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,i=k.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,I){return!k.isUndefined(I[D])});const r=i.metaTokens,l=i.visitor||_,u=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(l))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(k.isDate(S))return S.toISOString();if(!p&&k.isBlob(S))throw new le("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(S)||k.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function _(S,D,I){let P=S;if(S&&!I&&typeof S=="object"){if(k.endsWith(D,"{}"))D=r?D:D.slice(0,-2),S=JSON.stringify(S);else if(k.isArray(S)&&OI(S)||(k.isFileList(S)||k.endsWith(D,"[]"))&&(P=k.toArray(S)))return D=gb(D),P.forEach(function(j,ie){!(k.isUndefined(j)||j===null)&&e.append(f===!0?vv([D],ie,u):f===null?D:D+"[]",m(j))}),!1}return Jh(S)?!0:(e.append(vv(I,D,u),m(S)),!1)}const y=[],E=Object.assign(xI,{defaultVisitor:_,convertValue:m,isVisitable:Jh});function R(S,D){if(!k.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(S),k.forEach(S,function(P,q){(!(k.isUndefined(P)||P===null)&&l.call(e,P,k.isString(q)?q.trim():q,D,E))===!0&&R(P,D?D.concat(q):[q])}),y.pop()}}if(!k.isObject(n))throw new TypeError("data must be an object");return R(n),e}function Ev(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function op(n,e){this._pairs=[],n&&Vu(n,this,e)}const _b=op.prototype;_b.append=function(e,i){this._pairs.push([e,i])};_b.toString=function(e){const i=e?function(r){return e.call(this,r,Ev)}:Ev;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function DI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yb(n,e,i){if(!e)return n;const r=i&&i.encode||DI;k.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let u;if(l?u=l(e,i):u=k.isURLSearchParams(e)?e.toString():new op(e,i).toString(r),u){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class bv{constructor(){this.handlers=[]}use(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},II=typeof URLSearchParams<"u"?URLSearchParams:op,MI=typeof FormData<"u"?FormData:null,kI=typeof Blob<"u"?Blob:null,LI={isBrowser:!0,classes:{URLSearchParams:II,FormData:MI,Blob:kI},protocols:["http","https","file","blob","url","data"]},up=typeof window<"u"&&typeof document<"u",ed=typeof navigator=="object"&&navigator||void 0,UI=up&&(!ed||["ReactNative","NativeScript","NS"].indexOf(ed.product)<0),PI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zI=up&&window.location.href||"http://localhost",BI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:up,hasStandardBrowserEnv:UI,hasStandardBrowserWebWorkerEnv:PI,navigator:ed,origin:zI},Symbol.toStringTag,{value:"Module"})),pt={...BI,...LI};function HI(n,e){return Vu(n,new pt.classes.URLSearchParams,Object.assign({visitor:function(i,r,l,u){return pt.isNode&&k.isBuffer(i)?(this.append(r,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function jI(n){return k.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qI(n){const e={},i=Object.keys(n);let r;const l=i.length;let u;for(r=0;r<l;r++)u=i[r],e[u]=n[u];return e}function Eb(n){function e(i,r,l,u){let f=i[u++];if(f==="__proto__")return!0;const d=Number.isFinite(+f),p=u>=i.length;return f=!f&&k.isArray(l)?l.length:f,p?(k.hasOwnProp(l,f)?l[f]=[l[f],r]:l[f]=r,!d):((!l[f]||!k.isObject(l[f]))&&(l[f]=[]),e(i,r,l[f],u)&&k.isArray(l[f])&&(l[f]=qI(l[f])),!d)}if(k.isFormData(n)&&k.isFunction(n.entries)){const i={};return k.forEachEntry(n,(r,l)=>{e(jI(r),l,i,0)}),i}return null}function FI(n,e,i){if(k.isString(n))try{return(e||JSON.parse)(n),k.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(n)}const bl={transitional:vb,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const r=i.getContentType()||"",l=r.indexOf("application/json")>-1,u=k.isObject(e);if(u&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return l?JSON.stringify(Eb(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HI(e,this.formSerializer).toString();if((d=k.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Vu(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||l?(i.setContentType("application/json",!1),FI(e)):e}],transformResponse:[function(e){const i=this.transitional||bl.transitional,r=i&&i.forcedJSONParsing,l=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(r&&!this.responseType||l)){const f=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(d){if(f)throw d.name==="SyntaxError"?le.from(d,le.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],n=>{bl.headers[n]={}});const VI=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GI=n=>{const e={};let i,r,l;return n&&n.split(`
`).forEach(function(f){l=f.indexOf(":"),i=f.substring(0,l).trim().toLowerCase(),r=f.substring(l+1).trim(),!(!i||e[i]&&VI[i])&&(i==="set-cookie"?e[i]?e[i].push(r):e[i]=[r]:e[i]=e[i]?e[i]+", "+r:r)}),e},Sv=Symbol("internals");function Ba(n){return n&&String(n).trim().toLowerCase()}function $o(n){return n===!1||n==null?n:k.isArray(n)?n.map($o):String(n)}function YI(n){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(n);)e[r[1]]=r[2];return e}const KI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ch(n,e,i,r,l){if(k.isFunction(r))return r.call(this,e,i);if(l&&(e=i),!!k.isString(e)){if(k.isString(r))return e.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(e)}}function WI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,r)=>i.toUpperCase()+r)}function QI(n,e){const i=k.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+i,{value:function(l,u,f){return this[r].call(this,e,l,u,f)},configurable:!0})})}let At=class{constructor(e){e&&this.set(e)}set(e,i,r){const l=this;function u(d,p,m){const _=Ba(p);if(!_)throw new Error("header name must be a non-empty string");const y=k.findKey(l,_);(!y||l[y]===void 0||m===!0||m===void 0&&l[y]!==!1)&&(l[y||p]=$o(d))}const f=(d,p)=>k.forEach(d,(m,_)=>u(m,_,p));if(k.isPlainObject(e)||e instanceof this.constructor)f(e,i);else if(k.isString(e)&&(e=e.trim())&&!KI(e))f(GI(e),i);else if(k.isHeaders(e))for(const[d,p]of e.entries())u(p,d,r);else e!=null&&u(i,e,r);return this}get(e,i){if(e=Ba(e),e){const r=k.findKey(this,e);if(r){const l=this[r];if(!i)return l;if(i===!0)return YI(l);if(k.isFunction(i))return i.call(this,l,r);if(k.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=Ba(e),e){const r=k.findKey(this,e);return!!(r&&this[r]!==void 0&&(!i||Ch(this,this[r],r,i)))}return!1}delete(e,i){const r=this;let l=!1;function u(f){if(f=Ba(f),f){const d=k.findKey(r,f);d&&(!i||Ch(r,r[d],d,i))&&(delete r[d],l=!0)}}return k.isArray(e)?e.forEach(u):u(e),l}clear(e){const i=Object.keys(this);let r=i.length,l=!1;for(;r--;){const u=i[r];(!e||Ch(this,this[u],u,e,!0))&&(delete this[u],l=!0)}return l}normalize(e){const i=this,r={};return k.forEach(this,(l,u)=>{const f=k.findKey(r,u);if(f){i[f]=$o(l),delete i[u];return}const d=e?WI(u):String(u).trim();d!==u&&delete i[u],i[d]=$o(l),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return k.forEach(this,(r,l)=>{r!=null&&r!==!1&&(i[l]=e&&k.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const r=new this(e);return i.forEach(l=>r.set(l)),r}static accessor(e){const r=(this[Sv]=this[Sv]={accessors:{}}).accessors,l=this.prototype;function u(f){const d=Ba(f);r[d]||(QI(l,f),r[d]=!0)}return k.isArray(e)?e.forEach(u):u(e),this}};At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(At.prototype,({value:n},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[i]=r}}});k.freezeMethods(At);function Rh(n,e){const i=this||bl,r=e||i,l=At.from(r.headers);let u=r.data;return k.forEach(n,function(d){u=d.call(i,u,l.normalize(),e?e.status:void 0)}),l.normalize(),u}function bb(n){return!!(n&&n.__CANCEL__)}function Mr(n,e,i){le.call(this,n??"canceled",le.ERR_CANCELED,e,i),this.name="CanceledError"}k.inherits(Mr,le,{__CANCEL__:!0});function Sb(n,e,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?n(i):e(new le("Request failed with status code "+i.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function XI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function $I(n,e){n=n||10;const i=new Array(n),r=new Array(n);let l=0,u=0,f;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),_=r[u];f||(f=m),i[l]=p,r[l]=m;let y=u,E=0;for(;y!==l;)E+=i[y++],y=y%n;if(l=(l+1)%n,l===u&&(u=(u+1)%n),m-f<e)return;const R=_&&m-_;return R?Math.round(E*1e3/R):void 0}}function ZI(n,e){let i=0,r=1e3/e,l,u;const f=(m,_=Date.now())=>{i=_,l=null,u&&(clearTimeout(u),u=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),y=_-i;y>=r?f(m,_):(l=m,u||(u=setTimeout(()=>{u=null,f(l)},r-y)))},()=>l&&f(l)]}const Tu=(n,e,i=3)=>{let r=0;const l=$I(50,250);return ZI(u=>{const f=u.loaded,d=u.lengthComputable?u.total:void 0,p=f-r,m=l(p),_=f<=d;r=f;const y={loaded:f,total:d,progress:d?f/d:void 0,bytes:p,rate:m||void 0,estimated:m&&d&&_?(d-f)/m:void 0,event:u,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(y)},i)},Tv=(n,e)=>{const i=n!=null;return[r=>e[0]({lengthComputable:i,total:n,loaded:r}),e[1]]},wv=n=>(...e)=>k.asap(()=>n(...e)),JI=pt.hasStandardBrowserEnv?((n,e)=>i=>(i=new URL(i,pt.origin),n.protocol===i.protocol&&n.host===i.host&&(e||n.port===i.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,eM=pt.hasStandardBrowserEnv?{write(n,e,i,r,l,u){const f=[n+"="+encodeURIComponent(e)];k.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),k.isString(r)&&f.push("path="+r),k.isString(l)&&f.push("domain="+l),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tM(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nM(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Tb(n,e,i){let r=!tM(e);return n&&r||i==!1?nM(n,e):e}const Cv=n=>n instanceof At?{...n}:n;function Ts(n,e){e=e||{};const i={};function r(m,_,y,E){return k.isPlainObject(m)&&k.isPlainObject(_)?k.merge.call({caseless:E},m,_):k.isPlainObject(_)?k.merge({},_):k.isArray(_)?_.slice():_}function l(m,_,y,E){if(k.isUndefined(_)){if(!k.isUndefined(m))return r(void 0,m,y,E)}else return r(m,_,y,E)}function u(m,_){if(!k.isUndefined(_))return r(void 0,_)}function f(m,_){if(k.isUndefined(_)){if(!k.isUndefined(m))return r(void 0,m)}else return r(void 0,_)}function d(m,_,y){if(y in e)return r(m,_);if(y in n)return r(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d,headers:(m,_,y)=>l(Cv(m),Cv(_),y,!0)};return k.forEach(Object.keys(Object.assign({},n,e)),function(_){const y=p[_]||l,E=y(n[_],e[_],_);k.isUndefined(E)&&y!==d||(i[_]=E)}),i}const wb=n=>{const e=Ts({},n);let{data:i,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:u,headers:f,auth:d}=e;e.headers=f=At.from(f),e.url=yb(Tb(e.baseURL,e.url),n.params,n.paramsSerializer),d&&f.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(k.isFormData(i)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((p=f.getContentType())!==!1){const[m,..._]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];f.setContentType([m||"multipart/form-data",..._].join("; "))}}if(pt.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(e)),r||r!==!1&&JI(e.url))){const m=l&&u&&eM.read(u);m&&f.set(l,m)}return e},iM=typeof XMLHttpRequest<"u",sM=iM&&function(n){return new Promise(function(i,r){const l=wb(n);let u=l.data;const f=At.from(l.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:m}=l,_,y,E,R,S;function D(){R&&R(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(_),l.signal&&l.signal.removeEventListener("abort",_)}let I=new XMLHttpRequest;I.open(l.method.toUpperCase(),l.url,!0),I.timeout=l.timeout;function P(){if(!I)return;const j=At.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),K={data:!d||d==="text"||d==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:j,config:n,request:I};Sb(function(we){i(we),D()},function(we){r(we),D()},K),I=null}"onloadend"in I?I.onloadend=P:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(P)},I.onabort=function(){I&&(r(new le("Request aborted",le.ECONNABORTED,n,I)),I=null)},I.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,n,I)),I=null},I.ontimeout=function(){let ie=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const K=l.transitional||vb;l.timeoutErrorMessage&&(ie=l.timeoutErrorMessage),r(new le(ie,K.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,n,I)),I=null},u===void 0&&f.setContentType(null),"setRequestHeader"in I&&k.forEach(f.toJSON(),function(ie,K){I.setRequestHeader(K,ie)}),k.isUndefined(l.withCredentials)||(I.withCredentials=!!l.withCredentials),d&&d!=="json"&&(I.responseType=l.responseType),m&&([E,S]=Tu(m,!0),I.addEventListener("progress",E)),p&&I.upload&&([y,R]=Tu(p),I.upload.addEventListener("progress",y),I.upload.addEventListener("loadend",R)),(l.cancelToken||l.signal)&&(_=j=>{I&&(r(!j||j.type?new Mr(null,n,I):j),I.abort(),I=null)},l.cancelToken&&l.cancelToken.subscribe(_),l.signal&&(l.signal.aborted?_():l.signal.addEventListener("abort",_)));const q=XI(l.url);if(q&&pt.protocols.indexOf(q)===-1){r(new le("Unsupported protocol "+q+":",le.ERR_BAD_REQUEST,n));return}I.send(u||null)})},rM=(n,e)=>{const{length:i}=n=n?n.filter(Boolean):[];if(e||i){let r=new AbortController,l;const u=function(m){if(!l){l=!0,d();const _=m instanceof Error?m:this.reason;r.abort(_ instanceof le?_:new Mr(_ instanceof Error?_.message:_))}};let f=e&&setTimeout(()=>{f=null,u(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const d=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),n=null)};n.forEach(m=>m.addEventListener("abort",u));const{signal:p}=r;return p.unsubscribe=()=>k.asap(d),p}},aM=function*(n,e){let i=n.byteLength;if(i<e){yield n;return}let r=0,l;for(;r<i;)l=r+e,yield n.slice(r,l),r=l},lM=async function*(n,e){for await(const i of oM(n))yield*aM(i,e)},oM=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:i,value:r}=await e.read();if(i)break;yield r}}finally{await e.cancel()}},Rv=(n,e,i,r)=>{const l=lM(n,e);let u=0,f,d=p=>{f||(f=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:m,value:_}=await l.next();if(m){d(),p.close();return}let y=_.byteLength;if(i){let E=u+=y;i(E)}p.enqueue(new Uint8Array(_))}catch(m){throw d(m),m}},cancel(p){return d(p),l.return()}},{highWaterMark:2})},Gu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cb=Gu&&typeof ReadableStream=="function",uM=Gu&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Rb=(n,...e)=>{try{return!!n(...e)}catch{return!1}},cM=Cb&&Rb(()=>{let n=!1;const e=new Request(pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Av=64*1024,td=Cb&&Rb(()=>k.isReadableStream(new Response("").body)),wu={stream:td&&(n=>n.body)};Gu&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wu[e]&&(wu[e]=k.isFunction(n[e])?i=>i[e]():(i,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const fM=async n=>{if(n==null)return 0;if(k.isBlob(n))return n.size;if(k.isSpecCompliantForm(n))return(await new Request(pt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(k.isArrayBufferView(n)||k.isArrayBuffer(n))return n.byteLength;if(k.isURLSearchParams(n)&&(n=n+""),k.isString(n))return(await uM(n)).byteLength},hM=async(n,e)=>{const i=k.toFiniteNumber(n.getContentLength());return i??fM(e)},dM=Gu&&(async n=>{let{url:e,method:i,data:r,signal:l,cancelToken:u,timeout:f,onDownloadProgress:d,onUploadProgress:p,responseType:m,headers:_,withCredentials:y="same-origin",fetchOptions:E}=wb(n);m=m?(m+"").toLowerCase():"text";let R=rM([l,u&&u.toAbortSignal()],f),S;const D=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let I;try{if(p&&cM&&i!=="get"&&i!=="head"&&(I=await hM(_,r))!==0){let K=new Request(e,{method:"POST",body:r,duplex:"half"}),_e;if(k.isFormData(r)&&(_e=K.headers.get("content-type"))&&_.setContentType(_e),K.body){const[we,Pe]=Tv(I,Tu(wv(p)));r=Rv(K.body,Av,we,Pe)}}k.isString(y)||(y=y?"include":"omit");const P="credentials"in Request.prototype;S=new Request(e,{...E,signal:R,method:i.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:P?y:void 0});let q=await fetch(S);const j=td&&(m==="stream"||m==="response");if(td&&(d||j&&D)){const K={};["status","statusText","headers"].forEach(G=>{K[G]=q[G]});const _e=k.toFiniteNumber(q.headers.get("content-length")),[we,Pe]=d&&Tv(_e,Tu(wv(d),!0))||[];q=new Response(Rv(q.body,Av,we,()=>{Pe&&Pe(),D&&D()}),K)}m=m||"text";let ie=await wu[k.findKey(wu,m)||"text"](q,n);return!j&&D&&D(),await new Promise((K,_e)=>{Sb(K,_e,{data:ie,headers:At.from(q.headers),status:q.status,statusText:q.statusText,config:n,request:S})})}catch(P){throw D&&D(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,n,S),{cause:P.cause||P}):le.from(P,P&&P.code,n,S)}}),nd={http:NI,xhr:sM,fetch:dM};k.forEach(nd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Nv=n=>`- ${n}`,pM=n=>k.isFunction(n)||n===null||n===!1,Ab={getAdapter:n=>{n=k.isArray(n)?n:[n];const{length:e}=n;let i,r;const l={};for(let u=0;u<e;u++){i=n[u];let f;if(r=i,!pM(i)&&(r=nd[(f=String(i)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${f}'`);if(r)break;l[f||"#"+u]=r}if(!r){const u=Object.entries(l).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=e?u.length>1?`since :
`+u.map(Nv).join(`
`):" "+Nv(u[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return r},adapters:nd};function Ah(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Mr(null,n)}function Ov(n){return Ah(n),n.headers=At.from(n.headers),n.data=Rh.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ab.getAdapter(n.adapter||bl.adapter)(n).then(function(r){return Ah(n),r.data=Rh.call(n,n.transformResponse,r),r.headers=At.from(r.headers),r},function(r){return bb(r)||(Ah(n),r&&r.response&&(r.response.data=Rh.call(n,n.transformResponse,r.response),r.response.headers=At.from(r.response.headers))),Promise.reject(r)})}const Nb="1.8.2",Yu={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Yu[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const xv={};Yu.transitional=function(e,i,r){function l(u,f){return"[Axios v"+Nb+"] Transitional option '"+u+"'"+f+(r?". "+r:"")}return(u,f,d)=>{if(e===!1)throw new le(l(f," has been removed"+(i?" in "+i:"")),le.ERR_DEPRECATED);return i&&!xv[f]&&(xv[f]=!0,console.warn(l(f," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(u,f,d):!0}};Yu.spelling=function(e){return(i,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function mM(n,e,i){if(typeof n!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let l=r.length;for(;l-- >0;){const u=r[l],f=e[u];if(f){const d=n[u],p=d===void 0||f(d,u,n);if(p!==!0)throw new le("option "+u+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new le("Unknown option "+u,le.ERR_BAD_OPTION)}}const Zo={assertOptions:mM,validators:Yu},_n=Zo.validators;let ps=class{constructor(e){this.defaults=e,this.interceptors={request:new bv,response:new bv}}async request(e,i){try{return await this._request(e,i)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Ts(this.defaults,i);const{transitional:r,paramsSerializer:l,headers:u}=i;r!==void 0&&Zo.assertOptions(r,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),l!=null&&(k.isFunction(l)?i.paramsSerializer={serialize:l}:Zo.assertOptions(l,{encode:_n.function,serialize:_n.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Zo.assertOptions(i,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&k.merge(u.common,u[i.method]);u&&k.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),i.headers=At.concat(f,u);const d=[];let p=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(i)===!1||(p=p&&D.synchronous,d.unshift(D.fulfilled,D.rejected))});const m=[];this.interceptors.response.forEach(function(D){m.push(D.fulfilled,D.rejected)});let _,y=0,E;if(!p){const S=[Ov.bind(this),void 0];for(S.unshift.apply(S,d),S.push.apply(S,m),E=S.length,_=Promise.resolve(i);y<E;)_=_.then(S[y++],S[y++]);return _}E=d.length;let R=i;for(y=0;y<E;){const S=d[y++],D=d[y++];try{R=S(R)}catch(I){D.call(this,I);break}}try{_=Ov.call(this,R)}catch(S){return Promise.reject(S)}for(y=0,E=m.length;y<E;)_=_.then(m[y++],m[y++]);return _}getUri(e){e=Ts(this.defaults,e);const i=Tb(e.baseURL,e.url,e.allowAbsoluteUrls);return yb(i,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){ps.prototype[e]=function(i,r){return this.request(Ts(r||{},{method:e,url:i,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(e){function i(r){return function(u,f,d){return this.request(Ts(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}ps.prototype[e]=i(),ps.prototype[e+"Form"]=i(!0)});let gM=class Ob{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const r=this;this.promise.then(l=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](l);r._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(d=>{r.subscribe(d),u=d}).then(l);return f.cancel=function(){r.unsubscribe(u)},f},e(function(u,f,d){r.reason||(r.reason=new Mr(u,f,d),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=r=>{e.abort(r)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new Ob(function(l){e=l}),cancel:e}}};function _M(n){return function(i){return n.apply(null,i)}}function yM(n){return k.isObject(n)&&n.isAxiosError===!0}const id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(id).forEach(([n,e])=>{id[e]=n});function xb(n){const e=new ps(n),i=lb(ps.prototype.request,e);return k.extend(i,ps.prototype,e,{allOwnKeys:!0}),k.extend(i,e,null,{allOwnKeys:!0}),i.create=function(l){return xb(Ts(n,l))},i}const ke=xb(bl);ke.Axios=ps;ke.CanceledError=Mr;ke.CancelToken=gM;ke.isCancel=bb;ke.VERSION=Nb;ke.toFormData=Vu;ke.AxiosError=le;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=_M;ke.isAxiosError=yM;ke.mergeConfig=Ts;ke.AxiosHeaders=At;ke.formToJSON=n=>Eb(k.isHTMLForm(n)?new FormData(n):n);ke.getAdapter=Ab.getAdapter;ke.HttpStatusCode=id;ke.default=ke;const{Axios:DM,AxiosError:IM,CanceledError:MM,isCancel:kM,CancelToken:LM,VERSION:UM,all:PM,Cancel:zM,isAxiosError:BM,spread:HM,toFormData:jM,AxiosHeaders:qM,HttpStatusCode:FM,formToJSON:VM,getAdapter:GM,mergeConfig:YM}=ke;async function Dv(n,e,i){const r=n.state?n.state.isRandom:!0,l=r?"https://ja.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=10&format=json":"https://ja.wikipedia.org/w/api.php?action=query&list=search&srnamespace=0&srlimit=10&sroffset="+e+"&srsearch="+n.state.searchStr+"&format=json";ke.get(l+"&origin=*").then(u=>{const f=r?u.data.query.random:u.data.query.search,d=[];for(let m of f)d.push(m.title);const p=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+d.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(m=>{const _=m.data.query.pages;Object.keys(_).forEach(y=>{p.push({id:y,title:_[y].title,extract:_[y].extract})}),i(p)})})}async function sd(n){ke.get("https://ja.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=10&format=json"+"&origin=*").then(i=>{const r=i.data.query.random,l=[];for(let f of r)l.push(f.title);const u=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+l.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(f=>{const d=f.data.query.pages;Object.keys(d).forEach(p=>{u.push({id:p,title:d[p].title,extract:d[p].extract})}),n(u)})})}async function Db(n,e,i){const r="https://ja.wikipedia.org/w/api.php?action=query&list=search&srnamespace=0&srlimit=10&sroffset="+e+"&srsearch="+n+"&format=json";ke.get(r+"&origin=*").then(l=>{const u=l.data.query.search,f=[];for(let p of u)f.push(p.title);const d=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+f.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(p=>{const m=p.data.query.pages;Object.keys(m).forEach(_=>{d.push({id:_,title:m[_].title,extract:m[_].extract})}),i(d)})})}function vM(n){const{searchText:e,setSearchText:i,setSearchOffset:r,setResultAry:l}={...n},u=bn();M.useEffect(()=>{const _=u.state?u.state.searchStr:"";i(_)},[]);function f(_){i(_.target.value)}function d(_){_.key.toLowerCase()=="enter"&&m()}function p(){l([]),r(0),sd(l)}function m(){l([]),r(0),e.trim()==""?sd(l):Db(e,0,l)}return O.jsxs("div",{className:"relative w-full max-w-80 flex justify-start flex-wrap mx-auto mb-24",children:[O.jsx("input",{type:"text",value:e.toString(),onChange:_=>f(_),onKeyDown:_=>d(_),className:"px-2 mr-2 border-2 grow",placeholder:"Wikipedia"}),O.jsx("button",{onClick:m,className:"px-4 rounded bg-gradient-to-b active:bg-gradient-to-t from-blue-400 to-blue-500 font-bold text-white",children:""}),O.jsx("button",{onClick:()=>p(),className:"absolute -bottom-10 right-0 underline text-slate-700",children:""})]})}function EM(){const[n,e]=M.useState([]),[i,r]=M.useState([]),[l,u]=M.useState(""),[f,d]=M.useState(0),p=M.useRef(null),m=bn();M.useEffect(()=>{Dv(m,0,e),Dv(m,10,r),d(y=>y+10)},[]);function _(){if(e(i),p.current.scrollTo(0,0),l==""){sd(r);return}Db(l,f+10,r),d(y=>y+10)}return O.jsx("div",{ref:p,className:" h-dvh overflow-y-scroll",children:O.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[O.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),O.jsx(vM,{searchText:l,setSearchText:u,setSearchOffset:d,setResultAry:e}),n.length==0?O.jsxs("div",{className:"fixed w-fit h-fit inset-0 m-auto",children:[O.jsx("div",{className:"flex justify-center mb-4","aria-label":"",children:O.jsx("div",{className:"animate-ping h-4 w-4 bg-slate-600 rounded-full"})}),O.jsx("p",{className:" text-slate-800 animate-pulse",children:"..."})]}):O.jsxs("div",{children:[O.jsx(FD,{resultAry:n}),O.jsx("button",{onClick:_,className:"block ml-auto mr-0 px-2 py-1 bg-emerald-600 text-white font-bold rounded mb-10",children:"10"})]})]})})}function bM(){const[n,e]=M.useState(""),i=Ru();function r(d){e(d.currentTarget.value)}function l(){i("search",{state:{searchStr:n,isRandom:n.trim().length==0}})}function u(){i("search",{state:{searchStr:"",isRandom:!0}})}function f(d){d.key.toLowerCase()=="enter"&&l()}return O.jsxs("div",{className:"sectionFadeIn relative w-full h-dvh bg-gradient-to-br from-slate-200 to-indigo-300",children:[O.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cover bg-[url('/bgTexture.png')] opacity-80"}),O.jsxs("div",{className:"absolute z-10 w-fit h-fit px-8 py-8 inset-0 m-auto bg-white/80 shadow",children:[O.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:"Summarized Wiki"}),O.jsx("p",{className:"text-sm font-bold mb-6 text-center",children:"-Wikipedia-"}),O.jsxs("div",{className:"w-fit mx-auto mb-4",children:[O.jsx("input",{type:"text",onChange:r,onKeyDown:f,className:"w-56 px-2 roounded bg-white border border-slate-600 mr-2",placeholder:"Wikipedia"}),O.jsx("button",{onClick:l,className:"px-4 rounded bg-gradient-to-b active:bg-gradient-to-t from-blue-400 to-blue-500 font-bold text-white",children:""})]}),O.jsx("button",{onClick:()=>u(),className:"block ml-auto mr-4 underline text-slate-700",children:""})]})]})}function SM(){const n=Ru(),e=bn(),i=M.useContext(Sl),[r,l]=M.useState(""),u=M.useRef(null);function f(){n("search",{state:{searchStr:"",isRandom:!0}})}function d(){i?n("bookMark"):(l(""),u.current!=null&&clearTimeout(u.current),u.current=setTimeout(()=>{l("")},5e3))}return O.jsxs(O.Fragment,{children:[O.jsx("footer",{className:"fixed bottom-0 w-full bg-slate-200",children:O.jsxs("menu",{className:"sectionWrapper flex justify-around flex-row py-3",children:[O.jsx("li",{children:O.jsxs("button",{onClick:f,className:"text-xs px-4 md:px-8",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/search"?"fill-slate-800":"fill-slate-400"),children:O.jsx("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})}),""]})}),O.jsx("li",{className:i?"":"opacity-50",children:O.jsxs("button",{onClick:d,className:"text-xs px-4 md:px-8",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/bookMark"?"fill-slate-800":"fill-slate-400"),children:O.jsx("path",{d:"M0 96C0 43 43 0 96 0l96 0 0 190.7c0 13.4 15.5 20.9 26 12.5L272 160l54 43.2c10.5 8.4 26 .9 26-12.5L352 0l32 0 32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32z"})}),""]})})]})}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-yellow-50 border border-yellow-600 shadow rounded transition "+(r?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"),children:O.jsx("p",{className:r?"":"opacity-0",children:r})})]})}function TM(){const[n,e]=M.useState({}),[i,r]=M.useState(),l=Object.keys(n).sort((_,y)=>{const E=new Date(n[_].year,n[_].month,n[_].date),R=new Date(n[y].year,n[y].month,n[y].date);return E.getTime()-R.getTime()}),u=M.useRef(null),f=M.useContext(Sl),d=_r(yr,"user_"+(f==null?void 0:f.uid)+"/bookMark");M.useEffect(()=>{ab(d,_=>{_.exists()&&e(_.val())})},[f]);function p(_){f!=null&&(rb(_r(yr,"user_"+f.uid+"/bookMark/"+_.title)),r(_),u.current!=null&&clearTimeout(u.current),u.current=setTimeout(()=>{r(_)},5e3))}function m(){f&&rp(_r(yr,"user_"+f.uid+"/bookMark/"+(i==null?void 0:i.title)),i),u.current!=null&&clearTimeout(u.current),r(null)}return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"pb-40",children:Object.keys(n).length>0?l.map((_,y)=>O.jsxs("div",{className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow",children:[O.jsxs("div",{className:"flex justify-between mb-2",children:[O.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:O.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+n[_].title,className:"fadeIn",children:n[_].title})}),O.jsx("button",{onClick:()=>p(n[_]),className:"w-8 h-8 p-1 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full fill-cyan-600",children:O.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),O.jsxs("p",{className:"text-slate-500 text-sm mb-6",children:[n[_].year,"/",n[_].month,"/",n[_].date,""]}),O.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:n[_].extract}})]},y)):f?O.jsx("p",{children:""}):O.jsx("p",{children:""})}),O.jsxs("div",{className:"fixed z-40 flex justify-between w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(i==null?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:[O.jsxs("p",{className:i==null?"opacity-0":"",children:["",O.jsx("span",{children:i==null?void 0:i.title}),""]}),O.jsx("button",{onClick:m,className:"inline-block px-1 underline text-cyan-600 font-bold",children:""})]})]})}function wM(){return O.jsx("div",{className:" h-dvh overflow-y-scroll",children:O.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[O.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),O.jsx(TM,{})]})})}function CM(){const[n,e]=M.useState(""),[i,r]=M.useState(""),[l,u]=M.useState(""),[f,d]=M.useState(!1),p=M.useRef(null);function m(D){e(D.currentTarget.value)}function _(D){r(D.currentTarget.value)}function y(D){u(D.currentTarget.value)}function E(D){D.key.toLocaleLowerCase()=="enter"&&R(D)}async function R(D){D.preventDefault(),i!=l&&alert("");const I=Ja();try{await h1(I,n,i),d(!0),p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(!1)},5e3),S()}catch(P){alert(`
`+P)}}function S(){e(""),r(""),u(""),document.getElementById("signupDialog").close()}return O.jsxs(O.Fragment,{children:[O.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-fit bg-white px-8 py-6 rounded",id:"signupDialog",children:[O.jsx("h3",{className:"text-center text-slate-800 font-bold mb-8",children:""}),O.jsxs("div",{className:"grow mb-10",children:[O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"string",value:n,onChange:m,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1 mb-6"}),O.jsx("h4",{className:"text-sm mb-1",children:"(6)"}),O.jsx("input",{type:"password",value:i,onChange:_,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1 mb-3"}),O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"password",value:l,onChange:y,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1"})]}),O.jsxs("div",{className:"flex justify-around",children:[O.jsx("button",{onClick:R,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:""}),O.jsx("button",{onClick:S,className:"w-24 py-1 font-bold",children:""})]})]}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:O.jsx("p",{children:""})})]})}function RM(){const[n,e]=M.useState(""),[i,r]=M.useState(""),[l,u]=M.useState(!1),f=M.useRef(null);function d(E){e(E.currentTarget.value)}function p(E){r(E.currentTarget.value)}function m(E){E.key.toLocaleLowerCase()=="enter"&&_()}async function _(){const E=Ja();try{await d1(E,n,i),setTimeout(()=>{const R=document.activeElement;R!=null&&R.blur()},10),u(!0),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(!1)},5e3),y()}catch{alert("")}}function y(){e(""),r(""),document.getElementById("loginDialog").close()}return O.jsxs(O.Fragment,{children:[O.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-96 bg-white px-8 py-6 rounded",id:"loginDialog",children:[O.jsx("h3",{className:"text-center text-slate-800 font-bold mb-8",children:""}),O.jsxs("div",{className:"grow",children:[O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"string",value:n,onChange:d,onKeyDown:m,className:"w-full border border-slate-800 rounded px-1 mb-6"}),O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"password",value:i,onChange:p,onKeyDown:m,className:"w-full border border-slate-800 rounded px-1"})]}),O.jsxs("div",{className:"flex justify-around",children:[O.jsx("button",{onClick:_,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:""}),O.jsx("button",{onClick:y,className:"w-24 py-1 font-bold",children:""})]})]}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:O.jsx("p",{children:""})})]})}function AM(){function n(i){i.preventDefault();const r=Ja(),l=r.currentUser;l!=null&&l.email&&f1(r,l.email).then(()=>{alert(""+l.email+"")}).catch(()=>{alert("")}),e()}function e(){document.getElementById("settingPasswordDialog").close()}return O.jsx(O.Fragment,{children:O.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-fit bg-white px-8 py-6 rounded",id:"settingPasswordDialog",children:[O.jsx("h3",{className:"text-center text-slate-800 font-bold mb-6",children:""}),O.jsx("p",{className:"mb-8",children:""}),O.jsxs("div",{className:"flex justify-around",children:[O.jsx("button",{onClick:n,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:"OK"}),O.jsx("button",{onClick:e,className:"w-24 py-1 font-bold",children:""})]})]})})}const Sl=M.createContext(null);function NM(){const[n,e]=M.useState(null);return O.jsx(O.Fragment,{children:O.jsxs(Sl.Provider,{value:n,children:[O.jsx(RM,{}),O.jsx(CM,{}),O.jsx(AM,{}),O.jsxs(SC,{children:[O.jsx(ON,{setUser:e}),O.jsxs(Jw,{children:[O.jsx(qo,{path:"/",element:O.jsx(bM,{})}),O.jsx(qo,{path:"/search",element:O.jsx(EM,{})}),O.jsx(qo,{path:"/bookMark",element:O.jsx(wM,{})})]}),O.jsx(SM,{})]})]})})}uw.createRoot(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(NM,{})}));
