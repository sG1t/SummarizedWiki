(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var ih={exports:{}},Da={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function JT(){if(Y_)return Da;Y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:i,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Da.Fragment=e,Da.jsx=n,Da.jsxs=n,Da}var K_;function ew(){return K_||(K_=1,ih.exports=JT()),ih.exports}var O=ew(),sh={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function tw(){if(W_)return oe;W_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function I(T,H,J){this.props=T,this.context=H,this.refs=D,this.updater=J||R}I.prototype.isReactComponent={},I.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},I.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function P(){}P.prototype=I.prototype;function q(T,H,J){this.props=T,this.context=H,this.refs=D,this.updater=J||R}var j=q.prototype=new P;j.constructor=q,S(j,I.prototype),j.isPureReactComponent=!0;var ie=Array.isArray,K={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function we(T,H,J,$,Y,ye){return J=ye.ref,{$$typeof:i,type:T,key:H,ref:J!==void 0?J:null,props:ye}}function Pe(T,H){return we(T.type,H,void 0,void 0,void 0,T.props)}function G(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function re(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return H[J]})}var mt=/\/+/g;function Sn(T,H){return typeof T=="object"&&T!==null&&T.key!=null?re(""+T.key):H.toString(36)}function un(){}function Tn(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(un,un):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Et(T,H,J,$,Y){var ye=typeof T;(ye==="undefined"||ye==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(ye){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case i:case e:ue=!0;break;case _:return ue=T._init,Et(ue(T._payload),H,J,$,Y)}}if(ue)return Y=Y(T),ue=$===""?"."+Sn(T,0):$,ie(Y)?(J="",ue!=null&&(J=ue.replace(mt,"$&/")+"/"),Et(Y,H,J,"",function(Ye){return Ye})):Y!=null&&(G(Y)&&(Y=Pe(Y,J+(Y.key==null||T&&T.key===Y.key?"":(""+Y.key).replace(mt,"$&/")+"/")+ue)),H.push(Y)),1;ue=0;var gt=$===""?".":$+":";if(ie(T))for(var Te=0;Te<T.length;Te++)$=T[Te],ye=gt+Sn($,Te),ue+=Et($,H,J,ye,Y);else if(Te=E(T),typeof Te=="function")for(T=Te.call(T),Te=0;!($=T.next()).done;)$=$.value,ye=gt+Sn($,Te++),ue+=Et($,H,J,ye,Y);else if(ye==="object"){if(typeof T.then=="function")return Et(Tn(T),H,J,$,Y);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ue}function V(T,H,J){if(T==null)return T;var $=[],Y=0;return Et(T,$,"","",function(ye){return H.call(J,ye,Y++)}),$}function ae(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function xe(){}return oe.Children={map:V,forEach:function(T,H,J){V(T,function(){H.apply(this,arguments)},J)},count:function(T){var H=0;return V(T,function(){H++}),H},toArray:function(T){return V(T,function(H){return H})||[]},only:function(T){if(!G(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},oe.Component=I,oe.Fragment=n,oe.Profiler=l,oe.PureComponent=q,oe.StrictMode=r,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},oe.cache=function(T){return function(){return T.apply(null,arguments)}},oe.cloneElement=function(T,H,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var $=S({},T.props),Y=T.key,ye=void 0;if(H!=null)for(ue in H.ref!==void 0&&(ye=void 0),H.key!==void 0&&(Y=""+H.key),H)!_e.call(H,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&H.ref===void 0||($[ue]=H[ue]);var ue=arguments.length-2;if(ue===1)$.children=J;else if(1<ue){for(var gt=Array(ue),Te=0;Te<ue;Te++)gt[Te]=arguments[Te+2];$.children=gt}return we(T.type,Y,void 0,void 0,ye,$)},oe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},oe.createElement=function(T,H,J){var $,Y={},ye=null;if(H!=null)for($ in H.key!==void 0&&(ye=""+H.key),H)_e.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(Y[$]=H[$]);var ue=arguments.length-2;if(ue===1)Y.children=J;else if(1<ue){for(var gt=Array(ue),Te=0;Te<ue;Te++)gt[Te]=arguments[Te+2];Y.children=gt}if(T&&T.defaultProps)for($ in ue=T.defaultProps,ue)Y[$]===void 0&&(Y[$]=ue[$]);return we(T,ye,void 0,void 0,null,Y)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(T){return{$$typeof:d,render:T}},oe.isValidElement=G,oe.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:ae}},oe.memo=function(T,H){return{$$typeof:m,type:T,compare:H===void 0?null:H}},oe.startTransition=function(T){var H=K.T,J={};K.T=J;try{var $=T(),Y=K.S;Y!==null&&Y(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xe,te)}catch(ye){te(ye)}finally{K.T=H}},oe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},oe.use=function(T){return K.H.use(T)},oe.useActionState=function(T,H,J){return K.H.useActionState(T,H,J)},oe.useCallback=function(T,H){return K.H.useCallback(T,H)},oe.useContext=function(T){return K.H.useContext(T)},oe.useDebugValue=function(){},oe.useDeferredValue=function(T,H){return K.H.useDeferredValue(T,H)},oe.useEffect=function(T,H){return K.H.useEffect(T,H)},oe.useId=function(){return K.H.useId()},oe.useImperativeHandle=function(T,H,J){return K.H.useImperativeHandle(T,H,J)},oe.useInsertionEffect=function(T,H){return K.H.useInsertionEffect(T,H)},oe.useLayoutEffect=function(T,H){return K.H.useLayoutEffect(T,H)},oe.useMemo=function(T,H){return K.H.useMemo(T,H)},oe.useOptimistic=function(T,H){return K.H.useOptimistic(T,H)},oe.useReducer=function(T,H,J){return K.H.useReducer(T,H,J)},oe.useRef=function(T){return K.H.useRef(T)},oe.useState=function(T){return K.H.useState(T)},oe.useSyncExternalStore=function(T,H,J){return K.H.useSyncExternalStore(T,H,J)},oe.useTransition=function(){return K.H.useTransition()},oe.version="19.0.0",oe}var Q_;function rd(){return Q_||(Q_=1,sh.exports=tw()),sh.exports}var M=rd(),rh={exports:{}},Ia={},ah={exports:{}},lh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function nw(){return X_||(X_=1,function(i){function e(V,ae){var te=V.length;V.push(ae);e:for(;0<te;){var xe=te-1>>>1,T=V[xe];if(0<l(T,ae))V[xe]=ae,V[te]=T,te=xe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],te=V.pop();if(te!==ae){V[0]=te;e:for(var xe=0,T=V.length,H=T>>>1;xe<H;){var J=2*(xe+1)-1,$=V[J],Y=J+1,ye=V[Y];if(0>l($,te))Y<T&&0>l(ye,$)?(V[xe]=ye,V[Y]=te,xe=Y):(V[xe]=$,V[J]=te,xe=J);else if(Y<T&&0>l(ye,te))V[xe]=ye,V[Y]=te,xe=Y;else break e}}return ae}function l(V,ae){var te=V.sortIndex-ae.sortIndex;return te!==0?te:V.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();i.unstable_now=function(){return f.now()-d}}var p=[],m=[],_=1,v=null,E=3,R=!1,S=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function j(V){for(var ae=n(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=V)r(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(m)}}function ie(V){if(D=!1,j(V),!S)if(n(p)!==null)S=!0,Tn();else{var ae=n(m);ae!==null&&Et(ie,ae.startTime-V)}}var K=!1,_e=-1,we=5,Pe=-1;function G(){return!(i.unstable_now()-Pe<we)}function re(){if(K){var V=i.unstable_now();Pe=V;var ae=!0;try{e:{S=!1,D&&(D=!1,P(_e),_e=-1),R=!0;var te=E;try{t:{for(j(V),v=n(p);v!==null&&!(v.expirationTime>V&&G());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,E=v.priorityLevel;var T=xe(v.expirationTime<=V);if(V=i.unstable_now(),typeof T=="function"){v.callback=T,j(V),ae=!0;break t}v===n(p)&&r(p),j(V)}else r(p);v=n(p)}if(v!==null)ae=!0;else{var H=n(m);H!==null&&Et(ie,H.startTime-V),ae=!1}}break e}finally{v=null,E=te,R=!1}ae=void 0}}finally{ae?mt():K=!1}}}var mt;if(typeof q=="function")mt=function(){q(re)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,un=Sn.port2;Sn.port1.onmessage=re,mt=function(){un.postMessage(null)}}else mt=function(){I(re,0)};function Tn(){K||(K=!0,mt())}function Et(V,ae){_e=I(function(){V(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){S||R||(S=!0,Tn())},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(V){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var te=E;E=ae;try{return V()}finally{E=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=E;E=V;try{return ae()}finally{E=te}},i.unstable_scheduleCallback=function(V,ae,te){var xe=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?xe+te:xe):te=xe,V){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=te+T,V={id:_++,callback:ae,priorityLevel:V,startTime:te,expirationTime:T,sortIndex:-1},te>xe?(V.sortIndex=te,e(m,V),n(p)===null&&V===n(m)&&(D?(P(_e),_e=-1):D=!0,Et(ie,te-xe))):(V.sortIndex=T,e(p,V),S||R||(S=!0,Tn())),V},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(V){var ae=E;return function(){var te=E;E=ae;try{return V.apply(this,arguments)}finally{E=te}}}}(lh)),lh}var $_;function iw(){return $_||($_=1,ah.exports=nw()),ah.exports}var oh={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function sw(){if(Z_)return ht;Z_=1;var i=rd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ht.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},ht.flushSync=function(p){var m=f.T,_=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=m,r.p=_,r.d.f()}},ht.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},ht.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ht.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,v=d(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:R}):_==="script"&&r.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ht.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},ht.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,v=d(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ht.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},ht.requestFormReset=function(p){r.d.r(p)},ht.unstable_batchedUpdates=function(p,m){return p(m)},ht.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.0.0",ht}var J_;function rw(){if(J_)return oh.exports;J_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),oh.exports=sw(),oh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function aw(){if(ey)return Ia;ey=1;var i=iw(),e=rd(),n=rw();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var we=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===we?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case d:return"Portal";case _:return"Profiler";case m:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case S:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return s=t.displayName||null,s!==null?s:Pe(t.type)||"Memo";case q:s=t._payload,t=t._init;try{return Pe(t(s))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=Object.assign,mt,Sn;function un(t){if(mt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);mt=s&&s[1]||"",Sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+Sn}var Tn=!1;function Et(t,s){if(!t||Tn)return"";Tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(L){var x=L}Reflect.construct(t,[],B)}else{try{B.call()}catch(L){x=L}t.call(B.prototype)}}else{try{throw Error()}catch(L){x=L}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(L){if(L&&x&&typeof L.stack=="string")return[L.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var b=g.split(`
`),C=y.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===C.length)for(o=b.length-1,c=C.length-1;1<=o&&0<=c&&b[o]!==C[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==C[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==C[c]){var U=`
`+b[o].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=o&&0<=c);break}}}finally{Tn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?un(a):""}function V(t){switch(t.tag){case 26:case 27:case 5:return un(t.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return t=Et(t.type,!1),t;case 11:return t=Et(t.type.render,!1),t;case 1:return t=Et(t.type,!0),t;default:return""}}function ae(t){try{var s="";do s+=V(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function te(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function xe(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function T(t){if(te(t)!==t)throw Error(r(188))}function H(t){var s=t.alternate;if(!s){if(s=te(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return T(c),t;if(h===o)return T(c),s;h=h.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=h;else{for(var g=!1,y=c.child;y;){if(y===a){g=!0,a=c,o=h;break}if(y===o){g=!0,o=c,a=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===a){g=!0,a=h,o=c;break}if(y===o){g=!0,o=h,a=c;break}y=y.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function J(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=J(t),s!==null)return s;t=t.sibling}return null}var $=Array.isArray,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ue=[],gt=-1;function Te(t){return{current:t}}function Ye(t){0>gt||(t.current=ue[gt],ue[gt]=null,gt--)}function Ue(t,s){gt++,ue[gt]=t.current,t.current=s}var cn=Te(null),kr=Te(null),ii=Te(null),Tl=Te(null);function wl(t,s){switch(Ue(ii,s),Ue(kr,t),Ue(cn,null),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?b_(s):0;break;default:if(t=t===8?s.parentNode:s,s=t.tagName,t=t.namespaceURI)t=b_(t),s=S_(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ye(cn),Ue(cn,s)}function Rs(){Ye(cn),Ye(kr),Ye(ii)}function Ku(t){t.memoizedState!==null&&Ue(Tl,t);var s=cn.current,a=S_(s,t.type);s!==a&&(Ue(kr,t),Ue(cn,a))}function Cl(t){kr.current===t&&(Ye(cn),Ye(kr)),Tl.current===t&&(Ye(Tl),Ra._currentValue=ye)}var Wu=Object.prototype.hasOwnProperty,Qu=i.unstable_scheduleCallback,Xu=i.unstable_cancelCallback,Db=i.unstable_shouldYield,Ib=i.unstable_requestPaint,fn=i.unstable_now,Mb=i.unstable_getCurrentPriorityLevel,cp=i.unstable_ImmediatePriority,fp=i.unstable_UserBlockingPriority,Rl=i.unstable_NormalPriority,kb=i.unstable_LowPriority,hp=i.unstable_IdlePriority,Lb=i.log,Ub=i.unstable_setDisableYieldValue,Lr=null,xt=null;function Pb(t){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Lr,t,void 0,(t.current.flags&128)===128)}catch{}}function si(t){if(typeof Lb=="function"&&Ub(t),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Lr,t)}catch{}}var Dt=Math.clz32?Math.clz32:Hb,zb=Math.log,Bb=Math.LN2;function Hb(t){return t>>>=0,t===0?32:31-(zb(t)/Bb|0)|0}var Al=128,Nl=4194304;function ji(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,s){var a=t.pendingLanes;if(a===0)return 0;var o=0,c=t.suspendedLanes,h=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var y=a&134217727;return y!==0?(a=y&~c,a!==0?o=ji(a):(h&=y,h!==0?o=ji(h):t||(g=y&~g,g!==0&&(o=ji(g))))):(y=a&~c,y!==0?o=ji(y):h!==0?o=ji(h):t||(g=a&~g,g!==0&&(o=ji(g)))),o===0?0:s!==0&&s!==o&&(s&c)===0&&(c=o&-o,g=s&-s,c>=g||c===32&&(g&4194176)!==0)?s:o}function Ur(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function jb(t,s){switch(t){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dp(){var t=Al;return Al<<=1,(Al&4194176)===0&&(Al=128),t}function pp(){var t=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),t}function $u(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Pr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qb(t,s,a,o,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,b=t.expirationTimes,C=t.hiddenUpdates;for(a=g&~a;0<a;){var U=31-Dt(a),B=1<<U;y[U]=0,b[U]=-1;var x=C[U];if(x!==null)for(C[U]=null,U=0;U<x.length;U++){var L=x[U];L!==null&&(L.lane&=-536870913)}a&=~B}o!==0&&mp(t,o,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~s))}function mp(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Dt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function gp(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Dt(a),c=1<<o;c&s|t[o]&s&&(t[o]|=s),a&=~c}}function _p(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yp(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:H_(t.type))}function Fb(t,s){var a=Y.p;try{return Y.p=t,s()}finally{Y.p=a}}var ri=Math.random().toString(36).slice(2),ct="__reactFiber$"+ri,bt="__reactProps$"+ri,As="__reactContainer$"+ri,Zu="__reactEvents$"+ri,Vb="__reactListeners$"+ri,Gb="__reactHandles$"+ri,vp="__reactResources$"+ri,zr="__reactMarker$"+ri;function Ju(t){delete t[ct],delete t[bt],delete t[Zu],delete t[Vb],delete t[Gb]}function qi(t){var s=t[ct];if(s)return s;for(var a=t.parentNode;a;){if(s=a[As]||a[ct]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[ct])return a;t=C_(t)}return s}t=a,a=t.parentNode}return null}function Ns(t){if(t=t[ct]||t[As]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Br(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Os(t){var s=t[vp];return s||(s=t[vp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Je(t){t[zr]=!0}var Ep=new Set,bp={};function Fi(t,s){xs(t,s),xs(t+"Capture",s)}function xs(t,s){for(bp[t]=s,t=0;t<s.length;t++)Ep.add(s[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},Tp={};function Kb(t){return Wu.call(Tp,t)?!0:Wu.call(Sp,t)?!1:Yb.test(t)?Tp[t]=!0:(Sp[t]=!0,!1)}function xl(t,s,a){if(Kb(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Dl(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Cn(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wp(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Wb(t){var s=wp(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),o=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Il(t){t._valueTracker||(t._valueTracker=Wb(t))}function Cp(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=wp(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qb=/[\n"\\]/g;function Bt(t){return t.replace(Qb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ec(t,s,a,o,c,h,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),s!=null?g==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+zt(s)):t.value!==""+zt(s)&&(t.value=""+zt(s)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),s!=null?tc(t,g,zt(s)):a!=null?tc(t,g,zt(a)):o!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+zt(y):t.removeAttribute("name")}function Rp(t,s,a,o,c,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||s!=null))return;a=a!=null?""+zt(a):"",s=s!=null?""+zt(s):a,y||s===t.value||(t.value=s),t.defaultValue=s}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=y?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function tc(t,s,a){s==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ds(t,s,a,o){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function Ap(t,s,a){if(s!=null&&(s=""+zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+zt(a):""}function Np(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if($(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=zt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Is(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Xb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Op(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Xb.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function xp(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in s)o=s[c],s.hasOwnProperty(c)&&a[c]!==o&&Op(t,c,o)}else for(var h in s)s.hasOwnProperty(h)&&Op(t,h,s[h])}function nc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $b=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(t){return Zb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ic=null;function sc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,ks=null;function Dp(t){var s=Ns(t);if(s&&(t=s.stateNode)){var a=t[bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(ec(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var c=o[bt]||null;if(!c)throw Error(r(90));ec(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Cp(o)}break e;case"textarea":Ap(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ds(t,!!a.multiple,s,!1)}}}var rc=!1;function Ip(t,s,a){if(rc)return t(s,a);rc=!0;try{var o=t(s);return o}finally{if(rc=!1,(Ms!==null||ks!==null)&&(yo(),Ms&&(s=Ms,t=ks,ks=Ms=null,Dp(s),t)))for(s=0;s<t.length;s++)Dp(t[s])}}function Hr(t,s){var a=t.stateNode;if(a===null)return null;var o=a[bt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ac=!1;if(wn)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){ac=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{ac=!1}var ai=null,lc=null,Ll=null;function Mp(){if(Ll)return Ll;var t,s=lc,a=s.length,o,c="value"in ai?ai.value:ai.textContent,h=c.length;for(t=0;t<a&&s[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&s[a-o]===c[h-o];o++);return Ll=c.slice(t,1<o?1-o:void 0)}function Ul(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function kp(){return!1}function St(t){function s(a,o,c,h,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Pl:kp,this.isPropagationStopped=kp,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),s}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=St(Vi),qr=re({},Vi,{view:0,detail:0}),Jb=St(qr),oc,uc,Fr,Bl=re({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(oc=t.screenX-Fr.screenX,uc=t.screenY-Fr.screenY):uc=oc=0,Fr=t),oc)},movementY:function(t){return"movementY"in t?t.movementY:uc}}),Lp=St(Bl),eS=re({},Bl,{dataTransfer:0}),tS=St(eS),nS=re({},qr,{relatedTarget:0}),cc=St(nS),iS=re({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=St(iS),rS=re({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aS=St(rS),lS=re({},Vi,{data:0}),Up=St(lS),oS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fS(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=cS[t])?!!s[t]:!1}function fc(){return fS}var hS=re({},qr,{key:function(t){if(t.key){var s=oS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dS=St(hS),pS=re({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=St(pS),mS=re({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),gS=St(mS),_S=re({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yS=St(_S),vS=re({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ES=St(vS),bS=re({},Vi,{newState:0,oldState:0}),SS=St(bS),TS=[9,13,27,32],hc=wn&&"CompositionEvent"in window,Vr=null;wn&&"documentMode"in document&&(Vr=document.documentMode);var wS=wn&&"TextEvent"in window&&!Vr,zp=wn&&(!hc||Vr&&8<Vr&&11>=Vr),Bp=" ",Hp=!1;function jp(t,s){switch(t){case"keyup":return TS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function CS(t,s){switch(t){case"compositionend":return qp(s);case"keypress":return s.which!==32?null:(Hp=!0,Bp);case"textInput":return t=s.data,t===Bp&&Hp?null:t;default:return null}}function RS(t,s){if(Ls)return t==="compositionend"||!hc&&jp(t,s)?(t=Mp(),Ll=lc=ai=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zp&&s.locale!=="ko"?null:s.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!AS[t.type]:s==="textarea"}function Vp(t,s,a,o){Ms?ks?ks.push(o):ks=[o]:Ms=o,s=To(s,"onChange"),0<s.length&&(a=new zl("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Gr=null,Yr=null;function NS(t){g_(t,0)}function Hl(t){var s=Br(t);if(Cp(s))return t}function Gp(t,s){if(t==="change")return s}var Yp=!1;if(wn){var dc;if(wn){var pc="oninput"in document;if(!pc){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),pc=typeof Kp.oninput=="function"}dc=pc}else dc=!1;Yp=dc&&(!document.documentMode||9<document.documentMode)}function Wp(){Gr&&(Gr.detachEvent("onpropertychange",Qp),Yr=Gr=null)}function Qp(t){if(t.propertyName==="value"&&Hl(Yr)){var s=[];Vp(s,Yr,t,sc(t)),Ip(NS,s)}}function OS(t,s,a){t==="focusin"?(Wp(),Gr=s,Yr=a,Gr.attachEvent("onpropertychange",Qp)):t==="focusout"&&Wp()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hl(Yr)}function DS(t,s){if(t==="click")return Hl(s)}function IS(t,s){if(t==="input"||t==="change")return Hl(s)}function MS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var It=typeof Object.is=="function"?Object.is:MS;function Kr(t,s){if(It(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Wu.call(s,c)||!It(t[c],s[c]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $p(t,s){var a=Xp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Zp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Zp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ml(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ml(t.document)}return s}function mc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function kS(t,s){var a=Jp(s);s=t.focusedElem;var o=t.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zp(s.ownerDocument.documentElement,s)){if(o!==null&&mc(s)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(a,s.value.length);else if(a=(t=s.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=s.textContent.length,h=Math.min(o.start,c);o=o.end===void 0?h:Math.min(o.end,c),!a.extend&&h>o&&(c=o,o=h,h=c),c=$p(s,h);var g=$p(s,o);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),h>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=s;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)a=t[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var LS=wn&&"documentMode"in document&&11>=document.documentMode,Us=null,gc=null,Wr=null,_c=!1;function em(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_c||Us==null||Us!==Ml(o)||(o=Us,"selectionStart"in o&&mc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wr&&Kr(Wr,o)||(Wr=o,o=To(gc,"onSelect"),0<o.length&&(s=new zl("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Us)))}function Gi(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ps={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},yc={},tm={};wn&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function Yi(t){if(yc[t])return yc[t];if(!Ps[t])return t;var s=Ps[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in tm)return yc[t]=s[a];return t}var nm=Yi("animationend"),im=Yi("animationiteration"),sm=Yi("animationstart"),US=Yi("transitionrun"),PS=Yi("transitionstart"),zS=Yi("transitioncancel"),rm=Yi("transitionend"),am=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $t(t,s){am.set(t,s),Fi(s,[t])}var Ht=[],zs=0,vc=0;function jl(){for(var t=zs,s=vc=zs=0;s<t;){var a=Ht[s];Ht[s++]=null;var o=Ht[s];Ht[s++]=null;var c=Ht[s];Ht[s++]=null;var h=Ht[s];if(Ht[s++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}h!==0&&om(a,c,h)}}function ql(t,s,a,o){Ht[zs++]=t,Ht[zs++]=s,Ht[zs++]=a,Ht[zs++]=o,vc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ec(t,s,a,o){return ql(t,s,a,o),Fl(t)}function li(t,s){return ql(t,null,null,s),Fl(t)}function om(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&s!==null&&t.tag===3&&(h=t.stateNode,c=31-Dt(a),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[s]:t.push(s),s.lane=a|536870912)}function Fl(t){if(50<va)throw va=0,Af=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Bs={},um=new WeakMap;function jt(t,s){if(typeof t=="object"&&t!==null){var a=um.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ae(s)},um.set(t,s),s)}return{value:t,source:s,stack:ae(s)}}var Hs=[],js=0,Vl=null,Gl=0,qt=[],Ft=0,Ki=null,Rn=1,An="";function Wi(t,s){Hs[js++]=Gl,Hs[js++]=Vl,Vl=t,Gl=s}function cm(t,s,a){qt[Ft++]=Rn,qt[Ft++]=An,qt[Ft++]=Ki,Ki=t;var o=Rn;t=An;var c=32-Dt(o)-1;o&=~(1<<c),a+=1;var h=32-Dt(s)+c;if(30<h){var g=c-c%5;h=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Rn=1<<32-Dt(s)+c|a<<c|o,An=h+t}else Rn=1<<h|a<<c|o,An=t}function bc(t){t.return!==null&&(Wi(t,1),cm(t,1,0))}function Sc(t){for(;t===Vl;)Vl=Hs[--js],Hs[js]=null,Gl=Hs[--js],Hs[js]=null;for(;t===Ki;)Ki=qt[--Ft],qt[Ft]=null,An=qt[--Ft],qt[Ft]=null,Rn=qt[--Ft],qt[Ft]=null}var _t=null,at=null,Ee=!1,Zt=null,hn=!1,Tc=Error(r(519));function Qi(t){var s=Error(r(418,""));throw $r(jt(s,t)),Tc}function fm(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[ct]=t,s[bt]=o,a){case"dialog":ge("cancel",s),ge("close",s);break;case"iframe":case"object":case"embed":ge("load",s);break;case"video":case"audio":for(a=0;a<ba.length;a++)ge(ba[a],s);break;case"source":ge("error",s);break;case"img":case"image":case"link":ge("error",s),ge("load",s);break;case"details":ge("toggle",s);break;case"input":ge("invalid",s),Rp(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Il(s);break;case"select":ge("invalid",s);break;case"textarea":ge("invalid",s),Np(s,o.value,o.defaultValue,o.children),Il(s)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||E_(s.textContent,a)?(o.popover!=null&&(ge("beforetoggle",s),ge("toggle",s)),o.onScroll!=null&&ge("scroll",s),o.onScrollEnd!=null&&ge("scrollend",s),o.onClick!=null&&(s.onclick=wo),s=!0):s=!1,s||Qi(t)}function hm(t){for(_t=t.return;_t;)switch(_t.tag){case 3:case 27:hn=!0;return;case 5:case 13:hn=!1;return;default:_t=_t.return}}function Qr(t){if(t!==_t)return!1;if(!Ee)return hm(t),Ee=!0,!1;var s=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vf(t.type,t.memoizedProps)),a=!a),a&&(s=!0),s&&at&&Qi(t),hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){at=en(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}at=null}}else at=_t?en(t.stateNode.nextSibling):null;return!0}function Xr(){at=_t=null,Ee=!1}function $r(t){Zt===null?Zt=[t]:Zt.push(t)}var Zr=Error(r(460)),dm=Error(r(474)),wc={then:function(){}};function pm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yl(){}function mm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Yl,Yl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Zr?Error(r(483)):t;default:if(typeof s.status=="string")s.then(Yl,Yl);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=o}},function(o){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Zr?Error(r(483)):t}throw Jr=s,Zr}}var Jr=null;function gm(){if(Jr===null)throw Error(r(459));var t=Jr;return Jr=null,t}var qs=null,ea=0;function Kl(t){var s=ea;return ea+=1,qs===null&&(qs=[]),mm(qs,t,s)}function ta(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Wl(t,s){throw s.$$typeof===u?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function _m(t){var s=t._init;return s(t._payload)}function ym(t){function s(A,w){if(t){var N=A.deletions;N===null?(A.deletions=[w],A.flags|=16):N.push(w)}}function a(A,w){if(!t)return null;for(;w!==null;)s(A,w),w=w.sibling;return null}function o(A){for(var w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function c(A,w){return A=vi(A,w),A.index=0,A.sibling=null,A}function h(A,w,N){return A.index=N,t?(N=A.alternate,N!==null?(N=N.index,N<w?(A.flags|=33554434,w):N):(A.flags|=33554434,w)):(A.flags|=1048576,w)}function g(A){return t&&A.alternate===null&&(A.flags|=33554434),A}function y(A,w,N,z){return w===null||w.tag!==6?(w=vf(N,A.mode,z),w.return=A,w):(w=c(w,N),w.return=A,w)}function b(A,w,N,z){var W=N.type;return W===p?U(A,w,N.props.children,z,N.key):w!==null&&(w.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===q&&_m(W)===w.type)?(w=c(w,N.props),ta(w,N),w.return=A,w):(w=ho(N.type,N.key,N.props,null,A.mode,z),ta(w,N),w.return=A,w)}function C(A,w,N,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Ef(N,A.mode,z),w.return=A,w):(w=c(w,N.children||[]),w.return=A,w)}function U(A,w,N,z,W){return w===null||w.tag!==7?(w=rs(N,A.mode,z,W),w.return=A,w):(w=c(w,N),w.return=A,w)}function B(A,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=vf(""+w,A.mode,N),w.return=A,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f:return N=ho(w.type,w.key,w.props,null,A.mode,N),ta(N,w),N.return=A,N;case d:return w=Ef(w,A.mode,N),w.return=A,w;case q:var z=w._init;return w=z(w._payload),B(A,w,N)}if($(w)||_e(w))return w=rs(w,A.mode,N,null),w.return=A,w;if(typeof w.then=="function")return B(A,Kl(w),N);if(w.$$typeof===R)return B(A,uo(A,w),N);Wl(A,w)}return null}function x(A,w,N,z){var W=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return W!==null?null:y(A,w,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return N.key===W?b(A,w,N,z):null;case d:return N.key===W?C(A,w,N,z):null;case q:return W=N._init,N=W(N._payload),x(A,w,N,z)}if($(N)||_e(N))return W!==null?null:U(A,w,N,z,null);if(typeof N.then=="function")return x(A,w,Kl(N),z);if(N.$$typeof===R)return x(A,w,uo(A,N),z);Wl(A,N)}return null}function L(A,w,N,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return A=A.get(N)||null,y(w,A,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return A=A.get(z.key===null?N:z.key)||null,b(w,A,z,W);case d:return A=A.get(z.key===null?N:z.key)||null,C(w,A,z,W);case q:var fe=z._init;return z=fe(z._payload),L(A,w,N,z,W)}if($(z)||_e(z))return A=A.get(N)||null,U(w,A,z,W,null);if(typeof z.then=="function")return L(A,w,N,Kl(z),W);if(z.$$typeof===R)return L(A,w,N,uo(w,z),W);Wl(w,z)}return null}function Q(A,w,N,z){for(var W=null,fe=null,X=w,Z=w=0,nt=null;X!==null&&Z<N.length;Z++){X.index>Z?(nt=X,X=null):nt=X.sibling;var be=x(A,X,N[Z],z);if(be===null){X===null&&(X=nt);break}t&&X&&be.alternate===null&&s(A,X),w=h(be,w,Z),fe===null?W=be:fe.sibling=be,fe=be,X=nt}if(Z===N.length)return a(A,X),Ee&&Wi(A,Z),W;if(X===null){for(;Z<N.length;Z++)X=B(A,N[Z],z),X!==null&&(w=h(X,w,Z),fe===null?W=X:fe.sibling=X,fe=X);return Ee&&Wi(A,Z),W}for(X=o(X);Z<N.length;Z++)nt=L(X,A,Z,N[Z],z),nt!==null&&(t&&nt.alternate!==null&&X.delete(nt.key===null?Z:nt.key),w=h(nt,w,Z),fe===null?W=nt:fe.sibling=nt,fe=nt);return t&&X.forEach(function(Ri){return s(A,Ri)}),Ee&&Wi(A,Z),W}function se(A,w,N,z){if(N==null)throw Error(r(151));for(var W=null,fe=null,X=w,Z=w=0,nt=null,be=N.next();X!==null&&!be.done;Z++,be=N.next()){X.index>Z?(nt=X,X=null):nt=X.sibling;var Ri=x(A,X,be.value,z);if(Ri===null){X===null&&(X=nt);break}t&&X&&Ri.alternate===null&&s(A,X),w=h(Ri,w,Z),fe===null?W=Ri:fe.sibling=Ri,fe=Ri,X=nt}if(be.done)return a(A,X),Ee&&Wi(A,Z),W;if(X===null){for(;!be.done;Z++,be=N.next())be=B(A,be.value,z),be!==null&&(w=h(be,w,Z),fe===null?W=be:fe.sibling=be,fe=be);return Ee&&Wi(A,Z),W}for(X=o(X);!be.done;Z++,be=N.next())be=L(X,A,Z,be.value,z),be!==null&&(t&&be.alternate!==null&&X.delete(be.key===null?Z:be.key),w=h(be,w,Z),fe===null?W=be:fe.sibling=be,fe=be);return t&&X.forEach(function(ZT){return s(A,ZT)}),Ee&&Wi(A,Z),W}function Fe(A,w,N,z){if(typeof N=="object"&&N!==null&&N.type===p&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case f:e:{for(var W=N.key;w!==null;){if(w.key===W){if(W=N.type,W===p){if(w.tag===7){a(A,w.sibling),z=c(w,N.props.children),z.return=A,A=z;break e}}else if(w.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===q&&_m(W)===w.type){a(A,w.sibling),z=c(w,N.props),ta(z,N),z.return=A,A=z;break e}a(A,w);break}else s(A,w);w=w.sibling}N.type===p?(z=rs(N.props.children,A.mode,z,N.key),z.return=A,A=z):(z=ho(N.type,N.key,N.props,null,A.mode,z),ta(z,N),z.return=A,A=z)}return g(A);case d:e:{for(W=N.key;w!==null;){if(w.key===W)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){a(A,w.sibling),z=c(w,N.children||[]),z.return=A,A=z;break e}else{a(A,w);break}else s(A,w);w=w.sibling}z=Ef(N,A.mode,z),z.return=A,A=z}return g(A);case q:return W=N._init,N=W(N._payload),Fe(A,w,N,z)}if($(N))return Q(A,w,N,z);if(_e(N)){if(W=_e(N),typeof W!="function")throw Error(r(150));return N=W.call(N),se(A,w,N,z)}if(typeof N.then=="function")return Fe(A,w,Kl(N),z);if(N.$$typeof===R)return Fe(A,w,uo(A,N),z);Wl(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(a(A,w.sibling),z=c(w,N),z.return=A,A=z):(a(A,w),z=vf(N,A.mode,z),z.return=A,A=z),g(A)):a(A,w)}return function(A,w,N,z){try{ea=0;var W=Fe(A,w,N,z);return qs=null,W}catch(X){if(X===Zr)throw X;var fe=Kt(29,X,null,A.mode);return fe.lanes=z,fe.return=A,fe}finally{}}}var Xi=ym(!0),vm=ym(!1),Fs=Te(null),Ql=Te(0);function Em(t,s){t=zn,Ue(Ql,t),Ue(Fs,s),zn=t|s.baseLanes}function Cc(){Ue(Ql,zn),Ue(Fs,Fs.current)}function Rc(){zn=Ql.current,Ye(Fs),Ye(Ql)}var Vt=Te(null),dn=null;function oi(t){var s=t.alternate;Ue(Xe,Xe.current&1),Ue(Vt,t),dn===null&&(s===null||Fs.current!==null||s.memoizedState!==null)&&(dn=t)}function bm(t){if(t.tag===22){if(Ue(Xe,Xe.current),Ue(Vt,t),dn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(dn=t)}}else ui()}function ui(){Ue(Xe,Xe.current),Ue(Vt,Vt.current)}function Nn(t){Ye(Vt),dn===t&&(dn=null),Ye(Xe)}var Xe=Te(0);function Xl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var BS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},HS=i.unstable_scheduleCallback,jS=i.unstable_NormalPriority,$e={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new BS,data:new Map,refCount:0}}function na(t){t.refCount--,t.refCount===0&&HS(jS,function(){t.controller.abort()})}var ia=null,Nc=0,Vs=0,Gs=null;function qS(t,s){if(ia===null){var a=ia=[];Nc=0,Vs=Lf(),Gs={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Nc++,s.then(Sm,Sm),s}function Sm(){if(--Nc===0&&ia!==null){Gs!==null&&(Gs.status="fulfilled");var t=ia;ia=null,Vs=0,Gs=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function FS(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Tm=G.S;G.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&qS(t,s),Tm!==null&&Tm(t,s)};var $i=Te(null);function Oc(){var t=$i.current;return t!==null?t:De.pooledCache}function $l(t,s){s===null?Ue($i,$i.current):Ue($i,s.pool)}function wm(){var t=Oc();return t===null?null:{parent:$e._currentValue,pool:t}}var ci=0,ce=null,Ce=null,Ke=null,Zl=!1,Ys=!1,Zi=!1,Jl=0,sa=0,Ks=null,VS=0;function Ge(){throw Error(r(321))}function xc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!It(t[a],s[a]))return!1;return!0}function Dc(t,s,a,o,c,h){return ci=h,ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?Ji:fi,Zi=!1,h=a(o,c),Zi=!1,Ys&&(h=Rm(s,a,o,c)),Cm(t),h}function Cm(t){G.H=pn;var s=Ce!==null&&Ce.next!==null;if(ci=0,Ke=Ce=ce=null,Zl=!1,sa=0,Ks=null,s)throw Error(r(300));t===null||et||(t=t.dependencies,t!==null&&oo(t)&&(et=!0))}function Rm(t,s,a,o){ce=t;var c=0;do{if(Ys&&(Ks=null),sa=0,Ys=!1,25<=c)throw Error(r(301));if(c+=1,Ke=Ce=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=es,h=s(a,o)}while(Ys);return h}function GS(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?ra(s):s,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(ce.flags|=1024),s}function Ic(){var t=Jl!==0;return Jl=0,t}function Mc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function kc(t){if(Zl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Zl=!1}ci=0,Ke=Ce=ce=null,Ys=!1,sa=Jl=0,Ks=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function We(){if(Ce===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var s=Ke===null?ce.memoizedState:Ke.next;if(s!==null)Ke=s,Ce=t;else{if(t===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}var eo;eo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ra(t){var s=sa;return sa+=1,Ks===null&&(Ks=[]),t=mm(Ks,t,s),s=ce,(Ke===null?s.memoizedState:Ke.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?Ji:fi),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ra(t);if(t.$$typeof===R)return ft(t)}throw Error(r(438,String(t)))}function Lc(t){var s=null,a=ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=eo(),ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=ie;return s.index++,a}function On(t,s){return typeof s=="function"?s(t):s}function no(t){var s=We();return Uc(s,Ce,t)}function Uc(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=t.baseQueue,h=o.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}s.baseQueue=c=h,o.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{s=c.next;var y=g=null,b=null,C=s,U=!1;do{var B=C.lane&-536870913;if(B!==C.lane?(ve&B)===B:(ci&B)===B){var x=C.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),B===Vs&&(U=!0);else if((ci&x)===x){C=C.next,x===Vs&&(U=!0);continue}else B={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(y=b=B,g=h):b=b.next=B,ce.lanes|=x,Ei|=x;B=C.action,Zi&&a(h,B),h=C.hasEagerState?C.eagerState:a(h,B)}else x={lane:B,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},b===null?(y=b=x,g=h):b=b.next=x,ce.lanes|=B,Ei|=B;C=C.next}while(C!==null&&C!==s);if(b===null?g=h:b.next=y,!It(h,t.memoizedState)&&(et=!0,U&&(a=Gs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=b,o.lastRenderedState=h}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pc(t){var s=We(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,h=s.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);It(h,s.memoizedState)||(et=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,o]}function Am(t,s,a){var o=ce,c=We(),h=Ee;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=s();var g=!It((Ce||c).memoizedState,a);if(g&&(c.memoizedState=a,et=!0),c=c.queue,Hc(xm.bind(null,o,c,t),[t]),c.getSnapshot!==s||g||Ke!==null&&Ke.memoizedState.tag&1){if(o.flags|=2048,Ws(9,Om.bind(null,o,c,a,s),{destroy:void 0},null),De===null)throw Error(r(349));h||(ci&60)!==0||Nm(o,s,a)}return a}function Nm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ce.updateQueue,s===null?(s=eo(),ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Om(t,s,a,o){s.value=a,s.getSnapshot=o,Dm(s)&&Im(t)}function xm(t,s,a){return a(function(){Dm(s)&&Im(t)})}function Dm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!It(t,a)}catch{return!0}}function Im(t){var s=li(t,2);s!==null&&yt(s,t,2)}function zc(t){var s=Tt();if(typeof t=="function"){var a=t;if(t=a(),Zi){si(!0);try{a()}finally{si(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},s}function Mm(t,s,a,o){return t.baseState=a,Uc(t,Ce,typeof o=="function"?o:On)}function YS(t,s,a,o,c){if(ro(t))throw Error(r(485));if(t=s.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};G.T!==null?a(!0):h.isTransition=!1,o(h),a=s.pending,a===null?(h.next=s.pending=h,km(s,h)):(h.next=a.next,s.pending=a.next=h)}}function km(t,s){var a=s.action,o=s.payload,c=t.state;if(s.isTransition){var h=G.T,g={};G.T=g;try{var y=a(c,o),b=G.S;b!==null&&b(g,y),Lm(t,s,y)}catch(C){Bc(t,s,C)}finally{G.T=h}}else try{h=a(c,o),Lm(t,s,h)}catch(C){Bc(t,s,C)}}function Lm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Um(t,s,o)},function(o){return Bc(t,s,o)}):Um(t,s,a)}function Um(t,s,a){s.status="fulfilled",s.value=a,Pm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,km(t,a)))}function Bc(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Pm(s),s=s.next;while(s!==o)}t.action=null}function Pm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function zm(t,s){return s}function Bm(t,s){if(Ee){var a=De.formState;if(a!==null){e:{var o=ce;if(Ee){if(at){t:{for(var c=at,h=hn;c.nodeType!==8;){if(!h){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){at=en(c.nextSibling),o=c.data==="F!";break e}}Qi(o)}o=!1}o&&(s=a[0])}}return a=Tt(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:s},a.queue=o,a=ig.bind(null,ce,o),o.dispatch=a,o=zc(!1),h=Gc.bind(null,ce,!1,o.queue),o=Tt(),c={state:s,dispatch:null,action:t,pending:null},o.queue=c,a=YS.bind(null,ce,c,h,a),c.dispatch=a,o.memoizedState=t,[s,a,!1]}function Hm(t){var s=We();return jm(s,Ce,t)}function jm(t,s,a){s=Uc(t,s,zm)[0],t=no(On)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?ra(s):s;var o=We(),c=o.queue,h=c.dispatch;return a!==o.memoizedState&&(ce.flags|=2048,Ws(9,KS.bind(null,c,a),{destroy:void 0},null)),[s,h,t]}function KS(t,s){t.action=s}function qm(t){var s=We(),a=Ce;if(a!==null)return jm(s,a,t);We(),s=s.memoizedState,a=We();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Ws(t,s,a,o){return t={tag:t,create:s,inst:a,deps:o,next:null},s=ce.updateQueue,s===null&&(s=eo(),ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Fm(){return We().memoizedState}function io(t,s,a,o){var c=Tt();ce.flags|=t,c.memoizedState=Ws(1|s,a,{destroy:void 0},o===void 0?null:o)}function so(t,s,a,o){var c=We();o=o===void 0?null:o;var h=c.memoizedState.inst;Ce!==null&&o!==null&&xc(o,Ce.memoizedState.deps)?c.memoizedState=Ws(s,a,h,o):(ce.flags|=t,c.memoizedState=Ws(1|s,a,h,o))}function Vm(t,s){io(8390656,8,t,s)}function Hc(t,s){so(2048,8,t,s)}function Gm(t,s){return so(4,2,t,s)}function Ym(t,s){return so(4,4,t,s)}function Km(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Wm(t,s,a){a=a!=null?a.concat([t]):null,so(4,4,Km.bind(null,s,t),a)}function jc(){}function Qm(t,s){var a=We();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&xc(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Xm(t,s){var a=We();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&xc(s,o[1]))return o[0];if(o=t(),Zi){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[o,s],o}function qc(t,s,a){return a===void 0||(ci&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=Zg(),ce.lanes|=t,Ei|=t,a)}function $m(t,s,a,o){return It(a,s)?a:Fs.current!==null?(t=qc(t,a,o),It(t,s)||(et=!0),t):(ci&42)===0?(et=!0,t.memoizedState=a):(t=Zg(),ce.lanes|=t,Ei|=t,s)}function Zm(t,s,a,o,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var g=G.T,y={};G.T=y,Gc(t,!1,s,a);try{var b=c(),C=G.S;if(C!==null&&C(y,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=FS(b,o);aa(t,s,U,Ut(t))}else aa(t,s,o,Ut(t))}catch(B){aa(t,s,{then:function(){},status:"rejected",reason:B},Ut())}finally{Y.p=h,G.T=g}}function WS(){}function Fc(t,s,a,o){if(t.tag!==5)throw Error(r(476));var c=Jm(t).queue;Zm(t,c,s,ye,a===null?WS:function(){return eg(t),a(o)})}function Jm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function eg(t){var s=Jm(t).next.queue;aa(t,s,{},Ut())}function Vc(){return ft(Ra)}function tg(){return We().memoizedState}function ng(){return We().memoizedState}function QS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ut();t=pi(a);var o=mi(s,t,a);o!==null&&(yt(o,s,a),ua(o,s,a)),s={cache:Ac()},t.payload=s;return}s=s.return}}function XS(t,s,a){var o=Ut();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ro(t)?sg(s,a):(a=Ec(t,s,a,o),a!==null&&(yt(a,t,o),rg(a,s,o)))}function ig(t,s,a){var o=Ut();aa(t,s,a,o)}function aa(t,s,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ro(t))sg(s,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var g=s.lastRenderedState,y=h(g,a);if(c.hasEagerState=!0,c.eagerState=y,It(y,g))return ql(t,s,c,0),De===null&&jl(),!1}catch{}finally{}if(a=Ec(t,s,c,o),a!==null)return yt(a,t,o),rg(a,s,o),!0}return!1}function Gc(t,s,a,o){if(o={lane:2,revertLane:Lf(),action:o,hasEagerState:!1,eagerState:null,next:null},ro(t)){if(s)throw Error(r(479))}else s=Ec(t,a,o,2),s!==null&&yt(s,t,2)}function ro(t){var s=t.alternate;return t===ce||s!==null&&s===ce}function sg(t,s){Ys=Zl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function rg(t,s,a){if((a&4194176)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,gp(t,a)}}var pn={readContext:ft,use:to,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge};pn.useCacheRefresh=Ge,pn.useMemoCache=Ge,pn.useHostTransitionStatus=Ge,pn.useFormState=Ge,pn.useActionState=Ge,pn.useOptimistic=Ge;var Ji={readContext:ft,use:to,useCallback:function(t,s){return Tt().memoizedState=[t,s===void 0?null:s],t},useContext:ft,useEffect:Vm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,io(4194308,4,Km.bind(null,s,t),a)},useLayoutEffect:function(t,s){return io(4194308,4,t,s)},useInsertionEffect:function(t,s){io(4,2,t,s)},useMemo:function(t,s){var a=Tt();s=s===void 0?null:s;var o=t();if(Zi){si(!0);try{t()}finally{si(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=Tt();if(a!==void 0){var c=a(s);if(Zi){si(!0);try{a(s)}finally{si(!1)}}}else c=s;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=XS.bind(null,ce,t),[o.memoizedState,t]},useRef:function(t){var s=Tt();return t={current:t},s.memoizedState=t},useState:function(t){t=zc(t);var s=t.queue,a=ig.bind(null,ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:jc,useDeferredValue:function(t,s){var a=Tt();return qc(a,t,s)},useTransition:function(){var t=zc(!1);return t=Zm.bind(null,ce,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=ce,c=Tt();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),De===null)throw Error(r(349));(ve&60)!==0||Nm(o,s,a)}c.memoizedState=a;var h={value:a,getSnapshot:s};return c.queue=h,Vm(xm.bind(null,o,h,t),[t]),o.flags|=2048,Ws(9,Om.bind(null,o,h,a,s),{destroy:void 0},null),a},useId:function(){var t=Tt(),s=De.identifierPrefix;if(Ee){var a=An,o=Rn;a=(o&~(1<<32-Dt(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=Jl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=VS++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},useCacheRefresh:function(){return Tt().memoizedState=QS.bind(null,ce)}};Ji.useMemoCache=Lc,Ji.useHostTransitionStatus=Vc,Ji.useFormState=Bm,Ji.useActionState=Bm,Ji.useOptimistic=function(t){var s=Tt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gc.bind(null,ce,!0,a),a.dispatch=s,[t,s]};var fi={readContext:ft,use:to,useCallback:Qm,useContext:ft,useEffect:Hc,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Xm,useReducer:no,useRef:Fm,useState:function(){return no(On)},useDebugValue:jc,useDeferredValue:function(t,s){var a=We();return $m(a,Ce.memoizedState,t,s)},useTransition:function(){var t=no(On)[0],s=We().memoizedState;return[typeof t=="boolean"?t:ra(t),s]},useSyncExternalStore:Am,useId:tg};fi.useCacheRefresh=ng,fi.useMemoCache=Lc,fi.useHostTransitionStatus=Vc,fi.useFormState=Hm,fi.useActionState=Hm,fi.useOptimistic=function(t,s){var a=We();return Mm(a,Ce,t,s)};var es={readContext:ft,use:to,useCallback:Qm,useContext:ft,useEffect:Hc,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Ym,useMemo:Xm,useReducer:Pc,useRef:Fm,useState:function(){return Pc(On)},useDebugValue:jc,useDeferredValue:function(t,s){var a=We();return Ce===null?qc(a,t,s):$m(a,Ce.memoizedState,t,s)},useTransition:function(){var t=Pc(On)[0],s=We().memoizedState;return[typeof t=="boolean"?t:ra(t),s]},useSyncExternalStore:Am,useId:tg};es.useCacheRefresh=ng,es.useMemoCache=Lc,es.useHostTransitionStatus=Vc,es.useFormState=qm,es.useActionState=qm,es.useOptimistic=function(t,s){var a=We();return Ce!==null?Mm(a,Ce,t,s):(a.baseState=t,[t,a.queue.dispatch])};function Yc(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:re({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kc={isMounted:function(t){return(t=t._reactInternals)?te(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Ut(),c=pi(o);c.payload=s,a!=null&&(c.callback=a),s=mi(t,c,o),s!==null&&(yt(s,t,o),ua(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Ut(),c=pi(o);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=mi(t,c,o),s!==null&&(yt(s,t,o),ua(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ut(),o=pi(a);o.tag=2,s!=null&&(o.callback=s),s=mi(t,o,a),s!==null&&(yt(s,t,a),ua(s,t,a))}};function ag(t,s,a,o,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,g):s.prototype&&s.prototype.isPureReactComponent?!Kr(a,o)||!Kr(c,h):!0}function lg(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Kc.enqueueReplaceState(s,s.state,null)}function ts(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=re({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ao=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function og(t){ao(t)}function ug(t){console.error(t)}function cg(t){ao(t)}function lo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function fg(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Wc(t,s,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){lo(t,s)},a}function hg(t){return t=pi(t),t.tag=3,t}function dg(t,s,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;t.payload=function(){return c(h)},t.callback=function(){fg(s,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){fg(s,a,o),typeof c!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function $S(t,s,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&oa(s,a,c,!0),a=Vt.current,a!==null){switch(a.tag){case 13:return dn===null?xf():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===wc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),If(t,o,c)),!1;case 22:return a.flags|=65536,o===wc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),If(t,o,c)),!1}throw Error(r(435,a.tag))}return If(t,o,c),xf(),!1}if(Ee)return s=Vt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,o!==Tc&&(t=Error(r(422),{cause:o}),$r(jt(t,a)))):(o!==Tc&&(s=Error(r(423),{cause:o}),$r(jt(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=jt(o,a),c=Wc(t.stateNode,o,c),cf(t,c),qe!==4&&(qe=2)),!1;var h=Error(r(520),{cause:o});if(h=jt(h,a),_a===null?_a=[h]:_a.push(h),qe!==4&&(qe=2),s===null)return!0;o=jt(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Wc(a.stateNode,o,t),cf(a,t),!1;case 1:if(s=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(bi===null||!bi.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=hg(c),dg(c,t,a,o),cf(a,c),!1}a=a.return}while(a!==null);return!1}var pg=Error(r(461)),et=!1;function lt(t,s,a,o){s.child=t===null?vm(s,null,a,o):Xi(s,t.child,a,o)}function mg(t,s,a,o,c){a=a.render;var h=s.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return is(s),o=Dc(t,s,a,g,h,c),y=Ic(),t!==null&&!et?(Mc(t,s,c),xn(t,s,c)):(Ee&&y&&bc(s),s.flags|=1,lt(t,s,o,c),s.child)}function gg(t,s,a,o,c){if(t===null){var h=a.type;return typeof h=="function"&&!yf(h)&&h.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=h,_g(t,s,h,o,c)):(t=ho(a.type,null,o,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!sf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Kr,a(g,o)&&t.ref===s.ref)return xn(t,s,c)}return s.flags|=1,t=vi(h,o),t.ref=s.ref,t.return=s,s.child=t}function _g(t,s,a,o,c){if(t!==null){var h=t.memoizedProps;if(Kr(h,o)&&t.ref===s.ref)if(et=!1,s.pendingProps=o=h,sf(t,c))(t.flags&131072)!==0&&(et=!0);else return s.lanes=t.lanes,xn(t,s,c)}return Qc(t,s,a,o,c)}function yg(t,s,a){var o=s.pendingProps,c=o.children,h=(s.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(la(t,s),o.mode==="hidden"||h){if((s.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,t!==null){for(c=s.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;s.childLanes=h&~o}else s.childLanes=0,s.child=null;return vg(t,s,o,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&$l(s,g!==null?g.cachePool:null),g!==null?Em(s,g):Cc(),bm(s);else return s.lanes=s.childLanes=536870912,vg(t,s,g!==null?g.baseLanes|a:a,a)}else g!==null?($l(s,g.cachePool),Em(s,g),ui(),s.memoizedState=null):(t!==null&&$l(s,null),Cc(),ui());return lt(t,s,c,a),s.child}function vg(t,s,a,o){var c=Oc();return c=c===null?null:{parent:$e._currentValue,pool:c},s.memoizedState={baseLanes:a,cachePool:c},t!==null&&$l(s,null),Cc(),bm(s),t!==null&&oa(t,s,o,!0),null}function la(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=2097664)}}function Qc(t,s,a,o,c){return is(s),a=Dc(t,s,a,o,void 0,c),o=Ic(),t!==null&&!et?(Mc(t,s,c),xn(t,s,c)):(Ee&&o&&bc(s),s.flags|=1,lt(t,s,a,c),s.child)}function Eg(t,s,a,o,c,h){return is(s),s.updateQueue=null,a=Rm(s,o,a,c),Cm(t),o=Ic(),t!==null&&!et?(Mc(t,s,h),xn(t,s,h)):(Ee&&o&&bc(s),s.flags|=1,lt(t,s,a,h),s.child)}function bg(t,s,a,o,c){if(is(s),s.stateNode===null){var h=Bs,g=a.contextType;typeof g=="object"&&g!==null&&(h=ft(g)),h=new a(o,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Kc,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=o,h.state=s.memoizedState,h.refs={},of(s),g=a.contextType,h.context=typeof g=="object"&&g!==null?ft(g):Bs,h.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yc(s,a,g,o),h.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Kc.enqueueReplaceState(h,h.state,null),fa(s,o,h,c),ca(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){h=s.stateNode;var y=s.memoizedProps,b=ts(a,y);h.props=b;var C=h.context,U=a.contextType;g=Bs,typeof U=="object"&&U!==null&&(g=ft(U));var B=a.getDerivedStateFromProps;U=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=s.pendingProps!==y,U||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||C!==g)&&lg(s,h,o,g),di=!1;var x=s.memoizedState;h.state=x,fa(s,o,h,c),ca(),C=s.memoizedState,y||x!==C||di?(typeof B=="function"&&(Yc(s,a,B,o),C=s.memoizedState),(b=di||ag(s,a,b,o,x,C,g))?(U||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=C),h.props=o,h.state=C,h.context=g,o=b):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{h=s.stateNode,uf(t,s),g=s.memoizedProps,U=ts(a,g),h.props=U,B=s.pendingProps,x=h.context,C=a.contextType,b=Bs,typeof C=="object"&&C!==null&&(b=ft(C)),y=a.getDerivedStateFromProps,(C=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==B||x!==b)&&lg(s,h,o,b),di=!1,x=s.memoizedState,h.state=x,fa(s,o,h,c),ca();var L=s.memoizedState;g!==B||x!==L||di||t!==null&&t.dependencies!==null&&oo(t.dependencies)?(typeof y=="function"&&(Yc(s,a,y,o),L=s.memoizedState),(U=di||ag(s,a,U,o,x,L,b)||t!==null&&t.dependencies!==null&&oo(t.dependencies))?(C||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,L,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,L,b)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=L),h.props=o,h.state=L,h.context=b,o=U):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),o=!1)}return h=o,la(t,s),o=(s.flags&128)!==0,h||o?(h=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&o?(s.child=Xi(s,t.child,null,c),s.child=Xi(s,null,a,c)):lt(t,s,a,c),s.memoizedState=h.state,t=s.child):t=xn(t,s,c),t}function Sg(t,s,a,o){return Xr(),s.flags|=256,lt(t,s,a,o),s.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:wm()}}function Zc(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Wt),t}function Tg(t,s,a){var o=s.pendingProps,c=!1,h=(s.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),g&&(c=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ee){if(c?oi(s):ui(),Ee){var y=at,b;if(b=y){e:{for(b=y,y=hn;b.nodeType!==8;){if(!y){y=null;break e}if(b=en(b.nextSibling),b===null){y=null;break e}}y=b}y!==null?(s.memoizedState={dehydrated:y,treeContext:Ki!==null?{id:Rn,overflow:An}:null,retryLane:536870912},b=Kt(18,null,null,0),b.stateNode=y,b.return=s,s.child=b,_t=s,at=null,b=!0):b=!1}b||Qi(s)}if(y=s.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return y.data==="$!"?s.lanes=16:s.lanes=536870912,null;Nn(s)}return y=o.children,o=o.fallback,c?(ui(),c=s.mode,y=ef({mode:"hidden",children:y},c),o=rs(o,c,a,null),y.return=s,o.return=s,y.sibling=o,s.child=y,c=s.child,c.memoizedState=$c(a),c.childLanes=Zc(t,g,a),s.memoizedState=Xc,o):(oi(s),Jc(s,y))}if(b=t.memoizedState,b!==null&&(y=b.dehydrated,y!==null)){if(h)s.flags&256?(oi(s),s.flags&=-257,s=tf(t,s,a)):s.memoizedState!==null?(ui(),s.child=t.child,s.flags|=128,s=null):(ui(),c=o.fallback,y=s.mode,o=ef({mode:"visible",children:o.children},y),c=rs(c,y,a,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,Xi(s,t.child,null,a),o=s.child,o.memoizedState=$c(a),o.childLanes=Zc(t,g,a),s.memoizedState=Xc,s=c);else if(oi(s),y.data==="$!"){if(g=y.nextSibling&&y.nextSibling.dataset,g)var C=g.dgst;g=C,o=Error(r(419)),o.stack="",o.digest=g,$r({value:o,source:null,stack:null}),s=tf(t,s,a)}else if(et||oa(t,s,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=De,g!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,li(t,o),yt(g,t,o),pg}y.data==="$?"||xf(),s=tf(t,s,a)}else y.data==="$?"?(s.flags|=128,s.child=t.child,s=hT.bind(null,t),y._reactRetry=s,s=null):(t=b.treeContext,at=en(y.nextSibling),_t=s,Ee=!0,Zt=null,hn=!1,t!==null&&(qt[Ft++]=Rn,qt[Ft++]=An,qt[Ft++]=Ki,Rn=t.id,An=t.overflow,Ki=s),s=Jc(s,o.children),s.flags|=4096);return s}return c?(ui(),c=o.fallback,y=s.mode,b=t.child,C=b.sibling,o=vi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,C!==null?c=vi(C,c):(c=rs(c,y,a,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,y=t.child.memoizedState,y===null?y=$c(a):(b=y.cachePool,b!==null?(C=$e._currentValue,b=b.parent!==C?{parent:C,pool:C}:b):b=wm(),y={baseLanes:y.baseLanes|a,cachePool:b}),c.memoizedState=y,c.childLanes=Zc(t,g,a),s.memoizedState=Xc,o):(oi(s),a=t.child,t=a.sibling,a=vi(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(g=s.deletions,g===null?(s.deletions=[t],s.flags|=16):g.push(t)),s.child=a,s.memoizedState=null,a)}function Jc(t,s){return s=ef({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function ef(t,s){return Qg(t,s,0,null)}function tf(t,s,a){return Xi(s,t.child,null,a),t=Jc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function wg(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),af(t.return,s,a)}function nf(t,s,a,o,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=c)}function Cg(t,s,a){var o=s.pendingProps,c=o.revealOrder,h=o.tail;if(lt(t,s,o.children,a),o=Xe.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,a,s);else if(t.tag===19)wg(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ue(Xe,o),c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&Xl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),nf(s,!1,c,a,h);break;case"backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Xl(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}nf(s,!0,a,null,h);break;case"together":nf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ei|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(oa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=vi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=vi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function sf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&oo(t)))}function ZS(t,s,a){switch(s.tag){case 3:wl(s,s.stateNode.containerInfo),hi(s,$e,t.memoizedState.cache),Xr();break;case 27:case 5:Ku(s);break;case 4:wl(s,s.stateNode.containerInfo);break;case 10:hi(s,s.type,s.memoizedProps.value);break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(oi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Tg(t,s,a):(oi(s),t=xn(t,s,a),t!==null?t.sibling:null);oi(s);break;case 19:var c=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(oa(t,s,a,!1),o=(a&s.childLanes)!==0),c){if(o)return Cg(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ue(Xe,Xe.current),o)break;return null;case 22:case 23:return s.lanes=0,yg(t,s,a);case 24:hi(s,$e,t.memoizedState.cache)}return xn(t,s,a)}function Rg(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)et=!0;else{if(!sf(t,a)&&(s.flags&128)===0)return et=!1,ZS(t,s,a);et=(t.flags&131072)!==0}else et=!1,Ee&&(s.flags&1048576)!==0&&cm(s,Gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var o=s.elementType,c=o._init;if(o=c(o._payload),s.type=o,typeof o=="function")yf(o)?(t=ts(o,t),s.tag=1,s=bg(null,s,o,t,a)):(s.tag=0,s=Qc(null,s,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===S){s.tag=11,s=mg(null,s,o,t,a);break e}else if(c===P){s.tag=14,s=gg(null,s,o,t,a);break e}}throw s=Pe(o)||o,Error(r(306,s,""))}}return s;case 0:return Qc(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,c=ts(o,s.pendingProps),bg(t,s,o,c,a);case 3:e:{if(wl(s,s.stateNode.containerInfo),t===null)throw Error(r(387));var h=s.pendingProps;c=s.memoizedState,o=c.element,uf(t,s),fa(s,h,null,a);var g=s.memoizedState;if(h=g.cache,hi(s,$e,h),h!==c.cache&&lf(s,[$e],a,!0),ca(),h=g.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){s=Sg(t,s,h,a);break e}else if(h!==o){o=jt(Error(r(424)),s),$r(o),s=Sg(t,s,h,a);break e}else for(at=en(s.stateNode.containerInfo.firstChild),_t=s,Ee=!0,Zt=null,hn=!0,a=vm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xr(),h===o){s=xn(t,s,a);break e}lt(t,s,h,a)}s=s.child}return s;case 26:return la(t,s),t===null?(a=O_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ee||(a=s.type,t=s.pendingProps,o=Co(ii.current).createElement(a),o[ct]=s,o[bt]=t,ot(o,a,t),Je(o),s.stateNode=o):s.memoizedState=O_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ku(s),t===null&&Ee&&(o=s.stateNode=R_(s.type,s.pendingProps,ii.current),_t=s,hn=!0,at=en(o.firstChild)),o=s.pendingProps.children,t!==null||Ee?lt(t,s,o,a):s.child=Xi(s,null,o,a),la(t,s),s.child;case 5:return t===null&&Ee&&((c=o=at)&&(o=NT(o,s.type,s.pendingProps,hn),o!==null?(s.stateNode=o,_t=s,at=en(o.firstChild),hn=!1,c=!0):c=!1),c||Qi(s)),Ku(s),c=s.type,h=s.pendingProps,g=t!==null?t.memoizedProps:null,o=h.children,Vf(c,h)?o=null:g!==null&&Vf(c,g)&&(s.flags|=32),s.memoizedState!==null&&(c=Dc(t,s,GS,null,null,a),Ra._currentValue=c),la(t,s),lt(t,s,o,a),s.child;case 6:return t===null&&Ee&&((t=a=at)&&(a=OT(a,s.pendingProps,hn),a!==null?(s.stateNode=a,_t=s,at=null,t=!0):t=!1),t||Qi(s)),null;case 13:return Tg(t,s,a);case 4:return wl(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Xi(s,null,o,a):lt(t,s,o,a),s.child;case 11:return mg(t,s,s.type,s.pendingProps,a);case 7:return lt(t,s,s.pendingProps,a),s.child;case 8:return lt(t,s,s.pendingProps.children,a),s.child;case 12:return lt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,hi(s,s.type,o.value),lt(t,s,o.children,a),s.child;case 9:return c=s.type._context,o=s.pendingProps.children,is(s),c=ft(c),o=o(c),s.flags|=1,lt(t,s,o,a),s.child;case 14:return gg(t,s,s.type,s.pendingProps,a);case 15:return _g(t,s,s.type,s.pendingProps,a);case 19:return Cg(t,s,a);case 22:return yg(t,s,a);case 24:return is(s),o=ft($e),t===null?(c=Oc(),c===null&&(c=De,h=Ac(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),s.memoizedState={parent:o,cache:c},of(s),hi(s,$e,c)):((t.lanes&a)!==0&&(uf(t,s),fa(s,null,null,a),ca()),c=t.memoizedState,h=s.memoizedState,c.parent!==o?(c={parent:o,cache:o},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),hi(s,$e,o)):(o=h.cache,hi(s,$e,o),o!==c.cache&&lf(s,[$e],a,!0))),lt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var rf=Te(null),ns=null,Dn=null;function hi(t,s,a){Ue(rf,s._currentValue),s._currentValue=a}function In(t){t._currentValue=rf.current,Ye(rf)}function af(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function lf(t,s,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var b=0;b<s.length;b++)if(y.context===s[b]){h.lanes|=a,y=h.alternate,y!==null&&(y.lanes|=a),af(h.return,a,t),o||(g=null);break e}h=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),af(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function oa(t,s,a,o){t=null;for(var c=s,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var y=c.type;It(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===Tl.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ra):t=[Ra])}c=c.return}t!==null&&lf(s,t,a,o),s.flags|=262144}function oo(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){ns=t,Dn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return Ag(ns,t)}function uo(t,s){return ns===null&&is(t),Ag(t,s)}function Ag(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Dn===null){if(t===null)throw Error(r(308));Dn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Dn=Dn.next=s;return a}var di=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Be&2)!==0){var c=o.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s,s=Fl(t),om(t,null,a),s}return ql(t,o,s,a),Fl(t)}function ua(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,gp(t,a)}}function cf(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=s:h=h.next=s}else c=h=s;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ff=!1;function ca(){if(ff){var t=Gs;if(t!==null)throw t}}function fa(t,s,a,o){ff=!1;var c=t.updateQueue;di=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var b=y,C=b.next;b.next=null,g===null?h=C:g.next=C,g=b;var U=t.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==g&&(y===null?U.firstBaseUpdate=C:y.next=C,U.lastBaseUpdate=b))}if(h!==null){var B=c.baseState;g=0,U=C=b=null,y=h;do{var x=y.lane&-536870913,L=x!==y.lane;if(L?(ve&x)===x:(o&x)===x){x!==0&&x===Vs&&(ff=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Q=t,se=y;x=s;var Fe=a;switch(se.tag){case 1:if(Q=se.payload,typeof Q=="function"){B=Q.call(Fe,B,x);break e}B=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=se.payload,x=typeof Q=="function"?Q.call(Fe,B,x):Q,x==null)break e;B=re({},B,x);break e;case 2:di=!0}}x=y.callback,x!==null&&(t.flags|=64,L&&(t.flags|=8192),L=c.callbacks,L===null?c.callbacks=[x]:L.push(x))}else L={lane:x,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(C=U=L,b=B):U=U.next=L,g|=x;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;L=y,y=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);U===null&&(b=B),c.baseState=b,c.firstBaseUpdate=C,c.lastBaseUpdate=U,h===null&&(c.shared.lanes=0),Ei|=g,t.lanes=g,t.memoizedState=B}}function Ng(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Og(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ng(a[t],s)}function ha(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var h=a.create,g=a.inst;o=h(),g.destroy=o}a=a.next}while(a!==c)}}catch(y){Ne(s,s.return,y)}}function gi(t,s,a){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&t)===t){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=s;var b=a;try{y()}catch(C){Ne(c,b,C)}}}o=o.next}while(o!==h)}}catch(C){Ne(s,s.return,C)}}function xg(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Og(s,a)}catch(o){Ne(t,t.return,o)}}}function Dg(t,s,a){a.props=ts(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ne(t,s,o)}}function ss(t,s){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(h){Ne(t,s,h)}}function Mt(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ne(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ne(t,s,c)}else a.current=null}function Ig(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ne(t,t.return,c)}}function Mg(t,s,a){try{var o=t.stateNode;TT(o,t.type,a,s),o[bt]=s}catch(c){Ne(t,t.return,c)}}function kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=wo));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(df(t,s,a),t=t.sibling;t!==null;)df(t,s,a),t=t.sibling}function co(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(co(t,s,a),t=t.sibling;t!==null;)co(t,s,a),t=t.sibling}var Mn=!1,je=!1,pf=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,tt=null,Ug=!1;function JS(t,s){if(t=t.containerInfo,qf=Do,t=Jp(t),mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,y=-1,b=-1,C=0,U=0,B=t,x=null;t:for(;;){for(var L;B!==a||c!==0&&B.nodeType!==3||(y=g+c),B!==h||o!==0&&B.nodeType!==3||(b=g+o),B.nodeType===3&&(g+=B.nodeValue.length),(L=B.firstChild)!==null;)x=B,B=L;for(;;){if(B===t)break t;if(x===a&&++C===c&&(y=g),x===h&&++U===o&&(b=g),(L=B.nextSibling)!==null)break;B=x,x=B.parentNode}B=L}a=y===-1||b===-1?null:{start:y,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ff={focusedElem:t,selectionRange:a},Do=!1,tt=s;tt!==null;)if(s=tt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,tt=t;else for(;tt!==null;){switch(s=tt,h=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=s,c=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var Q=ts(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(Q,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(se){Ne(a,a.return,se)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,tt=t;break}tt=s.return}return Q=Ug,Ug=!1,Q}function Pg(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(t,a),o&4&&ha(5,a);break;case 1:if(Ln(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(y){Ne(a,a.return,y)}else{var c=ts(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ne(a,a.return,y)}}o&64&&xg(a),o&512&&ss(a,a.return);break;case 3:if(Ln(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Og(o,t)}catch(y){Ne(a,a.return,y)}}break;case 26:Ln(t,a),o&512&&ss(a,a.return);break;case 27:case 5:Ln(t,a),s===null&&o&4&&Ig(a),o&512&&ss(a,a.return);break;case 12:Ln(t,a);break;case 13:Ln(t,a),o&4&&Hg(t,a);break;case 22:if(c=a.memoizedState!==null||Mn,!c){s=s!==null&&s.memoizedState!==null||je;var h=Mn,g=je;Mn=c,(je=s)&&!g?_i(t,a,(a.subtreeFlags&8772)!==0):Ln(t,a),Mn=h,je=g}o&512&&(a.memoizedProps.mode==="manual"?ss(a,a.return):Mt(a,a.return));break;default:Ln(t,a)}}function zg(t){var s=t.alternate;s!==null&&(t.alternate=null,zg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ju(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,kt=!1;function kn(t,s,a){for(a=a.child;a!==null;)Bg(t,s,a),a=a.sibling}function Bg(t,s,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Lr,a)}catch{}switch(a.tag){case 26:je||Mt(a,s),kn(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:je||Mt(a,s);var o=Qe,c=kt;for(Qe=a.stateNode,kn(t,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ju(a),Qe=o,kt=c;break;case 5:je||Mt(a,s);case 6:c=Qe;var h=kt;if(Qe=null,kn(t,s,a),Qe=c,kt=h,Qe!==null)if(kt)try{t=Qe,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Ne(a,s,g)}else try{Qe.removeChild(a.stateNode)}catch(g){Ne(a,s,g)}break;case 18:Qe!==null&&(kt?(s=Qe,a=a.stateNode,s.nodeType===8?Yf(s.parentNode,a):s.nodeType===1&&Yf(s,a),xa(s)):Yf(Qe,a.stateNode));break;case 4:o=Qe,c=kt,Qe=a.stateNode.containerInfo,kt=!0,kn(t,s,a),Qe=o,kt=c;break;case 0:case 11:case 14:case 15:je||gi(2,a,s),je||gi(4,a,s),kn(t,s,a);break;case 1:je||(Mt(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dg(a,s,o)),kn(t,s,a);break;case 21:kn(t,s,a);break;case 22:je||Mt(a,s),je=(o=je)||a.memoizedState!==null,kn(t,s,a),je=o;break;default:kn(t,s,a)}}function Hg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xa(t)}catch(a){Ne(s,s.return,a)}}function eT(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Lg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Lg),s;default:throw Error(r(435,t.tag))}}function mf(t,s){var a=eT(t);s.forEach(function(o){var c=dT.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Gt(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],h=t,g=s,y=g;e:for(;y!==null;){switch(y.tag){case 27:case 5:Qe=y.stateNode,kt=!1;break e;case 3:Qe=y.stateNode.containerInfo,kt=!0;break e;case 4:Qe=y.stateNode.containerInfo,kt=!0;break e}y=y.return}if(Qe===null)throw Error(r(160));Bg(h,g,c),Qe=null,kt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)jg(s,t),s=s.sibling}var Jt=null;function jg(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(s,t),Yt(t),o&4&&(gi(3,t,t.return),ha(3,t),gi(5,t,t.return));break;case 1:Gt(s,t),Yt(t),o&512&&(je||a===null||Mt(a,a.return)),o&64&&Mn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Jt;if(Gt(s,t),Yt(t),o&512&&(je||a===null||Mt(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[zr]||h[ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),ot(h,o,a),h[ct]=t,Je(h),o=h;break e;case"link":var g=I_("link","href",c).get(o+(a.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(a.href==null?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(y,1);break t}}h=c.createElement(o),ot(h,o,a),c.head.appendChild(h);break;case"meta":if(g=I_("meta","content",c).get(o+(a.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(y,1);break t}}h=c.createElement(o),ot(h,o,a),c.head.appendChild(h);break;default:throw Error(r(468,o))}h[ct]=t,Je(h),o=h}t.stateNode=o}else M_(c,t.type,t.stateNode);else t.stateNode=D_(c,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?M_(c,t.type,t.stateNode):D_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Mg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var b=c.firstChild;b;){var C=b.nextSibling,U=b.nodeName;b[zr]||U==="HEAD"||U==="BODY"||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=C}for(var B=t.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);ot(c,B,h),c[ct]=t,c[bt]=h}catch(Q){Ne(t,t.return,Q)}}case 5:if(Gt(s,t),Yt(t),o&512&&(je||a===null||Mt(a,a.return)),t.flags&32){c=t.stateNode;try{Is(c,"")}catch(Q){Ne(t,t.return,Q)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Mg(t,c,a!==null?a.memoizedProps:c)),o&1024&&(pf=!0);break;case 6:if(Gt(s,t),Yt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Q){Ne(t,t.return,Q)}}break;case 3:if(No=null,c=Jt,Jt=Ro(s.containerInfo),Gt(s,t),Jt=c,Yt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{xa(s.containerInfo)}catch(Q){Ne(t,t.return,Q)}pf&&(pf=!1,qg(t));break;case 4:o=Jt,Jt=Ro(t.stateNode.containerInfo),Gt(s,t),Yt(t),Jt=o;break;case 12:Gt(s,t),Yt(t);break;case 13:Gt(s,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wf=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mf(t,o)));break;case 22:if(o&512&&(je||a===null||Mt(a,a.return)),b=t.memoizedState!==null,C=a!==null&&a.memoizedState!==null,U=Mn,B=je,Mn=U||b,je=B||C,Gt(s,t),je=B,Mn=U,Yt(t),s=t.stateNode,s._current=t,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,o&8192&&(s._visibility=b?s._visibility&-2:s._visibility|1,b&&(s=Mn||je,a===null||C||s||Qs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,s=t;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){C=a=s;try{if(c=C.stateNode,b)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{g=C.stateNode,y=C.memoizedProps.style;var L=y!=null&&y.hasOwnProperty("display")?y.display:null;g.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(Q){Ne(C,C.return,Q)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=b?"":C.memoizedProps}catch(Q){Ne(C,C.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,mf(t,a))));break;case 19:Gt(s,t),Yt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,mf(t,o)));break;case 21:break;default:Gt(s,t),Yt(t)}}function Yt(t){var s=t.flags;if(s&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(kg(a)){var o=a;break e}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var c=o.stateNode,h=hf(t);co(t,h,c);break;case 5:var g=o.stateNode;o.flags&32&&(Is(g,""),o.flags&=-33);var y=hf(t);co(t,y,g);break;case 3:case 4:var b=o.stateNode.containerInfo,C=hf(t);df(t,C,b);break;default:throw Error(r(161))}}}catch(U){Ne(t,t.return,U)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;qg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ln(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Pg(t,s.alternate,s),s=s.sibling}function Qs(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:gi(4,s,s.return),Qs(s);break;case 1:Mt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Dg(s,s.return,a),Qs(s);break;case 26:case 27:case 5:Mt(s,s.return),Qs(s);break;case 22:Mt(s,s.return),s.memoizedState===null&&Qs(s);break;default:Qs(s)}t=t.sibling}}function _i(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,c=t,h=s,g=h.flags;switch(h.tag){case 0:case 11:case 15:_i(c,h,a),ha(4,h);break;case 1:if(_i(c,h,a),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(C){Ne(o,o.return,C)}if(o=h,c=o.updateQueue,c!==null){var y=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Ng(b[c],y)}catch(C){Ne(o,o.return,C)}}a&&g&64&&xg(h),ss(h,h.return);break;case 26:case 27:case 5:_i(c,h,a),a&&o===null&&g&4&&Ig(h),ss(h,h.return);break;case 12:_i(c,h,a);break;case 13:_i(c,h,a),a&&g&4&&Hg(c,h);break;case 22:h.memoizedState===null&&_i(c,h,a),ss(h,h.return);break;default:_i(c,h,a)}s=s.sibling}}function gf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&na(a))}function _f(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&na(t))}function yi(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fg(t,s,a,o),s=s.sibling}function Fg(t,s,a,o){var c=s.flags;switch(s.tag){case 0:case 11:case 15:yi(t,s,a,o),c&2048&&ha(9,s);break;case 3:yi(t,s,a,o),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&na(t)));break;case 12:if(c&2048){yi(t,s,a,o),t=s.stateNode;try{var h=s.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ne(s,s.return,b)}}else yi(t,s,a,o);break;case 23:break;case 22:h=s.stateNode,s.memoizedState!==null?h._visibility&4?yi(t,s,a,o):da(t,s):h._visibility&4?yi(t,s,a,o):(h._visibility|=4,Xs(t,s,a,o,(s.subtreeFlags&10256)!==0)),c&2048&&gf(s.alternate,s);break;case 24:yi(t,s,a,o),c&2048&&_f(s.alternate,s);break;default:yi(t,s,a,o)}}function Xs(t,s,a,o,c){for(c=c&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var h=t,g=s,y=a,b=o,C=g.flags;switch(g.tag){case 0:case 11:case 15:Xs(h,g,y,b,c),ha(8,g);break;case 23:break;case 22:var U=g.stateNode;g.memoizedState!==null?U._visibility&4?Xs(h,g,y,b,c):da(h,g):(U._visibility|=4,Xs(h,g,y,b,c)),c&&C&2048&&gf(g.alternate,g);break;case 24:Xs(h,g,y,b,c),c&&C&2048&&_f(g.alternate,g);break;default:Xs(h,g,y,b,c)}s=s.sibling}}function da(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,c=o.flags;switch(o.tag){case 22:da(a,o),c&2048&&gf(o.alternate,o);break;case 24:da(a,o),c&2048&&_f(o.alternate,o);break;default:da(a,o)}s=s.sibling}}var pa=8192;function $s(t){if(t.subtreeFlags&pa)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:$s(t),t.flags&pa&&t.memoizedState!==null&&qT(Jt,t.memoizedState,t.memoizedProps);break;case 5:$s(t);break;case 3:case 4:var s=Jt;Jt=Ro(t.stateNode.containerInfo),$s(t),Jt=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=pa,pa=16777216,$s(t),pa=s):$s(t));break;default:$s(t)}}function Gg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ma(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];tt=o,Kg(o,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:ma(t),t.flags&2048&&gi(9,t,t.return);break;case 3:ma(t);break;case 12:ma(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&4&&(t.return===null||t.return.tag!==13)?(s._visibility&=-5,fo(t)):ma(t);break;default:ma(t)}}function fo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];tt=o,Kg(o,t)}Gg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:gi(8,s,s.return),fo(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,fo(s));break;default:fo(s)}t=t.sibling}}function Kg(t,s){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:gi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:na(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,tt=o;else e:for(a=t;tt!==null;){o=tt;var c=o.sibling,h=o.return;if(zg(o),o===a){tt=null;break e}if(c!==null){c.return=h,tt=c;break e}tt=h}}}function tT(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,s,a,o){return new tT(t,s,a,o)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,s){var a=t.alternate;return a===null?(a=Kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wg(t,s){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ho(t,s,a,o,c,h){var g=0;if(o=t,typeof t=="function")yf(t)&&(g=1);else if(typeof t=="string")g=HT(t,a,cn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return rs(a.children,c,h,s);case m:g=8,c|=24;break;case _:return t=Kt(12,a,s,c|2),t.elementType=_,t.lanes=h,t;case D:return t=Kt(13,a,s,c),t.elementType=D,t.lanes=h,t;case I:return t=Kt(19,a,s,c),t.elementType=I,t.lanes=h,t;case j:return Qg(a,c,h,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case R:g=10;break e;case E:g=9;break e;case S:g=11;break e;case P:g=14;break e;case q:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Kt(g,a,s,c),s.elementType=t,s.type=o,s.lanes=h,s}function rs(t,s,a,o){return t=Kt(7,t,o,s),t.lanes=a,t}function Qg(t,s,a,o){t=Kt(22,t,o,s),t.elementType=j,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(r(456));if((c._pendingVisibility&2)===0){var g=li(h,2);g!==null&&(c._pendingVisibility|=2,yt(g,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(r(456));if((c._pendingVisibility&2)!==0){var g=li(h,2);g!==null&&(c._pendingVisibility&=-3,yt(g,h,2))}}};return t.stateNode=c,t}function vf(t,s,a){return t=Kt(6,t,null,s),t.lanes=a,t}function Ef(t,s,a){return s=Kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Un(t){t.flags|=4}function Xg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!k_(s)){if(s=Vt.current,s!==null&&((ve&4194176)===ve?dn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||s!==dn))throw Jr=wc,dm;t.flags|=8192}}function po(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?pp():536870912,t.lanes|=s,Js|=s)}function ga(t,s){if(!Ee)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function nT(t,s,a){var o=s.pendingProps;switch(Sc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),In($e),Rs(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qr(s)?Un(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zt!==null&&(Nf(Zt),Zt=null))),ze(s),null;case 26:return a=s.memoizedState,t===null?(Un(s),a!==null?(ze(s),Xg(s,a)):(ze(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Un(s),ze(s),Xg(s,a)):(ze(s),s.flags&=-16777217):(t.memoizedProps!==o&&Un(s),ze(s),s.flags&=-16777217),null;case 27:Cl(s),a=ii.current;var c=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return ze(s),null}t=cn.current,Qr(s)?fm(s):(t=R_(c,o,a),s.stateNode=t,Un(s))}return ze(s),null;case 5:if(Cl(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return ze(s),null}if(t=cn.current,Qr(s))fm(s);else{switch(c=Co(ii.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[ct]=s,t[bt]=o;e:for(c=s.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s.stateNode=t;e:switch(ot(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Un(s)}}return ze(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=ii.current,Qr(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,c=_t,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[ct]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Qi(s)}else t=Co(t).createTextNode(o),t[ct]=s,s.stateNode=t}return ze(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qr(s),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=s}else Xr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),c=!1}else Zt!==null&&(Nf(Zt),Zt=null),c=!0;if(!c)return s.flags&256?(Nn(s),s):(Nn(s),null)}if(Nn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=s.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),po(s,s.updateQueue),ze(s),null;case 4:return Rs(),t===null&&Bf(s.stateNode.containerInfo),ze(s),null;case 10:return In(s.type),ze(s),null;case 19:if(Ye(Xe),c=s.memoizedState,c===null)return ze(s),null;if(o=(s.flags&128)!==0,h=c.rendering,h===null)if(o)ga(c,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=Xl(t),h!==null){for(s.flags|=128,ga(c,!1),t=h.updateQueue,s.updateQueue=t,po(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Wg(a,t),a=a.sibling;return Ue(Xe,Xe.current&1|2),s.child}t=t.sibling}c.tail!==null&&fn()>mo&&(s.flags|=128,o=!0,ga(c,!1),s.lanes=4194304)}else{if(!o)if(t=Xl(h),t!==null){if(s.flags|=128,o=!0,t=t.updateQueue,s.updateQueue=t,po(s,t),ga(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ee)return ze(s),null}else 2*fn()-c.renderingStartTime>mo&&a!==536870912&&(s.flags|=128,o=!0,ga(c,!1),s.lanes=4194304);c.isBackwards?(h.sibling=s.child,s.child=h):(t=c.last,t!==null?t.sibling=h:s.child=h,c.last=h)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=fn(),s.sibling=null,t=Xe.current,Ue(Xe,o?t&1|2:t&1),s):(ze(s),null);case 22:case 23:return Nn(s),Rc(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&po(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&Ye($i),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),In($e),ze(s),null;case 25:return null}throw Error(r(156,s.tag))}function iT(t,s){switch(Sc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return In($e),Rs(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Cl(s),null;case 13:if(Nn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ye(Xe),null;case 4:return Rs(),null;case 10:return In(s.type),null;case 22:case 23:return Nn(s),Rc(),t!==null&&Ye($i),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return In($e),null;case 25:return null;default:return null}}function $g(t,s){switch(Sc(s),s.tag){case 3:In($e),Rs();break;case 26:case 27:case 5:Cl(s);break;case 4:Rs();break;case 13:Nn(s);break;case 19:Ye(Xe);break;case 10:In(s.type);break;case 22:case 23:Nn(s),Rc(),t!==null&&Ye($i);break;case 24:In($e)}}var sT={getCacheForType:function(t){var s=ft($e),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},rT=typeof WeakMap=="function"?WeakMap:Map,Be=0,De=null,pe=null,ve=0,Ie=0,Lt=null,Pn=!1,Zs=!1,bf=!1,zn=0,qe=0,Ei=0,as=0,Sf=0,Wt=0,Js=0,_a=null,mn=null,Tf=!1,wf=0,mo=1/0,go=null,bi=null,_o=!1,ls=null,ya=0,Cf=0,Rf=null,va=0,Af=null;function Ut(){if((Be&2)!==0&&ve!==0)return ve&-ve;if(G.T!==null){var t=Vs;return t!==0?t:Lf()}return yp()}function Zg(){Wt===0&&(Wt=(ve&536870912)===0||Ee?dp():536870912);var t=Vt.current;return t!==null&&(t.flags|=32),Wt}function yt(t,s,a){(t===De&&Ie===2||t.cancelPendingCommit!==null)&&(er(t,0),Bn(t,ve,Wt,!1)),Pr(t,a),((Be&2)===0||t!==De)&&(t===De&&((Be&2)===0&&(as|=a),qe===4&&Bn(t,ve,Wt,!1)),gn(t))}function Jg(t,s,a){if((Be&6)!==0)throw Error(r(327));var o=!a&&(s&60)===0&&(s&t.expiredLanes)===0||Ur(t,s),c=o?oT(t,s):Df(t,s,!0),h=o;do{if(c===0){Zs&&!o&&Bn(t,s,0,!1);break}else if(c===6)Bn(t,s,0,!Pn);else{if(a=t.current.alternate,h&&!aT(a)){c=Df(t,s,!1),h=!1;continue}if(c===2){if(h=s,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var y=t;c=_a;var b=y.current.memoizedState.isDehydrated;if(b&&(er(y,g).flags|=256),g=Df(y,g,!1),g!==2){if(bf&&!b){y.errorRecoveryDisabledLanes|=h,as|=h,c=4;break e}h=mn,mn=c,h!==null&&Nf(h)}c=g}if(h=!1,c!==2)continue}}if(c===1){er(t,0),Bn(t,s,0,!0);break}e:{switch(o=t,c){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){Bn(o,s,Wt,!Pn);break e}break;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=s,(s&62914560)===s&&(h=wf+300-fn(),10<h)){if(Bn(o,s,Wt,!Pn),Ol(o,0)!==0)break e;o.timeoutHandle=T_(e_.bind(null,o,a,mn,go,Tf,s,Wt,as,Js,Pn,2,-0,0),h);break e}e_(o,a,mn,go,Tf,s,Wt,as,Js,Pn,0,-0,0)}}break}while(!0);gn(t)}function Nf(t){mn===null?mn=t:mn.push.apply(mn,t)}function e_(t,s,a,o,c,h,g,y,b,C,U,B,x){var L=s.subtreeFlags;if((L&8192||(L&16785408)===16785408)&&(Ca={stylesheets:null,count:0,unsuspend:jT},Vg(s),s=FT(),s!==null)){t.cancelPendingCommit=s(l_.bind(null,t,a,o,c,g,y,b,1,B,x)),Bn(t,h,g,!C);return}l_(t,a,o,c,g,y,b,U,B,x)}function aT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],h=c.getSnapshot;c=c.value;try{if(!It(h(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bn(t,s,a,o){s&=~Sf,s&=~as,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var c=s;0<c;){var h=31-Dt(c),g=1<<h;o[h]=-1,c&=~g}a!==0&&mp(t,a,s)}function yo(){return(Be&6)===0?(Ea(0),!1):!0}function Of(){if(pe!==null){if(Ie===0)var t=pe.return;else t=pe,Dn=ns=null,kc(t),qs=null,ea=0,t=pe;for(;t!==null;)$g(t.alternate,t),t=t.return;pe=null}}function er(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Of(),De=t,pe=a=vi(t.current,null),ve=s,Ie=0,Lt=null,Pn=!1,Zs=Ur(t,s),bf=!1,Js=Wt=Sf=as=Ei=qe=0,mn=_a=null,Tf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var c=31-Dt(o),h=1<<c;s|=t[c],o&=~h}return zn=s,jl(),a}function t_(t,s){ce=null,G.H=pn,s===Zr?(s=gm(),Ie=3):s===dm?(s=gm(),Ie=4):Ie=s===pg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lt=s,pe===null&&(qe=1,lo(t,jt(s,t.current)))}function n_(){var t=G.H;return G.H=pn,t===null?pn:t}function i_(){var t=G.A;return G.A=sT,t}function xf(){qe=4,Pn||(ve&4194176)!==ve&&Vt.current!==null||(Zs=!0),(Ei&134217727)===0&&(as&134217727)===0||De===null||Bn(De,ve,Wt,!1)}function Df(t,s,a){var o=Be;Be|=2;var c=n_(),h=i_();(De!==t||ve!==s)&&(go=null,er(t,s)),s=!1;var g=qe;e:do try{if(Ie!==0&&pe!==null){var y=pe,b=Lt;switch(Ie){case 8:Of(),g=6;break e;case 3:case 2:case 6:Vt.current===null&&(s=!0);var C=Ie;if(Ie=0,Lt=null,tr(t,y,b,C),a&&Zs){g=0;break e}break;default:C=Ie,Ie=0,Lt=null,tr(t,y,b,C)}}lT(),g=qe;break}catch(U){t_(t,U)}while(!0);return s&&t.shellSuspendCounter++,Dn=ns=null,Be=o,G.H=c,G.A=h,pe===null&&(De=null,ve=0,jl()),g}function lT(){for(;pe!==null;)s_(pe)}function oT(t,s){var a=Be;Be|=2;var o=n_(),c=i_();De!==t||ve!==s?(go=null,mo=fn()+500,er(t,s)):Zs=Ur(t,s);e:do try{if(Ie!==0&&pe!==null){s=pe;var h=Lt;t:switch(Ie){case 1:Ie=0,Lt=null,tr(t,s,h,1);break;case 2:if(pm(h)){Ie=0,Lt=null,r_(s);break}s=function(){Ie===2&&De===t&&(Ie=7),gn(t)},h.then(s,s);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:pm(h)?(Ie=0,Lt=null,r_(s)):(Ie=0,Lt=null,tr(t,s,h,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var y=pe;if(!g||k_(g)){Ie=0,Lt=null;var b=y.sibling;if(b!==null)pe=b;else{var C=y.return;C!==null?(pe=C,vo(C)):pe=null}break t}}Ie=0,Lt=null,tr(t,s,h,5);break;case 6:Ie=0,Lt=null,tr(t,s,h,6);break;case 8:Of(),qe=6;break e;default:throw Error(r(462))}}uT();break}catch(U){t_(t,U)}while(!0);return Dn=ns=null,G.H=o,G.A=c,Be=a,pe!==null?0:(De=null,ve=0,jl(),qe)}function uT(){for(;pe!==null&&!Db();)s_(pe)}function s_(t){var s=Rg(t.alternate,t,zn);t.memoizedProps=t.pendingProps,s===null?vo(t):pe=s}function r_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Eg(a,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=Eg(a,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:kc(s);default:$g(a,s),s=pe=Wg(s,zn),s=Rg(a,s,zn)}t.memoizedProps=t.pendingProps,s===null?vo(t):pe=s}function tr(t,s,a,o){Dn=ns=null,kc(s),qs=null,ea=0;var c=s.return;try{if($S(t,c,s,a,ve)){qe=1,lo(t,jt(a,t.current)),pe=null;return}}catch(h){if(c!==null)throw pe=c,h;qe=1,lo(t,jt(a,t.current)),pe=null;return}s.flags&32768?(Ee||o===1?t=!0:Zs||(ve&536870912)!==0?t=!1:(Pn=t=!0,(o===2||o===3||o===6)&&(o=Vt.current,o!==null&&o.tag===13&&(o.flags|=16384))),a_(s,t)):vo(s)}function vo(t){var s=t;do{if((s.flags&32768)!==0){a_(s,Pn);return}t=s.return;var a=nT(s.alternate,s,zn);if(a!==null){pe=a;return}if(s=s.sibling,s!==null){pe=s;return}pe=s=t}while(s!==null);qe===0&&(qe=5)}function a_(t,s){do{var a=iT(t.alternate,t);if(a!==null){a.flags&=32767,pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){pe=t;return}pe=t=a}while(t!==null);qe=6,pe=null}function l_(t,s,a,o,c,h,g,y,b,C){var U=G.T,B=Y.p;try{Y.p=2,G.T=null,cT(t,s,a,o,B,c,h,g,y,b,C)}finally{G.T=U,Y.p=B}}function cT(t,s,a,o,c,h,g,y){do nr();while(ls!==null);if((Be&6)!==0)throw Error(r(327));var b=t.finishedWork;if(o=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var C=b.lanes|b.childLanes;if(C|=vc,qb(t,o,C,h,g,y),t===De&&(pe=De=null,ve=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||_o||(_o=!0,Cf=C,Rf=a,pT(Rl,function(){return nr(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,h=Y.p,Y.p=2,g=Be,Be|=4,JS(t,b),jg(b,t),kS(Ff,t.containerInfo),Do=!!qf,Ff=qf=null,t.current=b,Pg(t,b.alternate,b),Ib(),Be=g,Y.p=h,G.T=a):t.current=b,_o?(_o=!1,ls=t,ya=o):o_(t,C),C=t.pendingLanes,C===0&&(bi=null),Pb(b.stateNode),gn(t),s!==null)for(c=t.onRecoverableError,b=0;b<s.length;b++)C=s[b],c(C.value,{componentStack:C.stack});return(ya&3)!==0&&nr(),C=t.pendingLanes,(o&4194218)!==0&&(C&42)!==0?t===Af?va++:(va=0,Af=t):va=0,Ea(0),null}function o_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,na(s)))}function nr(){if(ls!==null){var t=ls,s=Cf;Cf=0;var a=_p(ya),o=G.T,c=Y.p;try{if(Y.p=32>a?32:a,G.T=null,ls===null)var h=!1;else{a=Rf,Rf=null;var g=ls,y=ya;if(ls=null,ya=0,(Be&6)!==0)throw Error(r(331));var b=Be;if(Be|=4,Yg(g.current),Fg(g,g.current,y,a),Be=b,Ea(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Lr,g)}catch{}h=!0}return h}finally{Y.p=c,G.T=o,o_(t,s)}}return!1}function u_(t,s,a){s=jt(a,s),s=Wc(t.stateNode,s,2),t=mi(t,s,2),t!==null&&(Pr(t,2),gn(t))}function Ne(t,s,a){if(t.tag===3)u_(t,t,a);else for(;s!==null;){if(s.tag===3){u_(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(bi===null||!bi.has(o))){t=jt(a,t),a=hg(2),o=mi(s,a,2),o!==null&&(dg(a,o,s,t),Pr(o,2),gn(o));break}}s=s.return}}function If(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new rT;var c=new Set;o.set(s,c)}else c=o.get(s),c===void 0&&(c=new Set,o.set(s,c));c.has(a)||(bf=!0,c.add(a),t=fT.bind(null,t,s,a),s.then(t,t))}function fT(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,De===t&&(ve&a)===a&&(qe===4||qe===3&&(ve&62914560)===ve&&300>fn()-wf?(Be&2)===0&&er(t,0):Sf|=a,Js===ve&&(Js=0)),gn(t)}function c_(t,s){s===0&&(s=pp()),t=li(t,s),t!==null&&(Pr(t,s),gn(t))}function hT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),c_(t,a)}function dT(t,s){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),c_(t,a)}function pT(t,s){return Qu(t,s)}var Eo=null,ir=null,Mf=!1,bo=!1,kf=!1,os=0;function gn(t){t!==ir&&t.next===null&&(ir===null?Eo=ir=t:ir=ir.next=t),bo=!0,Mf||(Mf=!0,gT(mT))}function Ea(t,s){if(!kf&&bo){kf=!0;do for(var a=!1,o=Eo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var g=o.suspendedLanes,y=o.pingedLanes;h=(1<<31-Dt(42|t)+1)-1,h&=c&~(g&~y),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(a=!0,d_(o,h))}else h=ve,h=Ol(o,o===De?h:0),(h&3)===0||Ur(o,h)||(a=!0,d_(o,h));o=o.next}while(a);kf=!1}}function mT(){bo=Mf=!1;var t=0;os!==0&&(wT()&&(t=os),os=0);for(var s=fn(),a=null,o=Eo;o!==null;){var c=o.next,h=f_(o,s);h===0?(o.next=null,a===null?Eo=c:a.next=c,c===null&&(ir=a)):(a=o,(t!==0||(h&3)!==0)&&(bo=!0)),o=c}Ea(t)}function f_(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Dt(h),y=1<<g,b=c[g];b===-1?((y&a)===0||(y&o)!==0)&&(c[g]=jb(y,s)):b<=s&&(t.expiredLanes|=y),h&=~y}if(s=De,a=ve,a=Ol(t,t===s?a:0),o=t.callbackNode,a===0||t===s&&Ie===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Xu(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ur(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Xu(o),_p(a)){case 2:case 8:a=fp;break;case 32:a=Rl;break;case 268435456:a=hp;break;default:a=Rl}return o=h_.bind(null,t),a=Qu(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Xu(o),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,s){var a=t.callbackNode;if(nr()&&t.callbackNode!==a)return null;var o=ve;return o=Ol(t,t===De?o:0),o===0?null:(Jg(t,o,s),f_(t,fn()),t.callbackNode!=null&&t.callbackNode===a?h_.bind(null,t):null)}function d_(t,s){if(nr())return null;Jg(t,s,!0)}function gT(t){RT(function(){(Be&6)!==0?Qu(cp,t):t()})}function Lf(){return os===0&&(os=dp()),os}function p_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kl(""+t)}function m_(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function _T(t,s,a,o,c){if(s==="submit"&&a&&a.stateNode===c){var h=p_((c[bt]||null).action),g=o.submitter;g&&(s=(s=g[bt]||null)?p_(s.formAction):g.getAttribute("formAction"),s!==null&&(h=s,g=null));var y=new zl("action","action",null,o,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(os!==0){var b=g?m_(c,g):new FormData(c);Fc(a,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(y.preventDefault(),b=g?m_(c,g):new FormData(c),Fc(a,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Uf=0;Uf<lm.length;Uf++){var Pf=lm[Uf],yT=Pf.toLowerCase(),vT=Pf[0].toUpperCase()+Pf.slice(1);$t(yT,"on"+vT)}$t(nm,"onAnimationEnd"),$t(im,"onAnimationIteration"),$t(sm,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(US,"onTransitionRun"),$t(PS,"onTransitionStart"),$t(zS,"onTransitionCancel"),$t(rm,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ET=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ba));function g_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var h=void 0;if(s)for(var g=o.length-1;0<=g;g--){var y=o[g],b=y.instance,C=y.currentTarget;if(y=y.listener,b!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=C;try{h(c)}catch(U){ao(U)}c.currentTarget=null,h=b}else for(g=0;g<o.length;g++){if(y=o[g],b=y.instance,C=y.currentTarget,y=y.listener,b!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=C;try{h(c)}catch(U){ao(U)}c.currentTarget=null,h=b}}}}function ge(t,s){var a=s[Zu];a===void 0&&(a=s[Zu]=new Set);var o=t+"__bubble";a.has(o)||(__(s,t,2,!1),a.add(o))}function zf(t,s,a){var o=0;s&&(o|=4),__(a,t,o,s)}var So="_reactListening"+Math.random().toString(36).slice(2);function Bf(t){if(!t[So]){t[So]=!0,Ep.forEach(function(a){a!=="selectionchange"&&(ET.has(a)||zf(a,!1,t),zf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[So]||(s[So]=!0,zf("selectionchange",!1,s))}}function __(t,s,a,o){switch(H_(s)){case 2:var c=YT;break;case 8:c=KT;break;default:c=Zf}a=c.bind(null,s,a,t),c=void 0,!ac||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function Hf(t,s,a,o,c){var h=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c||y.nodeType===8&&y.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;y!==null;){if(g=qi(y),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){o=h=g;continue e}y=y.parentNode}}o=o.return}Ip(function(){var C=h,U=sc(a),B=[];e:{var x=am.get(t);if(x!==void 0){var L=zl,Q=t;switch(t){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":L=dS;break;case"focusin":Q="focus",L=cc;break;case"focusout":Q="blur",L=cc;break;case"beforeblur":case"afterblur":L=cc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=tS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=gS;break;case nm:case im:case sm:L=sS;break;case rm:L=yS;break;case"scroll":case"scrollend":L=Jb;break;case"wheel":L=ES;break;case"copy":case"cut":case"paste":L=aS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Pp;break;case"toggle":case"beforetoggle":L=SS}var se=(s&4)!==0,Fe=!se&&(t==="scroll"||t==="scrollend"),A=se?x!==null?x+"Capture":null:x;se=[];for(var w=C,N;w!==null;){var z=w;if(N=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||N===null||A===null||(z=Hr(w,A),z!=null&&se.push(Sa(w,z,N))),Fe)break;w=w.return}0<se.length&&(x=new L(x,Q,null,a,U),B.push({event:x,listeners:se}))}}if((s&7)===0){e:{if(x=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",x&&a!==ic&&(Q=a.relatedTarget||a.fromElement)&&(qi(Q)||Q[As]))break e;if((L||x)&&(x=U.window===U?U:(x=U.ownerDocument)?x.defaultView||x.parentWindow:window,L?(Q=a.relatedTarget||a.toElement,L=C,Q=Q?qi(Q):null,Q!==null&&(Fe=te(Q),se=Q.tag,Q!==Fe||se!==5&&se!==27&&se!==6)&&(Q=null)):(L=null,Q=C),L!==Q)){if(se=Lp,z="onMouseLeave",A="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(se=Pp,z="onPointerLeave",A="onPointerEnter",w="pointer"),Fe=L==null?x:Br(L),N=Q==null?x:Br(Q),x=new se(z,w+"leave",L,a,U),x.target=Fe,x.relatedTarget=N,z=null,qi(U)===C&&(se=new se(A,w+"enter",Q,a,U),se.target=N,se.relatedTarget=Fe,z=se),Fe=z,L&&Q)t:{for(se=L,A=Q,w=0,N=se;N;N=sr(N))w++;for(N=0,z=A;z;z=sr(z))N++;for(;0<w-N;)se=sr(se),w--;for(;0<N-w;)A=sr(A),N--;for(;w--;){if(se===A||A!==null&&se===A.alternate)break t;se=sr(se),A=sr(A)}se=null}else se=null;L!==null&&y_(B,x,L,se,!1),Q!==null&&Fe!==null&&y_(B,Fe,Q,se,!0)}}e:{if(x=C?Br(C):window,L=x.nodeName&&x.nodeName.toLowerCase(),L==="select"||L==="input"&&x.type==="file")var W=Gp;else if(Fp(x))if(Yp)W=IS;else{W=xS;var fe=OS}else L=x.nodeName,!L||L.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?C&&nc(C.elementType)&&(W=Gp):W=DS;if(W&&(W=W(t,C))){Vp(B,W,a,U);break e}fe&&fe(t,x,C),t==="focusout"&&C&&x.type==="number"&&C.memoizedProps.value!=null&&tc(x,"number",x.value)}switch(fe=C?Br(C):window,t){case"focusin":(Fp(fe)||fe.contentEditable==="true")&&(Us=fe,gc=C,Wr=null);break;case"focusout":Wr=gc=Us=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,em(B,a,U);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":em(B,a,U)}var X;if(hc)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Ls?jp(t,a)&&(Z="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(zp&&a.locale!=="ko"&&(Ls||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Ls&&(X=Mp()):(ai=U,lc="value"in ai?ai.value:ai.textContent,Ls=!0)),fe=To(C,Z),0<fe.length&&(Z=new Up(Z,t,null,a,U),B.push({event:Z,listeners:fe}),X?Z.data=X:(X=qp(a),X!==null&&(Z.data=X)))),(X=wS?CS(t,a):RS(t,a))&&(Z=To(C,"onBeforeInput"),0<Z.length&&(fe=new Up("onBeforeInput","beforeinput",null,a,U),B.push({event:fe,listeners:Z}),fe.data=X)),_T(B,t,C,a,U)}g_(B,s)})}function Sa(t,s,a){return{instance:t,listener:s,currentTarget:a}}function To(t,s){for(var a=s+"Capture",o=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Hr(t,a),c!=null&&o.unshift(Sa(t,c,h)),c=Hr(t,s),c!=null&&o.push(Sa(t,c,h))),t=t.return}return o}function sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function y_(t,s,a,o,c){for(var h=s._reactName,g=[];a!==null&&a!==o;){var y=a,b=y.alternate,C=y.stateNode;if(y=y.tag,b!==null&&b===o)break;y!==5&&y!==26&&y!==27||C===null||(b=C,c?(C=Hr(a,h),C!=null&&g.unshift(Sa(a,C,b))):c||(C=Hr(a,h),C!=null&&g.push(Sa(a,C,b)))),a=a.return}g.length!==0&&t.push({event:s,listeners:g})}var bT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(ST,"")}function E_(t,s){return s=v_(s),v_(t)===s}function wo(){}function Re(t,s,a,o,c,h){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Is(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Is(t,""+o);break;case"className":Dl(t,"class",o);break;case"tabIndex":Dl(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dl(t,a,o);break;case"style":xp(t,o,h);break;case"data":if(s!=="object"){Dl(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(s!=="input"&&Re(t,s,"name",c.name,c,null),Re(t,s,"formEncType",c.formEncType,c,null),Re(t,s,"formMethod",c.formMethod,c,null),Re(t,s,"formTarget",c.formTarget,c,null)):(Re(t,s,"encType",c.encType,c,null),Re(t,s,"method",c.method,c,null),Re(t,s,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=kl(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=wo);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=kl(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ge("beforetoggle",t),ge("toggle",t),xl(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$b.get(a)||a,xl(t,a,o))}}function jf(t,s,a,o,c,h){switch(a){case"style":xp(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Is(t,o):(typeof o=="number"||typeof o=="bigint")&&Is(t,""+o);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=wo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),h=t[bt]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(s,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):xl(t,a,o)}}}function ot(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var o=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Re(t,s,h,g,a,null)}}c&&Re(t,s,"srcSet",a.srcSet,a,null),o&&Re(t,s,"src",a.src,a,null);return;case"input":ge("invalid",t);var y=h=g=c=null,b=null,C=null;for(o in a)if(a.hasOwnProperty(o)){var U=a[o];if(U!=null)switch(o){case"name":c=U;break;case"type":g=U;break;case"checked":b=U;break;case"defaultChecked":C=U;break;case"value":h=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:Re(t,s,o,U,a,null)}}Rp(t,h,y,b,C,g,c,!1),Il(t);return;case"select":ge("invalid",t),o=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:Re(t,s,c,y,a,null)}s=h,a=g,t.multiple=!!o,s!=null?Ds(t,!!o,s,!1):a!=null&&Ds(t,!!o,a,!0);return;case"textarea":ge("invalid",t),h=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(y=a[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Re(t,s,g,y,a,null)}Np(t,o,c,h),Il(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Re(t,s,b,o,a,null)}return;case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(o=0;o<ba.length;o++)ge(ba[o],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Re(t,s,C,o,a,null)}return;default:if(nc(s)){for(U in a)a.hasOwnProperty(U)&&(o=a[U],o!==void 0&&jf(t,s,U,o,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(o=a[y],o!=null&&Re(t,s,y,o,a,null))}function TT(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,y=null,b=null,C=null,U=null;for(L in a){var B=a[L];if(a.hasOwnProperty(L)&&B!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":b=B;default:o.hasOwnProperty(L)||Re(t,s,L,null,o,B)}}for(var x in o){var L=o[x];if(B=a[x],o.hasOwnProperty(x)&&(L!=null||B!=null))switch(x){case"type":h=L;break;case"name":c=L;break;case"checked":C=L;break;case"defaultChecked":U=L;break;case"value":g=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,s));break;default:L!==B&&Re(t,s,x,L,o,B)}}ec(t,g,y,b,C,U,h,c);return;case"select":L=g=y=x=null;for(h in a)if(b=a[h],a.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":L=b;default:o.hasOwnProperty(h)||Re(t,s,h,null,o,b)}for(c in o)if(h=o[c],b=a[c],o.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":x=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==b&&Re(t,s,c,h,o,b)}s=y,a=g,o=L,x!=null?Ds(t,!!a,x,!1):!!o!=!!a&&(s!=null?Ds(t,!!a,s,!0):Ds(t,!!a,a?[]:"",!1));return;case"textarea":L=x=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Re(t,s,y,null,o,c)}for(g in o)if(c=o[g],h=a[g],o.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":x=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Re(t,s,g,c,o,h)}Ap(t,x,L);return;case"option":for(var Q in a)if(x=a[Q],a.hasOwnProperty(Q)&&x!=null&&!o.hasOwnProperty(Q))switch(Q){case"selected":t.selected=!1;break;default:Re(t,s,Q,null,o,x)}for(b in o)if(x=o[b],L=a[b],o.hasOwnProperty(b)&&x!==L&&(x!=null||L!=null))switch(b){case"selected":t.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Re(t,s,b,x,o,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)x=a[se],a.hasOwnProperty(se)&&x!=null&&!o.hasOwnProperty(se)&&Re(t,s,se,null,o,x);for(C in o)if(x=o[C],L=a[C],o.hasOwnProperty(C)&&x!==L&&(x!=null||L!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,s));break;default:Re(t,s,C,x,o,L)}return;default:if(nc(s)){for(var Fe in a)x=a[Fe],a.hasOwnProperty(Fe)&&x!==void 0&&!o.hasOwnProperty(Fe)&&jf(t,s,Fe,void 0,o,x);for(U in o)x=o[U],L=a[U],!o.hasOwnProperty(U)||x===L||x===void 0&&L===void 0||jf(t,s,U,x,o,L);return}}for(var A in a)x=a[A],a.hasOwnProperty(A)&&x!=null&&!o.hasOwnProperty(A)&&Re(t,s,A,null,o,x);for(B in o)x=o[B],L=a[B],!o.hasOwnProperty(B)||x===L||x==null&&L==null||Re(t,s,B,x,o,L)}var qf=null,Ff=null;function Co(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Vf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gf=null;function wT(){var t=window.event;return t&&t.type==="popstate"?t===Gf?!1:(Gf=t,!0):(Gf=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(AT)}:T_;function AT(t){setTimeout(function(){throw t})}function Yf(t,s){var a=s,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){t.removeChild(c),xa(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);xa(s)}function Kf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),Ju(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NT(t,s,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[zr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function OT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function en(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}function C_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function R_(t,s,a){switch(s=Co(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Qt=new Map,A_=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Hn=Y.d;Y.d={f:xT,r:DT,D:IT,C:MT,L:kT,m:LT,X:PT,S:UT,M:zT};function xT(){var t=Hn.f(),s=yo();return t||s}function DT(t){var s=Ns(t);s!==null&&s.tag===5&&s.type==="form"?eg(s):Hn.r(t)}var rr=typeof document>"u"?null:document;function N_(t,s,a){var o=rr;if(o&&typeof s=="string"&&s){var c=Bt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),A_.has(c)||(A_.add(c),t={rel:t,crossOrigin:a,href:s},o.querySelector(c)===null&&(s=o.createElement("link"),ot(s,"link",t),Je(s),o.head.appendChild(s)))}}function IT(t){Hn.D(t),N_("dns-prefetch",t,null)}function MT(t,s){Hn.C(t,s),N_("preconnect",t,s)}function kT(t,s,a){Hn.L(t,s,a);var o=rr;if(o&&t&&s){var c='link[rel="preload"][as="'+Bt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Bt(a.imageSizes)+'"]')):c+='[href="'+Bt(t)+'"]';var h=c;switch(s){case"style":h=ar(t);break;case"script":h=lr(t)}Qt.has(h)||(t=re({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Qt.set(h,t),o.querySelector(c)!==null||s==="style"&&o.querySelector(Ta(h))||s==="script"&&o.querySelector(wa(h))||(s=o.createElement("link"),ot(s,"link",t),Je(s),o.head.appendChild(s)))}}function LT(t,s){Hn.m(t,s);var a=rr;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Bt(o)+'"][href="'+Bt(t)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=lr(t)}if(!Qt.has(h)&&(t=re({rel:"modulepreload",href:t},s),Qt.set(h,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wa(h)))return}o=a.createElement("link"),ot(o,"link",t),Je(o),a.head.appendChild(o)}}}function UT(t,s,a){Hn.S(t,s,a);var o=rr;if(o&&t){var c=Os(o).hoistableStyles,h=ar(t);s=s||"default";var g=c.get(h);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(Ta(h)))y.loading=5;else{t=re({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Qt.get(h))&&Wf(t,a);var b=g=o.createElement("link");Je(b),ot(b,"link",t),b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),b.addEventListener("load",function(){y.loading|=1}),b.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ao(g,s,o)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(h,g)}}}function PT(t,s){Hn.X(t,s);var a=rr;if(a&&t){var o=Os(a).hoistableScripts,c=lr(t),h=o.get(c);h||(h=a.querySelector(wa(c)),h||(t=re({src:t,async:!0},s),(s=Qt.get(c))&&Qf(t,s),h=a.createElement("script"),Je(h),ot(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function zT(t,s){Hn.M(t,s);var a=rr;if(a&&t){var o=Os(a).hoistableScripts,c=lr(t),h=o.get(c);h||(h=a.querySelector(wa(c)),h||(t=re({src:t,async:!0,type:"module"},s),(s=Qt.get(c))&&Qf(t,s),h=a.createElement("script"),Je(h),ot(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function O_(t,s,a,o){var c=(c=ii.current)?Ro(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ar(a.href),a=Os(c).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ar(a.href);var h=Os(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Ta(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(t,a),h||BT(c,t,a,g.state))),s&&o===null)throw Error(r(528,""));return g}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lr(a),a=Os(c).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ar(t){return'href="'+Bt(t)+'"'}function Ta(t){return'link[rel="stylesheet"]['+t+"]"}function x_(t){return re({},t,{"data-precedence":t.precedence,precedence:null})}function BT(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),ot(s,"link",a),Je(s),t.head.appendChild(s))}function lr(t){return'[src="'+Bt(t)+'"]'}function wa(t){return"script[async]"+t}function D_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(o)return s.instance=o,Je(o),o;var c=re({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Je(o),ot(o,"style",c),Ao(o,a.precedence,t),s.instance=o;case"stylesheet":c=ar(a.href);var h=t.querySelector(Ta(c));if(h)return s.state.loading|=4,s.instance=h,Je(h),h;o=x_(a),(c=Qt.get(c))&&Wf(o,c),h=(t.ownerDocument||t).createElement("link"),Je(h);var g=h;return g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),ot(h,"link",o),s.state.loading|=4,Ao(h,a.precedence,t),s.instance=h;case"script":return h=lr(a.src),(c=t.querySelector(wa(h)))?(s.instance=c,Je(c),c):(o=a,(c=Qt.get(h))&&(o=re({},a),Qf(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),ot(c,"link",o),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Ao(o,a.precedence,t));return s.instance}function Ao(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===s)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Wf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Qf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var No=null;function I_(t,s,a){if(No===null){var o=new Map,c=No=new Map;c.set(a,o)}else c=No,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[zr]||h[ct]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(s)||"";g=t+g;var y=o.get(g);y?y.push(h):o.set(g,[h])}}return o}function M_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function HT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ca=null;function jT(){}function qT(t,s,a){if(Ca===null)throw Error(r(475));var o=Ca;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ar(a.href),h=t.querySelector(Ta(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Oo.bind(o),t.then(o,o)),s.state.loading|=4,s.instance=h,Je(h);return}h=t.ownerDocument||t,a=x_(a),(c=Qt.get(c))&&Wf(a,c),h=h.createElement("link"),Je(h);var g=h;g._p=new Promise(function(y,b){g.onload=y,g.onerror=b}),ot(h,"link",a),s.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(o.count++,s=Oo.bind(o),t.addEventListener("load",s),t.addEventListener("error",s))}}function FT(){if(Ca===null)throw Error(r(475));var t=Ca;return t.stylesheets&&t.count===0&&Xf(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Xf(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oo(){if(this.count--,this.count===0){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xo=null;function Xf(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xo=new Map,s.forEach(VT,t),xo=null,Oo.call(t))}function VT(t,s){if(!(s.state.loading&4)){var a=xo.get(t);if(a)var o=a.get(null);else{a=new Map,xo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=s.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||o,h===o&&a.set(null,c),a.set(g,c),this.count++,o=Oo.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var Ra={$$typeof:R,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function GT(t,s,a,o,c,h,g,y){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.hiddenUpdates=$u(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function L_(t,s,a,o,c,h,g,y,b,C,U,B){return t=new GT(t,s,a,g,y,b,C,B),s=1,h===!0&&(s|=24),h=Kt(3,null,null,s),t.current=h,h.stateNode=t,s=Ac(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:s},of(h),t}function U_(t){return t?(t=Bs,t):Bs}function P_(t,s,a,o,c,h){c=U_(c),o.context===null?o.context=c:o.pendingContext=c,o=pi(s),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=mi(t,o,s),a!==null&&(yt(a,t,s),ua(a,t,s))}function z_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function $f(t,s){z_(t,s),(t=t.alternate)&&z_(t,s)}function B_(t){if(t.tag===13){var s=li(t,67108864);s!==null&&yt(s,t,67108864),$f(t,67108864)}}var Do=!0;function YT(t,s,a,o){var c=G.T;G.T=null;var h=Y.p;try{Y.p=2,Zf(t,s,a,o)}finally{Y.p=h,G.T=c}}function KT(t,s,a,o){var c=G.T;G.T=null;var h=Y.p;try{Y.p=8,Zf(t,s,a,o)}finally{Y.p=h,G.T=c}}function Zf(t,s,a,o){if(Do){var c=Jf(o);if(c===null)Hf(t,s,o,Io,a),j_(t,o);else if(QT(c,t,s,a,o))o.stopPropagation();else if(j_(t,o),s&4&&-1<WT.indexOf(t)){for(;c!==null;){var h=Ns(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ji(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var b=1<<31-Dt(g);y.entanglements[1]|=b,g&=~b}gn(h),(Be&6)===0&&(mo=fn()+500,Ea(0))}}break;case 13:y=li(h,2),y!==null&&yt(y,h,2),yo(),$f(h,2)}if(h=Jf(o),h===null&&Hf(t,s,o,Io,a),h===c)break;c=h}c!==null&&o.stopPropagation()}else Hf(t,s,o,null,a)}}function Jf(t){return t=sc(t),eh(t)}var Io=null;function eh(t){if(Io=null,t=qi(t),t!==null){var s=te(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=xe(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Io=t,null}function H_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mb()){case cp:return 2;case fp:return 8;case Rl:case kb:return 32;case hp:return 268435456;default:return 32}default:return 32}}var th=!1,Si=null,Ti=null,wi=null,Aa=new Map,Na=new Map,Ci=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(t,s){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Aa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(s.pointerId)}}function Oa(t,s,a,o,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},s!==null&&(s=Ns(s),s!==null&&B_(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function QT(t,s,a,o,c){switch(s){case"focusin":return Si=Oa(Si,t,s,a,o,c),!0;case"dragenter":return Ti=Oa(Ti,t,s,a,o,c),!0;case"mouseover":return wi=Oa(wi,t,s,a,o,c),!0;case"pointerover":var h=c.pointerId;return Aa.set(h,Oa(Aa.get(h)||null,t,s,a,o,c)),!0;case"gotpointercapture":return h=c.pointerId,Na.set(h,Oa(Na.get(h)||null,t,s,a,o,c)),!0}return!1}function q_(t){var s=qi(t.target);if(s!==null){var a=te(s);if(a!==null){if(s=a.tag,s===13){if(s=xe(a),s!==null){t.blockedOn=s,Fb(t.priority,function(){if(a.tag===13){var o=Ut(),c=li(a,o);c!==null&&yt(c,a,o),$f(a,o)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ic=o,a.target.dispatchEvent(o),ic=null}else return s=Ns(a),s!==null&&B_(s),t.blockedOn=a,!1;s.shift()}return!0}function F_(t,s,a){Mo(t)&&a.delete(s)}function XT(){th=!1,Si!==null&&Mo(Si)&&(Si=null),Ti!==null&&Mo(Ti)&&(Ti=null),wi!==null&&Mo(wi)&&(wi=null),Aa.forEach(F_),Na.forEach(F_)}function ko(t,s){t.blockedOn===s&&(t.blockedOn=null,th||(th=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,XT)))}var Lo=null;function V_(t){Lo!==t&&(Lo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lo===t&&(Lo=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],c=t[s+2];if(typeof o!="function"){if(eh(o||a)===null)continue;break}var h=Ns(a);h!==null&&(t.splice(s,3),s-=3,Fc(h,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function xa(t){function s(b){return ko(b,t)}Si!==null&&ko(Si,t),Ti!==null&&ko(Ti,t),wi!==null&&ko(wi,t),Aa.forEach(s),Na.forEach(s);for(var a=0;a<Ci.length;a++){var o=Ci[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ci.length&&(a=Ci[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Ci.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],g=c[bt]||null;if(typeof h=="function")g||V_(a);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[bt]||null)y=g.formAction;else if(eh(c)!==null)continue}else y=g.action;typeof y=="function"?a[o+1]=y:(a.splice(o,3),o-=3),V_(a)}}}function nh(t){this._internalRoot=t}Uo.prototype.render=nh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Ut();P_(a,o,t,s,null,null)},Uo.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;t.tag===0&&nr(),P_(t.current,2,null,t,null,null),yo(),s[As]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var s=yp();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ci.length&&s!==0&&s<Ci[a].priority;a++);Ci.splice(a,0,t),a===0&&q_(t)}};var G_=e.version;if(G_!=="19.0.0")throw Error(r(527,G_,"19.0.0"));Y.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=H(s),t=t!==null?J(t):null,t=t===null?null:t.stateNode,t};var $T={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:qi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Lr=Po.inject($T),xt=Po}catch{}}return Ia.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",c=og,h=ug,g=cg,y=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(y=s.unstable_transitionCallbacks)),s=L_(t,1,!1,null,null,a,o,c,h,g,y,null),t[As]=s.current,Bf(t.nodeType===8?t.parentNode:t),new nh(s)},Ia.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,c="",h=og,g=ug,y=cg,b=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),s=L_(t,1,!0,s,a??null,o,c,h,g,y,b,C),s.context=U_(null),a=s.current,o=Ut(),c=pi(o),c.callback=null,mi(a,c,o),s.current.lanes=o,Pr(s,o),gn(s),t[As]=s.current,Bf(t),new Uo(s)},Ia.version="19.0.0",Ia}var ty;function lw(){if(ty)return rh.exports;ty=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),rh.exports=aw(),rh.exports}var ow=lw(),Ma={},ny;function uw(){if(ny)return Ma;ny=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.parse=f,Ma.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,R){const S=new u,D=E.length;if(D<2)return S;const I=(R==null?void 0:R.decode)||_;let P=0;do{const q=E.indexOf("=",P);if(q===-1)break;const j=E.indexOf(";",P),ie=j===-1?D:j;if(q>ie){P=E.lastIndexOf(";",q-1)+1;continue}const K=d(E,P,q),_e=p(E,q,K),we=E.slice(K,_e);if(S[we]===void 0){let Pe=d(E,q+1,ie),G=p(E,ie,Pe);const re=I(E.slice(Pe,G));S[we]=re}P=ie+1}while(P<D);return S}function d(E,R,S){do{const D=E.charCodeAt(R);if(D!==32&&D!==9)return R}while(++R<S);return S}function p(E,R,S){for(;R>S;){const D=E.charCodeAt(--R);if(D!==32&&D!==9)return R+1}return S}function m(E,R,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=D(R);if(!e.test(I))throw new TypeError(`argument val is invalid: ${R}`);let P=E+"="+I;if(!S)return P;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);P+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);P+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);P+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);P+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(P+="; HttpOnly"),S.secure&&(P+="; Secure"),S.partitioned&&(P+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return P}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return l.call(E)==="[object Date]"}return Ma}uw();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iy="popstate";function cw(i={}){function e(l,u){let{pathname:f="/",search:d="",hash:p=""}=ws(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Nh("",{pathname:f,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof u=="string"?u:Wa(u))}function r(l,u){an(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return hw(e,n,r,i)}function He(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function an(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fw(){return Math.random().toString(36).substring(2,10)}function sy(i,e){return{usr:i.state,key:i.key,idx:e}}function Nh(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:n,key:e&&e.key||r||fw()}}function Wa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ws(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function hw(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,f=l.history,d="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function v(){d="POP";let I=_(),P=I==null?null:I-m;m=I,p&&p({action:d,location:D.location,delta:P})}function E(I,P){d="PUSH";let q=Nh(D.location,I,P);n&&n(q,I),m=_()+1;let j=sy(q,m),ie=D.createHref(q);try{f.pushState(j,"",ie)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(ie)}u&&p&&p({action:d,location:D.location,delta:1})}function R(I,P){d="REPLACE";let q=Nh(D.location,I,P);n&&n(q,I),m=_();let j=sy(q,m),ie=D.createHref(q);f.replaceState(j,"",ie),u&&p&&p({action:d,location:D.location,delta:0})}function S(I){let P=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof I=="string"?I:Wa(I);return q=q.replace(/ $/,"%20"),He(P,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,P)}let D={get action(){return d},get location(){return i(l,f)},listen(I){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(iy,v),p=I,()=>{l.removeEventListener(iy,v),p=null}},createHref(I){return e(l,I)},createURL:S,encodeLocation(I){let P=S(I);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:R,go(I){return f.go(I)}};return D}function Dv(i,e,n="/"){return dw(i,e,n,!1)}function dw(i,e,n,r){let l=typeof e=="string"?ws(e):e,u=Wn(l.pathname||"/",n);if(u==null)return null;let f=Iv(i);pw(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let m=Cw(u);d=Tw(f[p],m,r)}return d}function Iv(i,e=[],n=[],r=""){let l=(u,f,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(He(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=Gn([r,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(He(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Iv(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:bw(m,u.index),routesMeta:_})};return i.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,f);else for(let p of Mv(u.path))l(u,f,p)}),e}function Mv(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let f=Mv(r.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&d.push(...f),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function pw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Sw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mw=/^:[\w-]+$/,gw=3,_w=2,yw=1,vw=10,Ew=-2,ry=i=>i==="*";function bw(i,e){let n=i.split("/"),r=n.length;return n.some(ry)&&(r+=Ew),e&&(r+=_w),n.filter(l=>!ry(l)).reduce((l,u)=>l+(mw.test(u)?gw:u===""?yw:vw),r)}function Sw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function Tw(i,e,n=!1){let{routesMeta:r}=i,l={},u="/",f=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",v=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),E=p.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Jo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(l,v.params),f.push({params:l,pathname:Gn([u,v.pathname]),pathnameBase:Ow(Gn([u,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(u=Gn([u,v.pathnameBase]))}return f}function Jo(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=ww(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:v},E)=>{if(_==="*"){let S=d[E]||"";f=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const R=d[E];return v&&!R?m[_]=void 0:m[_]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:i}}function ww(i,e=!1,n=!0){an(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Cw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Wn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function Rw(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?ws(i):i;return{pathname:n?n.startsWith("/")?n:Aw(n,e):e,search:xw(r),hash:Dw(l)}}function Aw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function uh(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kv(i){let e=Nw(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lv(i,e,n,r=!1){let l;typeof i=="string"?l=ws(i):(l={...i},He(!l.pathname||!l.pathname.includes("?"),uh("?","pathname","search",l)),He(!l.pathname||!l.pathname.includes("#"),uh("#","pathname","hash",l)),He(!l.search||!l.search.includes("#"),uh("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,d;if(f==null)d=n;else{let v=e.length-1;if(!r&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;l.pathname=E.join("/")}d=v>=0?e[v]:"/"}let p=Rw(l,d),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Gn=i=>i.join("/").replace(/\/\/+/g,"/"),Ow=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),xw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Dw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Iw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Uv=["POST","PUT","PATCH","DELETE"];new Set(Uv);var Mw=["GET",...Uv];new Set(Mw);var wr=M.createContext(null);wr.displayName="DataRouter";var Cu=M.createContext(null);Cu.displayName="DataRouterState";var Pv=M.createContext({isTransitioning:!1});Pv.displayName="ViewTransition";var kw=M.createContext(new Map);kw.displayName="Fetchers";var Lw=M.createContext(null);Lw.displayName="Await";var En=M.createContext(null);En.displayName="Navigation";var ll=M.createContext(null);ll.displayName="Location";var Jn=M.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var ad=M.createContext(null);ad.displayName="RouteError";function Uw(i,{relative:e}={}){He(ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(En),{hash:l,pathname:u,search:f}=ul(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:Gn([n,u])),r.createHref({pathname:d,search:f,hash:l})}function ol(){return M.useContext(ll)!=null}function bn(){return He(ol(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ll).location}var zv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bv(i){M.useContext(En).static||M.useLayoutEffect(i)}function Ru(){let{isDataRoute:i}=M.useContext(Jn);return i?Qw():Pw()}function Pw(){He(ol(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(wr),{basename:e,navigator:n}=M.useContext(En),{matches:r}=M.useContext(Jn),{pathname:l}=bn(),u=JSON.stringify(kv(r)),f=M.useRef(!1);return Bv(()=>{f.current=!0}),M.useCallback((p,m={})=>{if(an(f.current,zv),!f.current)return;if(typeof p=="number"){n.go(p);return}let _=Lv(p,JSON.parse(u),l,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gn([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,u,l,i])}M.createContext(null);function ul(i,{relative:e}={}){let{matches:n}=M.useContext(Jn),{pathname:r}=bn(),l=JSON.stringify(kv(n));return M.useMemo(()=>Lv(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function zw(i,e){return Hv(i,e)}function Hv(i,e,n,r){var q;He(ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=M.useContext(En),{matches:f}=M.useContext(Jn),d=f[f.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let j=v&&v.path||"";jv(m,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=bn(),R;if(e){let j=typeof e=="string"?ws(e):e;He(_==="/"||((q=j.pathname)==null?void 0:q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${j.pathname}" was given in the \`location\` prop.`),R=j}else R=E;let S=R.pathname||"/",D=S;if(_!=="/"){let j=_.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let I=!u&&n&&n.matches&&n.matches.length>0?n.matches:Dv(i,{pathname:D});an(v||I!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),an(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Fw(I&&I.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Gn([_,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?_:Gn([_,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),f,n,r);return e&&P?M.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},P):P}function Bw(){let i=Ww(),e=Iw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:u},"ErrorBoundary")," or"," ",M.createElement("code",{style:u},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:l},n):null,f)}var Hw=M.createElement(Bw,null),jw=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?M.createElement(Jn.Provider,{value:this.props.routeContext},M.createElement(ad.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qw({routeContext:i,match:e,children:n}){let r=M.useContext(wr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Jn.Provider,{value:i},n)}function Fw(i,e=[],n=null,r=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let l=i,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);He(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,d=-1;if(n)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:v}=n,E=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||E){f=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let v,E=!1,R=null,S=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,R=m.route.errorElement||Hw,f&&(d<0&&_===0?(jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):d===_&&(E=!0,S=m.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,_+1)),I=()=>{let P;return v?P=R:E?P=S:m.route.Component?P=M.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=p,M.createElement(qw,{match:m,routeContext:{outlet:p,matches:D,isDataRoute:n!=null},children:P})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?M.createElement(jw,{location:n.location,revalidation:n.revalidation,component:R,error:v,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}function ld(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(i){let e=M.useContext(wr);return He(e,ld(i)),e}function Gw(i){let e=M.useContext(Cu);return He(e,ld(i)),e}function Yw(i){let e=M.useContext(Jn);return He(e,ld(i)),e}function od(i){let e=Yw(i),n=e.matches[e.matches.length-1];return He(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Kw(){return od("useRouteId")}function Ww(){var r;let i=M.useContext(ad),e=Gw("useRouteError"),n=od("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[n]}function Qw(){let{router:i}=Vw("useNavigate"),e=od("useNavigate"),n=M.useRef(!1);return Bv(()=>{n.current=!0}),M.useCallback(async(l,u={})=>{an(n.current,zv),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var ay={};function jv(i,e,n){!e&&!ay[i]&&(ay[i]=!0,an(!1,n))}M.memo(Xw);function Xw({routes:i,future:e,state:n}){return Hv(i,void 0,n,e)}function qo(i){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $w({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1}){He(!ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=ws(n));let{pathname:p="/",search:m="",hash:_="",state:v=null,key:E="default"}=n,R=M.useMemo(()=>{let S=Wn(p,f);return S==null?null:{location:{pathname:S,search:m,hash:_,state:v,key:E},navigationType:r}},[f,p,m,_,v,E,r]);return an(R!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:M.createElement(En.Provider,{value:d},M.createElement(ll.Provider,{children:e,value:R}))}function Zw({children:i,location:e}){return zw(Oh(i),e)}function Oh(i,e=[]){let n=[];return M.Children.forEach(i,(r,l)=>{if(!M.isValidElement(r))return;let u=[...e,l];if(r.type===M.Fragment){n.push.apply(n,Oh(r.props.children,u));return}He(r.type===qo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Oh(r.props.children,u)),n.push(f)}),n}var Fo="get",Vo="application/x-www-form-urlencoded";function Au(i){return i!=null&&typeof i.tagName=="string"}function Jw(i){return Au(i)&&i.tagName.toLowerCase()==="button"}function eC(i){return Au(i)&&i.tagName.toLowerCase()==="form"}function tC(i){return Au(i)&&i.tagName.toLowerCase()==="input"}function nC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iC(i,e){return i.button===0&&(!e||e==="_self")&&!nC(i)}var zo=null;function sC(){if(zo===null)try{new FormData(document.createElement("form"),0),zo=!1}catch{zo=!0}return zo}var rC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ch(i){return i!=null&&!rC.has(i)?(an(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vo}"`),null):i}function aC(i,e){let n,r,l,u,f;if(eC(i)){let d=i.getAttribute("action");r=d?Wn(d,e):null,n=i.getAttribute("method")||Fo,l=ch(i.getAttribute("enctype"))||Vo,u=new FormData(i)}else if(Jw(i)||tC(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?Wn(p,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||Fo,l=ch(i.getAttribute("formenctype"))||ch(d.getAttribute("enctype"))||Vo,u=new FormData(d,i),!sC()){let{name:m,type:_,value:v}=i;if(_==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,v)}}else{if(Au(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fo,r=null,l=Vo,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:f}}function ud(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function lC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function uC(i,e,n){let r=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await lC(u,n);return f.links?f.links():[]}return[]}));return dC(r.flat(1).filter(oC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ly(i,e,n,r,l,u){let f=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,d=(p,m)=>{var _;return n[m].pathname!==p.pathname||((_=n[m].route.path)==null?void 0:_.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||d(p,m)):u==="data"?e.filter((p,m)=>{var v;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function cC(i,e,{includeHydrateFallback:n}={}){return fC(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function fC(i){return[...new Set(i)]}function hC(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function dC(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let u=JSON.stringify(hC(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function pC(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Wn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function qv(){let i=M.useContext(wr);return ud(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function mC(){let i=M.useContext(Cu);return ud(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var cd=M.createContext(void 0);cd.displayName="FrameworkContext";function Fv(){let i=M.useContext(cd);return ud(i,"You must render this element inside a <HydratedRouter> element"),i}function gC(i,e){let n=M.useContext(cd),[r,l]=M.useState(!1),[u,f]=M.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:v}=e,E=M.useRef(null);M.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let D=P=>{P.forEach(q=>{f(q.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[i]),M.useEffect(()=>{if(r){let D=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(D)}}},[r]);let R=()=>{l(!0)},S=()=>{l(!1),f(!1)};return n?i!=="intent"?[u,E,{}]:[u,E,{onFocus:ka(d,R),onBlur:ka(p,S),onMouseEnter:ka(m,R),onMouseLeave:ka(_,S),onTouchStart:ka(v,R)}]:[!1,E,{}]}function ka(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function _C({page:i,...e}){let{router:n}=qv(),r=M.useMemo(()=>Dv(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?M.createElement(vC,{page:i,matches:r,...e}):null}function yC(i){let{manifest:e,routeModules:n}=Fv(),[r,l]=M.useState([]);return M.useEffect(()=>{let u=!1;return uC(i,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[i,e,n]),r}function vC({page:i,matches:e,...n}){let r=bn(),{manifest:l,routeModules:u}=Fv(),{basename:f}=qv(),{loaderData:d,matches:p}=mC(),m=M.useMemo(()=>ly(i,e,p,l,r,"data"),[i,e,p,l,r]),_=M.useMemo(()=>ly(i,e,p,l,r,"assets"),[i,e,p,l,r]),v=M.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let S=new Set,D=!1;if(e.forEach(P=>{var j;let q=l.routes[P.route.id];!q||!q.hasLoader||(!m.some(ie=>ie.route.id===P.route.id)&&P.route.id in d&&((j=u[P.route.id])!=null&&j.shouldRevalidate)||q.hasClientLoader?D=!0:S.add(P.route.id))}),S.size===0)return[];let I=pC(i,f);return D&&S.size>0&&I.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[I.pathname+I.search]},[f,d,r,l,m,e,i,u]),E=M.useMemo(()=>cC(_,l),[_,l]),R=yC(_);return M.createElement(M.Fragment,null,v.map(S=>M.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),E.map(S=>M.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),R.map(({key:S,link:D})=>M.createElement("link",{key:S,...D})))}function EC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vv&&(window.__reactRouterVersion="7.4.0")}catch{}function bC({basename:i,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=cw({window:n,v5Compat:!0}));let l=r.current,[u,f]=M.useState({action:l.action,location:l.location}),d=M.useCallback(p=>{M.startTransition(()=>f(p))},[f]);return M.useLayoutEffect(()=>l.listen(d),[l,d]),M.createElement($w,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:l})}var Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yv=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:f,state:d,target:p,to:m,preventScrollReset:_,viewTransition:v,...E},R){let{basename:S}=M.useContext(En),D=typeof m=="string"&&Gv.test(m),I,P=!1;if(typeof m=="string"&&D&&(I=m,Vv))try{let G=new URL(window.location.href),re=m.startsWith("//")?new URL(G.protocol+m):new URL(m),mt=Wn(re.pathname,S);re.origin===G.origin&&mt!=null?m=mt+re.search+re.hash:P=!0}catch{an(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Uw(m,{relative:l}),[j,ie,K]=gC(r,E),_e=CC(m,{replace:f,state:d,target:p,preventScrollReset:_,relative:l,viewTransition:v});function we(G){e&&e(G),G.defaultPrevented||_e(G)}let Pe=M.createElement("a",{...E,...K,href:I||q,onClick:P||u?e:we,ref:EC(R,ie),target:p,"data-discover":!D&&n==="render"?"true":void 0});return j&&!D?M.createElement(M.Fragment,null,Pe,M.createElement(_C,{page:q})):Pe});Yv.displayName="Link";var SC=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:f,viewTransition:d,children:p,...m},_){let v=ul(f,{relative:m.relative}),E=bn(),R=M.useContext(Cu),{navigator:S,basename:D}=M.useContext(En),I=R!=null&&xC(v)&&d===!0,P=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,q=E.pathname,j=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(q=q.toLowerCase(),j=j?j.toLowerCase():null,P=P.toLowerCase()),j&&D&&(j=Wn(j,D)||j);const ie=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let K=q===P||!l&&q.startsWith(P)&&q.charAt(ie)==="/",_e=j!=null&&(j===P||!l&&j.startsWith(P)&&j.charAt(P.length)==="/"),we={isActive:K,isPending:_e,isTransitioning:I},Pe=K?e:void 0,G;typeof r=="function"?G=r(we):G=[r,K?"active":null,_e?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let re=typeof u=="function"?u(we):u;return M.createElement(Yv,{...m,"aria-current":Pe,className:G,ref:_,style:re,to:f,viewTransition:d},typeof p=="function"?p(we):p)});SC.displayName="NavLink";var TC=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:f=Fo,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:v,...E},R)=>{let S=NC(),D=OC(d,{relative:m}),I=f.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&Gv.test(d),q=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let ie=j.nativeEvent.submitter,K=(ie==null?void 0:ie.getAttribute("formmethod"))||f;S(ie||j.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:v})};return M.createElement("form",{ref:R,method:I,action:D,onSubmit:r?p:q,...E,"data-discover":!P&&i==="render"?"true":void 0})});TC.displayName="Form";function wC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kv(i){let e=M.useContext(wr);return He(e,wC(i)),e}function CC(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:f}={}){let d=Ru(),p=bn(),m=ul(i,{relative:u});return M.useCallback(_=>{if(iC(_,e)){_.preventDefault();let v=n!==void 0?n:Wa(p)===Wa(m);d(i,{replace:v,state:r,preventScrollReset:l,relative:u,viewTransition:f})}},[p,d,m,n,r,e,i,l,u,f])}var RC=0,AC=()=>`__${String(++RC)}__`;function NC(){let{router:i}=Kv("useSubmit"),{basename:e}=M.useContext(En),n=Kw();return M.useCallback(async(r,l={})=>{let{action:u,method:f,encType:d,formData:p,body:m}=aC(r,e);if(l.navigate===!1){let _=l.fetcherKey||AC();await i.fetch(_,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function OC(i,{relative:e}={}){let{basename:n}=M.useContext(En),r=M.useContext(Jn);He(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...ul(i||".",{relative:e})},f=bn();if(i==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gn([n,u.pathname])),Wa(u)}function xC(i,e={}){let n=M.useContext(Pv);He(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Kv("useViewTransitionState"),l=ul(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Wn(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=Wn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jo(l.pathname,f)!=null||Jo(l.pathname,u)!=null}new TextEncoder;const DC=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(i,e){if(!i)throw Cr(e)},Cr=function(i){return new Error("Firebase Database ("+Wv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},IC=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],f=i[n++],d=i[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,d=f?i[l+1]:0,p=l+2<i.length,m=p?i[l+2]:0,_=u>>2,v=(u&3)<<4|d>>4;let E=(d&15)<<2|m>>6,R=m&63;p||(R=64,f||(E=64)),r.push(n[_],n[v],n[E],n[R])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Qv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):IC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],d=l<i.length?n[i.charAt(l)]:0;++l;const m=l<i.length?n[i.charAt(l)]:64;++l;const v=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||d==null||m==null||v==null)throw new MC;const E=u<<2|d>>4;if(r.push(E),m!==64){const R=d<<4&240|m>>2;if(r.push(R),v!==64){const S=m<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class MC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xv=function(i){const e=Qv(i);return fd.encodeByteArray(e,!0)},eu=function(i){return Xv(i).replace(/\./g,"")},tu=function(i){try{return fd.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i){return $v(void 0,i)}function $v(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!LC(n)||(i[n]=$v(i[n],e[n]));return i}function LC(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=()=>UC().__FIREBASE_DEFAULTS__,zC=()=>{if(typeof process>"u"||typeof oy>"u")return;const i=oy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&tu(i[1]);return e&&JSON.parse(e)},hd=()=>{try{return DC()||PC()||zC()||BC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Zv=i=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},HC=i=>{const e=Zv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jv=()=>{var i;return(i=hd())===null||i===void 0?void 0:i.config},e0=i=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[eu(JSON.stringify(n)),eu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function qC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function t0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VC(){const i=vt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function GC(){return Wv.NODE_ADMIN===!0}function YC(){try{return typeof indexedDB=="object"}catch{return!1}}function KC(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WC,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?QC(u,r):"Error",d=`${this.serviceName}: ${f} (${l}).`;return new zi(l,d,r)}}function QC(i,e){return i.replace(XC,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const XC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(i){return JSON.parse(i)}function rt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(i){let e={},n={},r={},l="";try{const u=i.split(".");e=Qa(tu(u[0])||""),n=Qa(tu(u[1])||""),l=u[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:l}},$C=function(i){const e=n0(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},ZC=function(i){const e=n0(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function vr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function xh(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function nu(i,e,n){const r={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(r[l]=e.call(n,i[l],l,i));return r}function ms(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=i[l],f=e[l];if(uy(u)&&uy(f)){if(!ms(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function uy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ja(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)r[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)r[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const E=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,_;for(let v=0;v<80;v++){v<40?v<20?(m=d^u&(f^d),_=1518500249):(m=u^f^d,_=1859775393):v<60?(m=u&f|d&(u|f),_=2400959708):(m=u^f^d,_=3395469782);const E=(l<<5|l>>>27)+m+p+_+r[v]&4294967295;p=d,d=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<n;){if(f===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<n;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[l]>>u&255,++r;return e}}function eR(i,e){const n=new tR(i,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=fh),l.error===void 0&&(l.error=fh),l.complete===void 0&&(l.complete=fh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function fh(){}function pd(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,F(r<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(r)-56320;l=65536+(u<<10)+f}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Ou=function(i){let e=0;for(let n=0;n<i.length;n++){const r=i.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i){return i&&i._delegate?i._delegate:i}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aR(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);r===d&&f.resolve(l)}return l}onInit(e,n){var r;const l=this.normalizeInstanceIdentifier(n),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(i){return i===us?void 0:i}function aR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ae||(Ae={}));const oR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},uR=Ae.INFO,cR={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},fR=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=cR[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class md{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const hR=(i,e)=>e.some(n=>i instanceof n);let cy,fy;function dR(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i0=new WeakMap,Dh=new WeakMap,s0=new WeakMap,hh=new WeakMap,gd=new WeakMap;function mR(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Ii(i.result)),l()},f=()=>{r(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&i0.set(n,i)}).catch(()=>{}),gd.set(e,i),e}function gR(i){if(Dh.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Dh.set(i,e)}let Ih={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Dh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||s0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _R(i){Ih=i(Ih)}function yR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(dh(this),e,...n);return s0.set(r,e.sort?e.sort():[e]),Ii(r)}:pR().includes(i)?function(...e){return i.apply(dh(this),e),Ii(i0.get(this))}:function(...e){return Ii(i.apply(dh(this),e))}}function vR(i){return typeof i=="function"?yR(i):(i instanceof IDBTransaction&&gR(i),hR(i,dR())?new Proxy(i,Ih):i)}function Ii(i){if(i instanceof IDBRequest)return mR(i);if(hh.has(i))return hh.get(i);const e=vR(i);return e!==i&&(hh.set(i,e),gd.set(e,i)),e}const dh=i=>gd.get(i);function ER(i,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),d=Ii(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Ii(f.result),p.oldVersion,p.newVersion,Ii(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const bR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],ph=new Map;function hy(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ph.get(e))return ph.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=SR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||bR.includes(n)))return;const u=async function(f,...d){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),l&&p.done]))[0]};return ph.set(e,u),u}_R(i=>({...i,get:(e,n,r)=>hy(e,n)||i.get(e,n,r),has:(e,n)=>!!hy(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mh="@firebase/app",dy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new md("@firebase/app"),CR="@firebase/app-compat",RR="@firebase/analytics-compat",AR="@firebase/analytics",NR="@firebase/app-check-compat",OR="@firebase/app-check",xR="@firebase/auth",DR="@firebase/auth-compat",IR="@firebase/database",MR="@firebase/data-connect",kR="@firebase/database-compat",LR="@firebase/functions",UR="@firebase/functions-compat",PR="@firebase/installations",zR="@firebase/installations-compat",BR="@firebase/messaging",HR="@firebase/messaging-compat",jR="@firebase/performance",qR="@firebase/performance-compat",FR="@firebase/remote-config",VR="@firebase/remote-config-compat",GR="@firebase/storage",YR="@firebase/storage-compat",KR="@firebase/firestore",WR="@firebase/vertexai",QR="@firebase/firestore-compat",XR="firebase",$R="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",ZR={[Mh]:"fire-core",[CR]:"fire-core-compat",[AR]:"fire-analytics",[RR]:"fire-analytics-compat",[OR]:"fire-app-check",[NR]:"fire-app-check-compat",[xR]:"fire-auth",[DR]:"fire-auth-compat",[IR]:"fire-rtdb",[MR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[LR]:"fire-fn",[UR]:"fire-fn-compat",[PR]:"fire-iid",[zR]:"fire-iid-compat",[BR]:"fire-fcm",[HR]:"fire-fcm-compat",[jR]:"fire-perf",[qR]:"fire-perf-compat",[FR]:"fire-rc",[VR]:"fire-rc-compat",[GR]:"fire-gcs",[YR]:"fire-gcs-compat",[KR]:"fire-fst",[QR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,JR=new Map,Lh=new Map;function py(i,e){try{i.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Er(i){const e=i.name;if(Lh.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,i);for(const n of iu.values())py(n,i);for(const n of JR.values())py(n,i);return!0}function _d(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Xt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new cl("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=$R;function r0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw Mi.create("bad-app-name",{appName:String(l)});if(n||(n=Jv()),!n)throw Mi.create("no-options");const u=iu.get(l);if(u){if(ms(n,u.options)&&ms(r,u.config))return u;throw Mi.create("duplicate-app",{appName:l})}const f=new lR(l);for(const p of Lh.values())f.addComponent(p);const d=new tA(n,r,f);return iu.set(l,d),d}function a0(i=kh){const e=iu.get(i);if(!e&&i===kh&&Jv())return r0();if(!e)throw Mi.create("no-app",{appName:i});return e}function ki(i,e,n){var r;let l=(r=ZR[i])!==null&&r!==void 0?r:i;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${l}" with version "${e}":`];u&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(d.join(" "));return}Er(new gs(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebase-heartbeat-database",iA=1,Xa="firebase-heartbeat-store";let mh=null;function l0(){return mh||(mh=ER(nA,iA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Mi.create("idb-open",{originalErrorMessage:i.message})})),mh}async function sA(i){try{const n=(await l0()).transaction(Xa),r=await n.objectStore(Xa).get(o0(i));return await n.done,r}catch(e){if(e instanceof zi)Qn.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(n.message)}}}async function my(i,e){try{const r=(await l0()).transaction(Xa,"readwrite");await r.objectStore(Xa).put(e,o0(i)),await r.done}catch(n){if(n instanceof zi)Qn.warn(n.message);else{const r=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qn.warn(r.message)}}}function o0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=1024,aA=30;class lA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>aA){const f=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gy(),{heartbeatsToSend:r,unsentEntries:l}=oA(this._heartbeatsCache.heartbeats),u=eu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Qn.warn(n),""}}}function gy(){return new Date().toISOString().substring(0,10)}function oA(i,e=rA){const n=[];let r=i.slice();for(const l of i){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),_y(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),_y(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YC()?KC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function _y(i){return eu(JSON.stringify({version:2,heartbeats:i})).length}function cA(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i){Er(new gs("platform-logger",e=>new TR(e),"PRIVATE")),Er(new gs("heartbeat",e=>new lA(e),"PRIVATE")),ki(Mh,dy,i),ki(Mh,dy,"esm2017"),ki("fire-js","")}fA("");function yd(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(n[r[l]]=i[r[l]]);return n}function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hA=u0,c0=new cl("auth","Firebase",u0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new md("@firebase/auth");function dA(i,...e){su.logLevel<=Ae.WARN&&su.warn(`Auth (${Ar}): ${i}`,...e)}function Go(i,...e){su.logLevel<=Ae.ERROR&&su.error(`Auth (${Ar}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(i,...e){throw vd(i,...e)}function yn(i,...e){return vd(i,...e)}function f0(i,e,n){const r=Object.assign(Object.assign({},hA()),{[e]:n});return new cl("auth","Firebase",r).create(e,{appName:i.name})}function Yn(i){return f0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vd(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return c0.create(i,...e)}function ee(i,e,...n){if(!i)throw vd(e,...n)}function jn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Go(e),new Error(e)}function Xn(i,e){i||jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function pA(){return yy()==="http:"||yy()==="https:"}function yy(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pA()||FC()||"connection"in navigator)?navigator.onLine:!0}function gA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=dd()||t0()}get(){return mA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(i,e){Xn(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new fl(3e4,6e4);function ti(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ni(i,e,n,r,l={}){return d0(i,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const d=Rr(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},u);return qC()||(m.referrerPolicy="no-referrer"),h0.fetch()(p0(i,i.config.apiHost,n,d),m)})}async function d0(i,e,n){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},_A),e);try{const l=new EA(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bo(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bo(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bo(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bo(i,"user-disabled",f);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw f0(i,_,m);ln(i,_)}}catch(l){if(l instanceof zi)throw l;ln(i,"network-request-failed",{message:String(l)})}}async function hl(i,e,n,r,l={}){const u=await ni(i,e,n,r,l);return"mfaPendingCredential"in u&&ln(i,"multi-factor-auth-required",{_serverResponse:u}),u}function p0(i,e,n,r){const l=`${e}${n}?${r}`;return i.config.emulator?Ed(i.config,l):`${i.config.apiScheme}://${l}`}function vA(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),yA.get())})}}function Bo(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=yn(i,e,r);return l.customData._tokenResponse=n,l}function vy(i){return i!==void 0&&i.enterprise!==void 0}class bA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SA(i,e){return ni(i,"GET","/v2/recaptchaConfig",ti(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(i,e){return ni(i,"POST","/v1/accounts:delete",e)}async function m0(i,e){return ni(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wA(i,e=!1){const n=Ot(i),r=await n.getIdToken(e),l=bd(r);ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:qa(gh(l.auth_time)),issuedAtTime:qa(gh(l.iat)),expirationTime:qa(gh(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gh(i){return Number(i)*1e3}function bd(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Go("JWT malformed, contained fewer than 3 sections"),null;try{const l=tu(n);return l?JSON.parse(l):(Go("Failed to decode base64 JWT payload"),null)}catch(l){return Go("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Ey(i){const e=bd(i);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&CA(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function CA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(i){var e;const n=i.auth,r=await i.getIdToken(),l=await $a(i,m0(n,{idToken:r}));ee(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?g0(u.providerUserInfo):[],d=NA(i.providerData,f),p=i.isAnonymous,m=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Ph(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,v)}async function AA(i){const e=Ot(i);await ru(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NA(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function g0(i){return i.map(e=>{var{providerId:n}=e,r=yd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(i,e){const n=await d0(i,{},async()=>{const r=Rr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,f=p0(i,l,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(f,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xA(i,e){return ni(i,"POST","/v2/accounts:revokeToken",ti(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Ey(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await OA(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new fr;return r&&(ee(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fr,this.toJSON())}_performRefresh(){return jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(i,e){ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:r,stsTokenManager:l}=e,u=yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ph(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await $a(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wA(this,e)}reload(){return AA(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ru(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await $a(this,TA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,l,u,f,d,p,m,_;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(l=n.email)!==null&&l!==void 0?l:void 0,R=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,S=(f=n.photoURL)!==null&&f!==void 0?f:void 0,D=(d=n.tenantId)!==null&&d!==void 0?d:void 0,I=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,P=(m=n.createdAt)!==null&&m!==void 0?m:void 0,q=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:ie,isAnonymous:K,providerData:_e,stsTokenManager:we}=n;ee(j&&we,e,"internal-error");const Pe=fr.fromJSON(this.name,we);ee(typeof j=="string",e,"internal-error"),Ai(v,e.name),Ai(E,e.name),ee(typeof ie=="boolean",e,"internal-error"),ee(typeof K=="boolean",e,"internal-error"),Ai(R,e.name),Ai(S,e.name),Ai(D,e.name),Ai(I,e.name),Ai(P,e.name),Ai(q,e.name);const G=new qn({uid:j,auth:e,email:E,emailVerified:ie,displayName:v,isAnonymous:K,photoURL:S,phoneNumber:R,tenantId:D,stsTokenManager:Pe,createdAt:P,lastLoginAt:q});return _e&&Array.isArray(_e)&&(G.providerData=_e.map(re=>Object.assign({},re))),I&&(G._redirectEventId=I),G}static async _fromIdTokenResponse(e,n,r=!1){const l=new fr;l.updateFromServerResponse(n);const u=new qn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ru(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?g0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),d=new fr;d.updateFromIdToken(r);const p=new qn({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Ph(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=new Map;function Fn(i){Xn(i instanceof Function,"Expected a class definition");let e=by.get(i);return e?(Xn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,by.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_0.type="NONE";const Sy=_0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(i,e,n){return`firebase:${i}:${e}:${n}`}class hr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Yo(this.userKey,l.apiKey,u),this.fullPersistenceKey=Yo("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hr(Fn(Sy),e,r);const l=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Fn(Sy);const f=Yo(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const _=await m._get(f);if(_){const v=qn._fromJSON(e,_);m!==u&&(d=v),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new hr(u,e,r):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new hr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(w0(e))return"Webos";if(v0(e))return"Safari";if((e.includes("chrome/")||E0(e))&&!e.includes("edge/"))return"Chrome";if(S0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function y0(i=vt()){return/firefox\//i.test(i)}function v0(i=vt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E0(i=vt()){return/crios\//i.test(i)}function b0(i=vt()){return/iemobile/i.test(i)}function S0(i=vt()){return/android/i.test(i)}function T0(i=vt()){return/blackberry/i.test(i)}function w0(i=vt()){return/webos/i.test(i)}function Sd(i=vt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function DA(i=vt()){var e;return Sd(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IA(){return VC()&&document.documentMode===10}function C0(i=vt()){return Sd(i)||S0(i)||w0(i)||T0(i)||/windows phone/i.test(i)||b0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i,e=[]){let n;switch(i){case"Browser":n=Ty(vt());break;case"Worker":n=`${Ty(vt())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ar}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,d)=>{try{const p=e(u);f(p)}catch(p){d(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(i,e={}){return ni(i,"GET","/v2/passwordPolicy",ti(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=6;class UA{constructor(e){var n,r,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:LA,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,l,u,f,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await hr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await m0(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===d)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ru(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Yn(this));const n=e?Ot(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kA(this),n=new UA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xA(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bi(i){return Ot(i)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zA(i){xu=i}function A0(i){return xu.loadJS(i)}function BA(){return xu.recaptchaEnterpriseScript}function HA(){return xu.gapiScript}function jA(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class qA{constructor(){this.enterprise=new FA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VA="recaptcha-enterprise",N0="NO_RECAPTCHA";class GA{constructor(e){this.type=VA,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,d)=>{SA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new bA(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{d(p)})})}function l(u,f,d){const p=window.grecaptcha;vy(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(N0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qA().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(d=>{if(!n&&vy(window.grecaptcha))l(d,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=BA();p.length!==0&&(p+=d),A0(p).then(()=>{l(d,u,f)}).catch(m=>{f(m)})}}).catch(d=>{f(d)})})}}async function Cy(i,e,n,r=!1,l=!1){const u=new GA(i);let f;if(l)f=N0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:f}):Object.assign(d,{captchaResponse:f}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function au(i,e,n,r,l){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Cy(i,e,n,n==="getOobCode");return r(i,f)}else return r(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Cy(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(i,e){const n=_d(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ms(u,e??{}))return l;ln(l,"already-initialized")}return n.initialize({options:e})}function KA(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WA(i,e,n){const r=Bi(i);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=O0(e),{host:f,port:d}=QA(e),p=d===null?"":`:${d}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(ms(m,r.config.emulator)&&ms(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,XA()}function O0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function QA(i){const e=O0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Ry(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Ry(f)}}}function Ry(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function XA(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}}async function $A(i,e){return ni(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(i,e){return hl(i,"POST","/v1/accounts:signInWithPassword",ti(i,e))}async function JA(i,e){return ni(i,"POST","/v1/accounts:sendOobCode",ti(i,e))}async function e1(i,e){return JA(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(i,e){return hl(i,"POST","/v1/accounts:signInWithEmailLink",ti(i,e))}async function n1(i,e){return hl(i,"POST","/v1/accounts:signInWithEmailLink",ti(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Td{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Za(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Za(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return au(e,n,"signInWithPassword",ZA);case"emailLink":return t1(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return au(e,r,"signUpPassword",$A);case"emailLink":return n1(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dr(i,e){return hl(i,"POST","/v1/accounts:signInWithIdp",ti(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="http://localhost";class _s extends Td{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=n,u=yd(n,["providerId","signInMethod"]);if(!r||!l)return null;const f=new _s(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return dr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dr(e,n)}buildRequest(){const e={requestUri:i1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r1(i){const e=Ha(ja(i)).link,n=e?Ha(ja(e)).deep_link_id:null,r=Ha(ja(i)).deep_link_id;return(r?Ha(ja(r)).link:null)||r||n||e||i}class wd{constructor(e){var n,r,l,u,f,d;const p=Ha(ja(e)),m=(n=p.apiKey)!==null&&n!==void 0?n:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,v=s1((l=p.mode)!==null&&l!==void 0?l:null);ee(m&&_&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=r1(e);try{return new wd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.providerId=Nr.PROVIDER_ID}static credential(e,n){return Za._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wd.parseLink(n);return ee(r,"argument-error"),Za._fromEmailAndCode(e,r.code,r.tenantId)}}Nr.PROVIDER_ID="password";Nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends x0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends dl{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends dl{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends dl{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(i,e){return hl(i,"POST","/v1/accounts:signUp",ti(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await qn._fromIdTokenResponse(e,r,l),f=Ay(r);return new ys({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=Ay(r);return new ys({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function Ay(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends zi{constructor(e,n,r,l){var u;super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new lu(e,n,r,l)}}function D0(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lu._fromErrorAndOperation(i,u,e,r):u})}async function l1(i,e,n=!1){const r=await $a(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ys._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(i,e,n=!1){const{auth:r}=i;if(Xt(r.app))return Promise.reject(Yn(r));const l="reauthenticate";try{const u=await $a(i,D0(r,l,e,i),n);ee(u.idToken,r,"internal-error");const f=bd(u.idToken);ee(f,r,"internal-error");const{sub:d}=f;return ee(i.uid===d,r,"user-mismatch"),ys._forOperation(i,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I0(i,e,n=!1){if(Xt(i.app))return Promise.reject(Yn(i));const r="signIn",l=await D0(i,r,e),u=await ys._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(u.user),u}async function u1(i,e){return I0(Bi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(i){const e=Bi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c1(i,e,n){const r=Bi(i);await au(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",e1)}async function f1(i,e,n){if(Xt(i.app))return Promise.reject(Yn(i));const r=Bi(i),f=await au(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&M0(i),p}),d=await ys._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(d.user),d}function h1(i,e,n){return Xt(i.app)?Promise.reject(Yn(i)):u1(Ot(i),Nr.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M0(i),r})}function d1(i,e,n,r){return Ot(i).onIdTokenChanged(e,n,r)}function p1(i,e,n){return Ot(i).beforeAuthStateChanged(e,n)}function m1(i,e,n,r){return Ot(i).onAuthStateChanged(e,n,r)}function g1(i){return Ot(i).signOut()}const ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=1e3,y1=10;class L0 extends k0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);IA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,y1):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const v1=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends k0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U0.type="SESSION";const P0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Du(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const d=Array.from(f).map(async m=>m(n.origin,u)),p=await E1(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Du.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const m=Cd("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(E.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function S1(i){vn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function T1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function C1(){return z0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="firebaseLocalStorageDb",R1=1,uu="firebaseLocalStorage",H0="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iu(i,e){return i.transaction([uu],e?"readwrite":"readonly").objectStore(uu)}function A1(){const i=indexedDB.deleteDatabase(B0);return new pl(i).toPromise()}function zh(){const i=indexedDB.open(B0,R1);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(uu,{keyPath:H0})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(uu)?e(r):(r.close(),await A1(),e(await zh()))})})}async function Ny(i,e,n){const r=Iu(i,!0).put({[H0]:e,value:n});return new pl(r).toPromise()}async function N1(i,e){const n=Iu(i,!1).get(e),r=await new pl(n).toPromise();return r===void 0?null:r.value}function Oy(i,e){const n=Iu(i,!0).delete(e);return new pl(n).toPromise()}const O1=800,x1=3;class j0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Du._getInstance(C1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T1(),!this.activeServiceWorker)return;this.sender=new b1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zh();return await Ny(e,ou,"1"),await Oy(e,ou),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ny(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Oy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Iu(l,!1).getAll();return new pl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j0.type="LOCAL";const D1=j0;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(i,e){return e?Fn(e):(ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Td{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M1(i){return I0(i.auth,new Rd(i),i.bypassAuthState)}function k1(i){const{auth:e,user:n}=i;return ee(n,e,"internal-error"),o1(n,new Rd(i),i.bypassAuthState)}async function L1(i){const{auth:e,user:n}=i;return ee(n,e,"internal-error"),l1(n,new Rd(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M1;case"linkViaPopup":case"linkViaRedirect":return L1;case"reauthViaPopup":case"reauthViaRedirect":return k1;default:ln(this.auth,"internal-error")}}resolve(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new fl(2e3,1e4);class ur extends q0{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Xn(this.filter.length===1,"Popup operations only handle one event");const e=Cd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U1.get())};e()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="pendingRedirect",Ko=new Map;class z1 extends q0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ko.get(this.auth._key());if(!e){try{const r=await B1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ko.set(this.auth._key(),e)}return this.bypassAuthState||Ko.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B1(i,e){const n=q1(e),r=j1(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function H1(i,e){Ko.set(i._key(),e)}function j1(i){return Fn(i._redirectPersistence)}function q1(i){return Yo(P1,i.config.apiKey,i.name)}async function F1(i,e,n=!1){if(Xt(i.app))return Promise.reject(Yn(i));const r=Bi(i),l=I1(r,e),f=await new z1(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=10*60*1e3;class G1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F0(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V1&&this.cachedEventUids.clear(),this.cachedEventUids.has(xy(e))}saveEventToCache(e){this.cachedEventUids.add(xy(e)),this.lastProcessedEventTime=Date.now()}}function xy(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function F0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y1(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(i,e={}){return ni(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q1=/^https?/;async function X1(i){if(i.config.emulator)return;const{authorizedDomains:e}=await K1(i);for(const n of e)try{if($1(n))return}catch{}ln(i,"unauthorized-domain")}function $1(i){const e=Uh(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!Q1.test(n))return!1;if(W1.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new fl(3e4,6e4);function Dy(){const i=vn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function J1(i){return new Promise((e,n)=>{var r,l,u;function f(){Dy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dy(),n(yn(i,"network-request-failed"))},timeout:Z1.get()})}if(!((l=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=vn().gapi)===null||u===void 0)&&u.load)f();else{const d=jA("iframefcb");return vn()[d]=()=>{gapi.load?f():n(yn(i,"network-request-failed"))},A0(`${HA()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Wo=null,e})}let Wo=null;function eN(i){return Wo=Wo||J1(i),Wo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new fl(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(i){const e=i.config;ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ed(e,iN):`https://${i.config.authDomain}/${nN}`,r={apiKey:e.apiKey,appName:i.name,v:Ar},l=rN.get(i.config.apiHost);l&&(r.eid=l);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Rr(r).slice(1)}`}async function lN(i){const e=await eN(i),n=vn().gapi;return ee(n,i,"internal-error"),e.open({where:document.body,url:aN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=yn(i,"network-request-failed"),d=vn().setTimeout(()=>{u(f)},tN.get());function p(){vn().clearTimeout(d),l(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,fN="_blank",hN="http://localhost";class Iy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(i,e,n,r=uN,l=cN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},oN),{width:r.toString(),height:l.toString(),top:u,left:f}),m=vt().toLowerCase();n&&(d=E0(m)?fN:n),y0(m)&&(e=e||hN,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[R,S])=>`${E}${R}=${S},`,"");if(DA(m)&&d!=="_self")return pN(e||"",d),new Iy(null);const v=window.open(e||"",d,_);ee(v,i,"popup-blocked");try{v.focus()}catch{}return new Iy(v)}function pN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="__/auth/handler",gN="emulator/auth/handler",_N=encodeURIComponent("fac");async function My(i,e,n,r,l,u){ee(i.config.authDomain,i,"auth-domain-config-required"),ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Ar,eventId:l};if(e instanceof x0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",xh(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))f[_]=v}if(e instanceof dl){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const d=f;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),m=p?`#${_N}=${encodeURIComponent(p)}`:"";return`${yN(i)}?${Rr(d).slice(1)}${m}`}function yN({config:i}){return i.emulator?Ed(i,gN):`https://${i.authDomain}/${mN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="webStorageSupport";class vN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=F1,this._overrideRedirectResult=H1}async _openPopup(e,n,r,l){var u;Xn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await My(e,n,r,Uh(),l);return dN(e,f,Cd())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await My(e,n,r,Uh(),l);return S1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Xn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lN(e),r=new G1(e);return n.register("authEvent",l=>(ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_h,{type:_h},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[_h];f!==void 0&&n(!!f),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C0()||v0()||Sd()}}const EN=vN;var ky="@firebase/auth",Ly="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TN(i){Er(new gs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=r.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R0(i)},m=new PA(r,l,u,p);return KA(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Er(new gs("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new bN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(ky,Ly,SN(i)),ki(ky,Ly,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=5*60,CN=e0("authIdTokenMaxAge")||wN;let Uy=null;const RN=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CN)return;const l=n==null?void 0:n.token;Uy!==l&&(Uy=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ja(i=a0()){const e=_d(i,"auth");if(e.isInitialized())return e.getImmediate();const n=YA(i,{popupRedirectResolver:EN,persistence:[D1,v1,P0]}),r=e0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=RN(u.toString());p1(n,f,()=>f(n.currentUser)),d1(n,d=>f(d))}}const l=Zv("auth");return l&&WA(n,`http://${l}`),n}function AN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}zA({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const u=yn("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",AN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TN("Browser");function NN(i){const e=M.useContext(Sl),{setUser:n}={...i},r=Ru(),[l,u]=M.useState(!0),[f,d]=M.useState(!1),p=M.useRef(null);M.useEffect(()=>{const S=Ja();m1(S,D=>{D!=null&&n(D),u(!1)})},[]);function m(){r("/")}function _(){document.getElementById("loginDialog").showModal()}function v(){document.getElementById("signupDialog").showModal()}async function E(){document.getElementById("settingPasswordDialog").showModal()}async function R(S){S.preventDefault();const D=Ja();await g1(D),n(null),d(!0),p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(!1)},5e3)}return O.jsxs(O.Fragment,{children:[O.jsx("header",{className:"fixed z-[99] top-0 left-0 right-0 h-12 bg-slate-200/80 backdrop-blur-lg",children:O.jsxs("div",{className:"sectionWrapper flex justify-between py-2",children:[O.jsx("h1",{className:"md:text-base font-bold text-slate-800",children:O.jsx("button",{onClick:m,children:"Summarized Wiki"})}),O.jsx("div",{className:"group relative flex justify-end grow "+(l&&"hidden"),children:e?O.jsxs(O.Fragment,{children:[O.jsx("button",{id:"userIcon",className:"block w-8 h-8 p-1 ml-auto mr-0 bg-slate-500 rounded-full overflow-hidden focus:ring-1 ring-cyan-600",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"8.75",viewBox:"0 0 448 512",className:"w-full h-full fill-slate-50",children:O.jsx("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"})})}),O.jsxs("div",{className:"absolute top-full right-0 bg-white px-4 py-4 border border-slate-300 rounded transition pointer-events-none group-focus-within:pointer-events-auto group-focus:translate-y-2 group-focus-within:opacity-100 translate-y-0 opacity-0",children:[O.jsx("p",{className:"mb-4",children:e.email}),O.jsx("button",{onClick:E,className:"block py-0.5 ml-auto mr-0 rounded font-bold text-sm md:text-base text-slate-800 mb-4 ",children:""}),O.jsx("button",{onClick:R,className:"block w-20 py-0.5 ml-auto mr-0 rounded font-bold text-sm md:text-base bg-slate-600 text-slate-50 ",children:""})]})]}):O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:_,className:"w-20 py-0.5 rounded font-bold text-sm md:text-base bg-slate-600 text-slate-50 mr-2 md:mr-4",children:""}),O.jsx("button",{onClick:v,className:"w-20 py-0.5 rounded font-bold text-sm md:text-base text-slate-800",children:""})]})})]})}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:O.jsx("p",{children:""})})]})}var ON="firebase",xN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(ON,xN,"app");var Py={};const zy="@firebase/database",By="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0="";function DN(i){V0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ei(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new IN(e)}}catch{}return new MN},fs=G0("localStorage"),kN=G0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new md("@firebase/database"),LN=function(){let i=1;return function(){return i++}}(),Y0=function(i){const e=iR(i),n=new JC;n.update(e);const r=n.digest();return fd.encodeByteArray(r)},ml=function(...i){let e="";for(let n=0;n<i.length;n++){const r=i[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ml.apply(null,r):typeof r=="object"?e+=rt(r):e+=r,e+=" "}return e};let Fa=null,Hy=!0;const UN=function(i,e){F(!0,"Can't turn on custom loggers persistently."),pr.logLevel=Ae.VERBOSE,Fa=pr.log.bind(pr)},dt=function(...i){if(Hy===!0&&(Hy=!1,Fa===null&&kN.get("logging_enabled")===!0&&UN()),Fa){const e=ml.apply(null,i);Fa(e)}},gl=function(i){return function(...e){dt(i,...e)}},Bh=function(...i){const e="FIREBASE INTERNAL ERROR: "+ml(...i);pr.error(e)},$n=function(...i){const e=`FIREBASE FATAL ERROR: ${ml(...i)}`;throw pr.error(e),new Error(e)},Rt=function(...i){const e="FIREBASE WARNING: "+ml(...i);pr.warn(e)},PN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},K0=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},zN=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},br="[MIN_NAME]",vs="[MAX_NAME]",Or=function(i,e){if(i===e)return 0;if(i===br||e===vs)return-1;if(e===br||i===vs)return 1;{const n=jy(i),r=jy(e);return n!==null?r!==null?n-r===0?i.length-e.length:n-r:-1:r!==null?1:i<e?-1:1}},BN=function(i,e){return i===e?0:i<e?-1:1},La=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+rt(e))},Ad=function(i){if(typeof i!="object"||i===null)return rt(i);const e=[];for(const r in i)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=rt(e[r]),n+=":",n+=Ad(i[e[r]]);return n+="}",n},W0=function(i,e){const n=i.length;if(n<=e)return[i];const r=[];for(let l=0;l<n;l+=e)l+e>n?r.push(i.substring(l,n)):r.push(i.substring(l,l+e));return r};function Nt(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const Q0=function(i){F(!K0(i),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let l,u,f,d,p;i===0?(u=0,f=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(d=Math.min(Math.floor(Math.log(i)/Math.LN2),r),u=d+r,f=Math.round(i*Math.pow(2,n-d)-Math.pow(2,n))):(u=0,f=Math.round(i/Math.pow(2,1-r-n))));const m=[];for(p=n;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let v="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),v=v+E}return v.toLowerCase()},HN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function qN(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const r=new Error(i+" at "+e._path.toString()+": "+n);return r.code=i.toUpperCase(),r}const FN=new RegExp("^-?(0*)\\d{1,10}$"),VN=-2147483648,GN=2147483647,jy=function(i){if(FN.test(i)){const e=Number(i);if(e>=VN&&e<=GN)return e}return null},xr=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},YN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Va=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}}class Qo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Qo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="5",X0="v",$0="s",Z0="r",J0="f",eE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tE="ls",nE="p",Hh="ac",iE="websocket",sE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,l,u=!1,f="",d=!1,p=!1,m=null){this.secure=n,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function QN(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function aE(i,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let r;if(e===iE)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===sE)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);QN(i)&&(n.ns=i.namespace);const l=[];return Nt(n,(u,f)=>{l.push(u+"="+f)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.counters_={}}incrementCounter(e,n=1){ei(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return kC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh={},vh={};function Od(i){const e=i.toString();return yh[e]||(yh[e]=new XN),yh[e]}function $N(i,e){const n=i.toString();return vh[n]||(vh[n]=e()),vh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&xr(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="start",JN="close",eO="pLPCommand",tO="pRTLPCB",lE="id",oE="pw",uE="ser",nO="cb",iO="seg",sO="ts",rO="d",aO="dframe",cE=1870,fE=30,lO=cE-fE,oO=25e3,uO=3e4;class cr{constructor(e,n,r,l,u,f,d){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Od(n),this.urlFn=p=>(this.appCheckToken&&(p[Hh]=this.appCheckToken),aE(n,sE,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ZN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uO)),zN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xd((...u)=>{const[f,d,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===qy)this.id=d,this.password=p;else if(f===JN)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const r={};r[qy]="t",r[uE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[X0]=Nd,this.transportSessionId&&(r[$0]=this.transportSessionId),this.lastSessionId&&(r[tE]=this.lastSessionId),this.applicationId&&(r[nE]=this.applicationId),this.appCheckToken&&(r[Hh]=this.appCheckToken),typeof location<"u"&&location.hostname&&eE.test(location.hostname)&&(r[Z0]=J0);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cr.forceAllow_=!0}static forceDisallow(){cr.forceDisallow_=!0}static isAvailable(){return cr.forceAllow_?!0:!cr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HN()&&!jN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Xv(n),l=W0(r,lO);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[aO]="t",r[lE]=e,r[oE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class xd{constructor(e,n,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LN(),window[eO+this.uniqueCallbackIdentifier]=e,window[tO+this.uniqueCallbackIdentifier]=n,this.myIFrame=xd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){dt("frame writing exception"),d.stack&&dt(d.stack),dt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lE]=this.myID,e[oE]=this.myPW,e[uE]=this.currentSerial;let n=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fE+r.length<=cE;){const f=this.pendingSegs.shift();r=r+"&"+iO+l+"="+f.seg+"&"+sO+l+"="+f.ts+"&"+rO+l+"="+f.d,l++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(r,Math.floor(oO)),u=()=>{clearTimeout(l),r()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=16384,fO=45e3;let cu=null;typeof MozWebSocket<"u"?cu=MozWebSocket:typeof WebSocket<"u"&&(cu=WebSocket);class tn{constructor(e,n,r,l,u,f,d){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Od(n),this.connURL=tn.connectionURL_(n,f,d,l,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,l,u){const f={};return f[X0]=Nd,typeof location<"u"&&location.hostname&&eE.test(location.hostname)&&(f[Z0]=J0),n&&(f[$0]=n),r&&(f[tE]=r),l&&(f[Hh]=l),u&&(f[nE]=u),aE(e,iE,f)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let r;GC(),this.mySock=new cu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&cu!==null&&!tn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qa(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=W0(n,cO);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static get ALL_TRANSPORTS(){return[cr,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=tn&&tn.isAvailable();let r=n&&!tn.previouslyFailed();if(e.webSocketOnly&&(n||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const l=this.transports_=[];for(const u of el.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);el.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}el.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=6e4,dO=5e3,pO=10*1024,mO=100*1024,Eh="t",Fy="d",gO="s",Vy="r",_O="e",Gy="o",Yy="a",Ky="n",Wy="p",yO="h";class vO{constructor(e,n,r,l,u,f,d,p,m,_){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new el(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Eh in e){const n=e[Eh];n===Yy?this.upgradeIfSecondaryHealthy_():n===Vy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Gy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=La("t",e),r=La("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ky,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=La("t",e),r=La("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=La(Eh,e);if(Fy in e){const r=e[Fy];if(n===yO){const l=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===Ky){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gO?this.onConnectionShutdown_(r):n===Vy?this.onReset_(r):n===_O?Bh("Server Error: "+r):n===Gy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Nd!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(dO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{put(e,n,r,l){}merge(e,n,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const l=this.getInitialEvent(e);l&&n.apply(r,l)}off(e,n,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends dE{static getInstance(){return new fu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=32,Xy=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Se(){return new Oe("")}function he(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Ui(i){return i.pieces_.length-i.pieceNum_}function Me(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Oe(i.pieces_,e)}function pE(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function EO(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function mE(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function gE(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new Oe(e,0)}function Ze(i,e){const n=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)n.push(i.pieces_[r]);if(e instanceof Oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&n.push(r[l])}return new Oe(n,0)}function me(i){return i.pieceNum_>=i.pieces_.length}function wt(i,e){const n=he(i),r=he(e);if(n===null)return e;if(n===r)return wt(Me(i),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function Dd(i,e){if(Ui(i)!==Ui(e))return!1;for(let n=i.pieceNum_,r=e.pieceNum_;n<=i.pieces_.length;n++,r++)if(i.pieces_[n]!==e.pieces_[r])return!1;return!0}function nn(i,e){let n=i.pieceNum_,r=e.pieceNum_;if(Ui(i)>Ui(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class bO{constructor(e,n){this.errorPrefix_=n,this.parts_=mE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ou(this.parts_[r]);_E(this)}}function SO(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Ou(e),_E(i)}function TO(i){const e=i.parts_.pop();i.byteLength_-=Ou(e),i.parts_.length>0&&(i.byteLength_-=1)}function _E(i){if(i.byteLength_>Xy)throw new Error(i.errorPrefix_+"has a key path longer than "+Xy+" bytes ("+i.byteLength_+").");if(i.parts_.length>Qy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qy+") or object contains a cycle "+cs(i))}function cs(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends dE{static getInstance(){return new Id}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=1e3,wO=60*5*1e3,$y=30*1e3,CO=1.3,RO=3e4,AO="server_kill",Zy=3;class Kn extends hE{constructor(e,n,r,l,u,f,d,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Kn.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=wO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Id.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(rt(u)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const n=new Nu,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,r,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:n,query:e,tag:r};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},f="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,m=d.s;Kn.warnOnListenWarnings_(p,n),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ei(e,"w")){const r=vr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||ZC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$y)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=$C(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,n)}sendUnlisten_(e,n,r,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},f="n";l&&(u.q=r,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,l){const u={p:n,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,n,r,l){this.putInternal("p",e,n,r,l)}merge(e,n,r,l){this.putInternal("m",e,n,r,l)}putInternal(e,n,r,l,u){this.initConnection_();const f={p:n,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Bh("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RO&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CO)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Kn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,r())},m=function(v){F(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=E&&E.token,d=new vO(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,R=>{Rt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(AO)},u))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&Rt(v),p())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],xh(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(u=>Ad(u)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const r=new Oe(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,n){dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zy&&(this.reconnectDelay_=$y,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+V0.replace(/\./g,"-")]=1,dd()?e["framework.cordova"]=1:t0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fu.getInstance().currentlyOnline();return xh(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new de(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new de(br,e),l=new de(br,n);return this.compare(r,l)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class yE extends Mu{static get __EMPTY_NODE(){return Ho}static set __EMPTY_NODE(e){Ho=e}compare(e,n){return Or(e.name,n.name)}isDefinedOn(e){throw Cr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return de.MIN}maxPost(){return new de(vs,Ho)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,Ho)}toString(){return".key"}}const mr=new yE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=n?r(e.key,n):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??st.RED,this.left=l??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,n,r,l,u){return new st(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,l;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class NO{copy(e,n,r,l,u){return this}insert(e,n,r){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,n=Ct.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ct(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,l=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new jo(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new NO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(i,e){return Or(i.name,e.name)}function Md(i,e){return Or(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh;function xO(i){jh=i}const vE=function(i){return typeof i=="number"?"number:"+Q0(i):"string:"+i},EE=function(i){if(i.isLeafNode()){const e=i.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ei(e,".sv"),"Priority must be a string or number.")}else F(i===jh||i.isEmpty(),"priority of unexpected type.");F(i===jh||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy;class it{static set __childrenNodeConstructor(e){Jy=e}static get __childrenNodeConstructor(){return Jy}constructor(e,n=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),EE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:he(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=he(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Q0(this.value_):e+=this.value_,this.lazyHash_=Y0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,l=it.VALUE_TYPE_ORDER.indexOf(n),u=it.VALUE_TYPE_ORDER.indexOf(r);return F(l>=0,"Unknown leaf type: "+n),F(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bE,SE;function DO(i){bE=i}function IO(i){SE=i}class MO extends Mu{compare(e,n){const r=e.node.getPriority(),l=n.node.getPriority(),u=r.compareTo(l);return u===0?Or(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return de.MIN}maxPost(){return new de(vs,new it("[PRIORITY-POST]",SE))}makePost(e,n){const r=bE(e);return new de(n,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ve=new MO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=Math.log(2);class LO{constructor(e){const n=u=>parseInt(Math.log(u)/kO,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hu=function(i,e,n,r){i.sort(e);const l=function(p,m){const _=m-p;let v,E;if(_===0)return null;if(_===1)return v=i[p],E=n?n(v):v,new st(E,v.node,st.BLACK,null,null);{const R=parseInt(_/2,10)+p,S=l(p,R),D=l(R+1,m);return v=i[R],E=n?n(v):v,new st(E,v.node,st.BLACK,S,D)}},u=function(p){let m=null,_=null,v=i.length;const E=function(S,D){const I=v-S,P=v;v-=S;const q=l(I+1,P),j=i[I],ie=n?n(j):j;R(new st(ie,j.node,D,null,q))},R=function(S){m?(m.left=S,m=S):(_=S,m=S)};for(let S=0;S<p.count;++S){const D=p.nextBitIsOne(),I=Math.pow(2,p.count-(S+1));D?E(I,st.BLACK):(E(I,st.BLACK),E(I,st.RED))}return _},f=new LO(i.length),d=u(f);return new Ct(r||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh;const or={};class Vn{static get Default(){return F(or&&Ve,"ChildrenNode.ts has not been loaded"),bh=bh||new Vn({".priority":or},{".priority":Ve}),bh}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=vr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ct?n:null}hasIndex(e){return ei(this.indexSet_,e.toString())}addIndex(e,n){F(e!==mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=n.getIterator(de.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let d;l?d=hu(r,e.getCompare()):d=or;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=d,new Vn(_,m)}addToIndexes(e,n){const r=nu(this.indexes_,(l,u)=>{const f=vr(this.indexSet_,u);if(F(f,"Missing index implementation for "+u),l===or)if(f.isDefinedOn(e.node)){const d=[],p=n.getIterator(de.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),hu(d,f.getCompare())}else return or;else{const d=n.get(e.name);let p=l;return d&&(p=p.remove(new de(e.name,d))),p.insert(e,e.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(e,n){const r=nu(this.indexes_,l=>{if(l===or)return l;{const u=n.get(e.name);return u?l.remove(new de(e.name,u)):l}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class ne{static get EMPTY_NODE(){return Pa||(Pa=new ne(new Ct(Md),null,Vn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&EE(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pa}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pa:n}}getChild(e){const n=he(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new de(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(r,this.children_));const f=l.isEmpty()?Pa:this.priorityNode_;return new ne(l,f,u)}}updateChild(e,n){const r=he(e);if(r===null)return n;{F(he(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Me(e),n);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,l=0,u=!0;if(this.forEachChild(Ve,(f,d)=>{n[f]=d.val(e),r++,u&&ne.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*r){const f=[];for(const d in n)f[d]=n[d];return f}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vE(this.getPriority().val())+":"),this.forEachChild(Ve,(n,r)=>{const l=r.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":Y0(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new de(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new de(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new de(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===mr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===mr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ve),l=n.getIterator(Ve);let u=r.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===mr?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class UO extends ne{constructor(){super(new Ct(Md),ne.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const _l=new UO;Object.defineProperties(de,{MIN:{value:new de(br,ne.EMPTY_NODE)},MAX:{value:new de(vs,_l)}});yE.__EMPTY_NODE=ne.EMPTY_NODE;it.__childrenNodeConstructor=ne;xO(_l);IO(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=!0;function ut(i,e=null){if(i===null)return ne.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new it(n,ut(e))}if(!(i instanceof Array)&&PO){const n=[];let r=!1;if(Nt(i,(f,d)=>{if(f.substring(0,1)!=="."){const p=ut(d);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),n.push(new de(f,p)))}}),n.length===0)return ne.EMPTY_NODE;const u=hu(n,OO,f=>f.name,Md);if(r){const f=hu(n,Ve.getCompare());return new ne(u,ut(e),new Vn({".priority":f},{".priority":Ve}))}else return new ne(u,ut(e),Vn.Default)}else{let n=ne.EMPTY_NODE;return Nt(i,(r,l)=>{if(ei(i,r)&&r.substring(0,1)!=="."){const u=ut(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(r,u))}}),n.updatePriority(ut(e))}}DO(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO extends Mu{constructor(e){super(),this.indexPath_=e,F(!me(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),l=this.extractChild(n.node),u=r.compareTo(l);return u===0?Or(e.name,n.name):u}makePost(e,n){const r=ut(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new de(n,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,_l);return new de(vs,e)}toString(){return mE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO extends Mu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Or(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,n){const r=ut(e);return new de(n,r)}toString(){return".value"}}const HO=new BO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(i){return{type:"value",snapshotNode:i}}function Sr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function tl(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function nl(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function jO(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.index_=e}updateChild(e,n,r,l,u,f){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(l).equals(r.getChild(l))&&d.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(n)?f.trackChildChange(tl(n,d)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(Sr(n,r)):f.trackChildChange(nl(n,r,d))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{n.hasChild(l)||r.trackChildChange(tl(l,u))}),n.isLeafNode()||n.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||r.trackChildChange(nl(l,u,f))}else r.trackChildChange(Sr(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.indexedFilter_=new kd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=il.getStartPost_(e),this.endPost_=il.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,l,u,f){return this.matches(new de(n,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,l,u,f)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ne.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return n.forEachChild(Ve,(f,d)=>{u.matches(new de(f,d))||(l=l.updateImmediateChild(f,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new il(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,l,u,f){return this.rangedFilter_.matches(new de(n,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,l,u,f):this.fullLimitUpdateChild_(e,n,r,u,f)}updateFullNode(e,n,r){let l;if(n.isLeafNode()||n.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:l=l.updateImmediateChild(d.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,l,u){let f;if(this.reverse_){const v=this.index_.getCompare();f=(E,R)=>v(R,E)}else f=this.index_.getCompare();const d=e;F(d.numChildren()===this.limit_,"");const p=new de(n,r),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(d.hasChild(n)){const v=d.getImmediateChild(n);let E=l.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===n||d.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const R=E==null?1:f(E,p);if(_&&!r.isEmpty()&&R>=0)return u!=null&&u.trackChildChange(nl(n,r,v)),d.updateImmediateChild(n,r);{u!=null&&u.trackChildChange(tl(n,v));const D=d.updateImmediateChild(n,ne.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Sr(E.name,E.node)),D.updateImmediateChild(E.name,E.node)):D}}else return r.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(tl(m.name,m.node)),u.trackChildChange(Sr(n,r))),d.updateImmediateChild(n,r).updateImmediateChild(m.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:br}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Ld;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function FO(i){return i.loadsAllData()?new kd(i.getIndex()):i.hasLimit()?new qO(i):new il(i)}function ev(i){const e={};if(i.isDefault())return e;let n;if(i.index_===Ve?n="$priority":i.index_===HO?n="$value":i.index_===mr?n="$key":(F(i.index_ instanceof zO,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=rt(n),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";e[r]=rt(i.indexStartValue_),i.startNameSet_&&(e[r]+=","+rt(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";e[r]=rt(i.indexEndValue_),i.endNameSet_&&(e[r]+=","+rt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function tv(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==Ve&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends hE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=gl("p:rest:"),this.listens_={}}listen(e,n,r,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=du.getListenId_(e,r),d={};this.listens_[f]=d;const p=ev(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let v=_;if(m===404&&(v=null,m=null),m===null&&this.onDataUpdate_(u,v,!1,r),vr(this.listens_,f)===d){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",l(E,null)}})}unlisten(e,n){const r=du.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ev(e._queryParams),r=e._path.toString(),l=new Nu;return this.restRequest_(r+".json",n,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(r,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rr(n);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(r&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=Qa(d.responseText)}catch{Rt("Failed to parse JSON response for "+f+": "+d.responseText)}r(null,p)}else d.status!==401&&d.status!==404&&Rt("Got unsuccessful REST response for "+f+" Status: "+d.status),r(d.status);r=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(){return{value:null,children:new Map}}function wE(i,e,n){if(me(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const r=he(e);i.children.has(r)||i.children.set(r,pu());const l=i.children.get(r);e=Me(e),wE(l,e,n)}}function qh(i,e,n){i.value!==null?n(e,i.value):GO(i,(r,l)=>{const u=new Oe(e.toString()+"/"+r);qh(l,u,n)})}function GO(i,e){i.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Nt(this.last_,(r,l)=>{n[r]=n[r]-l}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=10*1e3,KO=30*1e3,WO=5*60*1e3;class QO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YO(e);const r=nv+(KO-nv)*Math.random();Va(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Nt(e,(l,u)=>{u>0&&ei(this.statsToReport_,l)&&(n[l]=u,r=!0)}),r&&this.server_.reportStats(n),Va(this.reportStats_.bind(this),Math.floor(Math.random()*2*WO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function CE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ud(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pd(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=CE()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new mu(Se(),n,this.revert)}}else return F(he(this.path)===e,"operationForChild called for unrelated child."),new mu(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.source=e,this.path=n,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new sl(this.source,Se()):new sl(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=sn.OVERWRITE}operationForChild(e){return me(this.path)?new Es(this.source,Se(),this.snap.getImmediateChild(e)):new Es(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=sn.MERGE}operationForChild(e){if(me(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new Es(this.source,Se(),n.value):new rl(this.source,Se(),n)}else return F(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rl(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const n=he(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $O(i,e,n,r){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(jO(f.childName,f.snapshotNode))}),za(i,l,"child_removed",e,r,n),za(i,l,"child_added",e,r,n),za(i,l,"child_moved",u,r,n),za(i,l,"child_changed",e,r,n),za(i,l,"value",e,r,n),l}function za(i,e,n,r,l,u){const f=r.filter(d=>d.type===n);f.sort((d,p)=>JO(i,d,p)),f.forEach(d=>{const p=ZO(i,d,u);l.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,i.query_))})})}function ZO(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function JO(i,e,n){if(e.childName==null||n.childName==null)throw Cr("Should only compare child_ events.");const r=new de(e.childName,e.snapshotNode),l=new de(n.childName,n.snapshotNode);return i.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(i,e){return{eventCache:i,serverCache:e}}function Ga(i,e,n,r){return ku(new bs(e,n,r),i.serverCache)}function RE(i,e,n,r){return ku(i.eventCache,new bs(e,n,r))}function Fh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Ss(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh;const ex=()=>(Sh||(Sh=new Ct(BN)),Sh);class Le{static fromObject(e){let n=new Le(null);return Nt(e,(r,l)=>{n=n.set(new Oe(r),l)}),n}constructor(e,n=ex()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(me(e))return null;{const r=he(e),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Me(e),n);return u!=null?{path:Ze(new Oe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const n=he(e),r=this.children.get(n);return r!==null?r.subtree(Me(e)):new Le(null)}}set(e,n){if(me(e))return new Le(n,this.children);{const r=he(e),u=(this.children.get(r)||new Le(null)).set(Me(e),n),f=this.children.insert(r,u);return new Le(this.value,f)}}remove(e){if(me(e))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const n=he(e),r=this.children.get(n);if(r){const l=r.remove(Me(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new Le(null):new Le(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const n=he(e),r=this.children.get(n);return r?r.get(Me(e)):null}}setTree(e,n){if(me(e))return n;{const r=he(e),u=(this.children.get(r)||new Le(null)).setTree(Me(e),n);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Le(this.value,f)}}fold(e){return this.fold_(Se(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(Ze(e,l),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Se(),n)}findOnPath_(e,n,r){const l=this.value?r(n,this.value):!1;if(l)return l;if(me(e))return null;{const u=he(e),f=this.children.get(u);return f?f.findOnPath_(Me(e),Ze(n,u),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Se(),n)}foreachOnPath_(e,n,r){if(me(e))return this;{this.value&&r(n,this.value);const l=he(e),u=this.children.get(l);return u?u.foreachOnPath_(Me(e),Ze(n,l),r):new Le(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,n){this.children.inorderTraversal((r,l)=>{l.foreach_(Ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new Le(null))}}function Ya(i,e,n){if(me(e))return new rn(new Le(n));{const r=i.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let u=r.value;const f=wt(l,e);return u=u.updateChild(f,n),new rn(i.writeTree_.set(l,u))}else{const l=new Le(n),u=i.writeTree_.setTree(e,l);return new rn(u)}}}function iv(i,e,n){let r=i;return Nt(n,(l,u)=>{r=Ya(r,Ze(e,l),u)}),r}function sv(i,e){if(me(e))return rn.empty();{const n=i.writeTree_.setTree(e,new Le(null));return new rn(n)}}function Vh(i,e){return Cs(i,e)!=null}function Cs(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function rv(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(r,l)=>{e.push(new de(r,l))}):i.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new de(r,l.value))}),e}function Li(i,e){if(me(e))return i;{const n=Cs(i,e);return n!=null?new rn(new Le(n)):new rn(i.writeTree_.subtree(e))}}function Gh(i){return i.writeTree_.isEmpty()}function Tr(i,e){return AE(Se(),i.writeTree_,e)}function AE(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let r=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(F(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):n=AE(Ze(i,l),u,n)}),!n.getChild(i).isEmpty()&&r!==null&&(n=n.updateChild(Ze(i,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(i,e){return DE(e,i)}function tx(i,e,n,r,l){F(r>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:n,writeId:r,visible:l}),l&&(i.visibleWrites=Ya(i.visibleWrites,e,n)),i.lastWriteId=r}function nx(i,e){for(let n=0;n<i.allWrites.length;n++){const r=i.allWrites[n];if(r.writeId===e)return r}return null}function ix(i,e){const n=i.allWrites.findIndex(d=>d.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[n];i.allWrites.splice(n,1);let l=r.visible,u=!1,f=i.allWrites.length-1;for(;l&&f>=0;){const d=i.allWrites[f];d.visible&&(f>=n&&sx(d,r.path)?l=!1:nn(r.path,d.path)&&(u=!0)),f--}if(l){if(u)return rx(i),!0;if(r.snap)i.visibleWrites=sv(i.visibleWrites,r.path);else{const d=r.children;Nt(d,p=>{i.visibleWrites=sv(i.visibleWrites,Ze(r.path,p))})}return!0}else return!1}function sx(i,e){if(i.snap)return nn(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&nn(Ze(i.path,n),e))return!0;return!1}function rx(i){i.visibleWrites=NE(i.allWrites,ax,Se()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function ax(i){return i.visible}function NE(i,e,n){let r=rn.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const f=u.path;let d;if(u.snap)nn(n,f)?(d=wt(n,f),r=Ya(r,d,u.snap)):nn(f,n)&&(d=wt(f,n),r=Ya(r,Se(),u.snap.getChild(d)));else if(u.children){if(nn(n,f))d=wt(n,f),r=iv(r,d,u.children);else if(nn(f,n))if(d=wt(f,n),me(d))r=iv(r,Se(),u.children);else{const p=vr(u.children,he(d));if(p){const m=p.getChild(Me(d));r=Ya(r,Se(),m)}}}else throw Cr("WriteRecord should have .snap or .children")}}return r}function OE(i,e,n,r,l){if(!r&&!l){const u=Cs(i.visibleWrites,e);if(u!=null)return u;{const f=Li(i.visibleWrites,e);if(Gh(f))return n;if(n==null&&!Vh(f,Se()))return null;{const d=n||ne.EMPTY_NODE;return Tr(f,d)}}}else{const u=Li(i.visibleWrites,e);if(!l&&Gh(u))return n;if(!l&&n==null&&!Vh(u,Se()))return null;{const f=function(m){return(m.visible||l)&&(!r||!~r.indexOf(m.writeId))&&(nn(m.path,e)||nn(e,m.path))},d=NE(i.allWrites,f,e),p=n||ne.EMPTY_NODE;return Tr(d,p)}}}function lx(i,e,n){let r=ne.EMPTY_NODE;const l=Cs(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(n){const u=Li(i.visibleWrites,e);return n.forEachChild(Ve,(f,d)=>{const p=Tr(Li(u,new Oe(f)),d);r=r.updateImmediateChild(f,p)}),rv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Li(i.visibleWrites,e);return rv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function ox(i,e,n,r,l){F(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=Ze(e,n);if(Vh(i.visibleWrites,u))return null;{const f=Li(i.visibleWrites,u);return Gh(f)?l.getChild(n):Tr(f,l.getChild(n))}}function ux(i,e,n,r){const l=Ze(e,n),u=Cs(i.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(n)){const f=Li(i.visibleWrites,l);return Tr(f,r.getNode().getImmediateChild(n))}else return null}function cx(i,e){return Cs(i.visibleWrites,e)}function fx(i,e,n,r,l,u,f){let d;const p=Li(i.visibleWrites,e),m=Cs(p,Se());if(m!=null)d=m;else if(n!=null)d=Tr(p,n);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const _=[],v=f.getCompare(),E=u?d.getReverseIteratorFrom(r,f):d.getIteratorFrom(r,f);let R=E.getNext();for(;R&&_.length<l;)v(R,r)!==0&&_.push(R),R=E.getNext();return _}else return[]}function hx(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function gu(i,e,n,r){return OE(i.writeTree,i.treePath,e,n,r)}function Bd(i,e){return lx(i.writeTree,i.treePath,e)}function av(i,e,n,r){return ox(i.writeTree,i.treePath,e,n,r)}function _u(i,e){return cx(i.writeTree,Ze(i.treePath,e))}function dx(i,e,n,r,l,u){return fx(i.writeTree,i.treePath,e,n,r,l,u)}function Hd(i,e,n){return ux(i.writeTree,i.treePath,e,n)}function xE(i,e){return DE(Ze(i.treePath,e),i.writeTree)}function DE(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(r,nl(r,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(r,tl(r,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(r,Sr(r,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(r,nl(r,e.snapshotNode,l.oldSnap));else throw Cr("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const IE=new mx;class jd{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ss(this.viewCache_),u=dx(this.writes_,l,n,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(i){return{filter:i}}function _x(i,e){F(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function yx(i,e,n,r,l){const u=new px;let f,d;if(n.type===sn.OVERWRITE){const m=n;m.source.fromUser?f=Yh(i,e,m.path,m.snap,r,l,u):(F(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!me(m.path),f=yu(i,e,m.path,m.snap,r,l,d,u))}else if(n.type===sn.MERGE){const m=n;m.source.fromUser?f=Ex(i,e,m.path,m.children,r,l,u):(F(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),f=Kh(i,e,m.path,m.children,r,l,d,u))}else if(n.type===sn.ACK_USER_WRITE){const m=n;m.revert?f=Tx(i,e,m.path,r,l,u):f=bx(i,e,m.path,m.affectedTree,r,l,u)}else if(n.type===sn.LISTEN_COMPLETE)f=Sx(i,e,n.path,r,u);else throw Cr("Unknown operation type: "+n.type);const p=u.getChanges();return vx(e,f,p),{viewCache:f,changes:p}}function vx(i,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Fh(i);(n.length>0||!i.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&n.push(TE(Fh(e)))}}function ME(i,e,n,r,l,u){const f=e.eventCache;if(_u(r,n)!=null)return e;{let d,p;if(me(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ss(e),_=m instanceof ne?m:ne.EMPTY_NODE,v=Bd(r,_);d=i.filter.updateFullNode(e.eventCache.getNode(),v,u)}else{const m=gu(r,Ss(e));d=i.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=he(n);if(m===".priority"){F(Ui(n)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const v=av(r,n,_,p);v!=null?d=i.filter.updatePriority(_,v):d=f.getNode()}else{const _=Me(n);let v;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=av(r,n,f.getNode(),p);E!=null?v=f.getNode().getImmediateChild(m).updateChild(_,E):v=f.getNode().getImmediateChild(m)}else v=Hd(r,m,e.serverCache);v!=null?d=i.filter.updateChild(f.getNode(),m,v,_,l,u):d=f.getNode()}}return Ga(e,d,f.isFullyInitialized()||me(n),i.filter.filtersNodes())}}function yu(i,e,n,r,l,u,f,d){const p=e.serverCache;let m;const _=f?i.filter:i.filter.getIndexedFilter();if(me(n))m=_.updateFullNode(p.getNode(),r,null);else if(_.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(n,r);m=_.updateFullNode(p.getNode(),R,null)}else{const R=he(n);if(!p.isCompleteForPath(n)&&Ui(n)>1)return e;const S=Me(n),I=p.getNode().getImmediateChild(R).updateChild(S,r);R===".priority"?m=_.updatePriority(p.getNode(),I):m=_.updateChild(p.getNode(),R,I,S,IE,null)}const v=RE(e,m,p.isFullyInitialized()||me(n),_.filtersNodes()),E=new jd(l,v,u);return ME(i,v,n,l,E,d)}function Yh(i,e,n,r,l,u,f){const d=e.eventCache;let p,m;const _=new jd(l,e,u);if(me(n))m=i.filter.updateFullNode(e.eventCache.getNode(),r,f),p=Ga(e,m,!0,i.filter.filtersNodes());else{const v=he(n);if(v===".priority")m=i.filter.updatePriority(e.eventCache.getNode(),r),p=Ga(e,m,d.isFullyInitialized(),d.isFiltered());else{const E=Me(n),R=d.getNode().getImmediateChild(v);let S;if(me(E))S=r;else{const D=_.getCompleteChild(v);D!=null?pE(E)===".priority"&&D.getChild(gE(E)).isEmpty()?S=D:S=D.updateChild(E,r):S=ne.EMPTY_NODE}if(R.equals(S))p=e;else{const D=i.filter.updateChild(d.getNode(),v,S,E,_,f);p=Ga(e,D,d.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function lv(i,e){return i.eventCache.isCompleteForChild(e)}function Ex(i,e,n,r,l,u,f){let d=e;return r.foreach((p,m)=>{const _=Ze(n,p);lv(e,he(_))&&(d=Yh(i,d,_,m,l,u,f))}),r.foreach((p,m)=>{const _=Ze(n,p);lv(e,he(_))||(d=Yh(i,d,_,m,l,u,f))}),d}function ov(i,e,n){return n.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function Kh(i,e,n,r,l,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;me(n)?m=r:m=new Le(null).setTree(n,r);const _=e.serverCache.getNode();return m.children.inorderTraversal((v,E)=>{if(_.hasChild(v)){const R=e.serverCache.getNode().getImmediateChild(v),S=ov(i,R,E);p=yu(i,p,new Oe(v),S,l,u,f,d)}}),m.children.inorderTraversal((v,E)=>{const R=!e.serverCache.isCompleteForChild(v)&&E.value===null;if(!_.hasChild(v)&&!R){const S=e.serverCache.getNode().getImmediateChild(v),D=ov(i,S,E);p=yu(i,p,new Oe(v),D,l,u,f,d)}}),p}function bx(i,e,n,r,l,u,f){if(_u(l,n)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(me(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return yu(i,e,n,p.getNode().getChild(n),l,u,d,f);if(me(n)){let m=new Le(null);return p.getNode().forEachChild(mr,(_,v)=>{m=m.set(new Oe(_),v)}),Kh(i,e,n,m,l,u,d,f)}else return e}else{let m=new Le(null);return r.foreach((_,v)=>{const E=Ze(n,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),Kh(i,e,n,m,l,u,d,f)}}function Sx(i,e,n,r,l){const u=e.serverCache,f=RE(e,u.getNode(),u.isFullyInitialized()||me(n),u.isFiltered());return ME(i,f,n,r,IE,l)}function Tx(i,e,n,r,l,u){let f;if(_u(r,n)!=null)return e;{const d=new jd(r,e,l),p=e.eventCache.getNode();let m;if(me(n)||he(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=gu(r,Ss(e));else{const v=e.serverCache.getNode();F(v instanceof ne,"serverChildren would be complete if leaf node"),_=Bd(r,v)}_=_,m=i.filter.updateFullNode(p,_,u)}else{const _=he(n);let v=Hd(r,_,e.serverCache);v==null&&e.serverCache.isCompleteForChild(_)&&(v=p.getImmediateChild(_)),v!=null?m=i.filter.updateChild(p,_,v,Me(n),d,u):e.eventCache.getNode().hasChild(_)?m=i.filter.updateChild(p,_,ne.EMPTY_NODE,Me(n),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=gu(r,Ss(e)),f.isLeafNode()&&(m=i.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||_u(r,Se())!=null,Ga(e,m,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new kd(r.getIndex()),u=FO(r);this.processor_=gx(u);const f=n.serverCache,d=n.eventCache,p=l.updateFullNode(ne.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(ne.EMPTY_NODE,d.getNode(),null),_=new bs(p,f.isFullyInitialized(),l.filtersNodes()),v=new bs(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=ku(v,_),this.eventGenerator_=new XO(this.query_)}get query(){return this.query_}}function Cx(i){return i.viewCache_.serverCache.getNode()}function Rx(i,e){const n=Ss(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!me(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function uv(i){return i.eventRegistrations_.length===0}function Ax(i,e){i.eventRegistrations_.push(e)}function cv(i,e,n){const r=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(n,l);f&&r.push(f)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return r}function fv(i,e,n,r){e.type===sn.MERGE&&e.source.queryId!==null&&(F(Ss(i.viewCache_),"We should always have a full cache before handling merges"),F(Fh(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=yx(i.processor_,l,e,n,r);return _x(i.processor_,u.viewCache),F(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,kE(i,u.changes,u.viewCache.eventCache.getNode(),null)}function Nx(i,e){const n=i.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(u,f)=>{r.push(Sr(u,f))}),n.isFullyInitialized()&&r.push(TE(n.getNode())),kE(i,r,n.getNode(),e)}function kE(i,e,n,r){const l=r?[r]:i.eventRegistrations_;return $O(i.eventGenerator_,e,n,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu;class Ox{constructor(){this.views=new Map}}function xx(i){F(!vu,"__referenceConstructor has already been defined"),vu=i}function Dx(){return F(vu,"Reference.ts has not been loaded"),vu}function Ix(i){return i.views.size===0}function qd(i,e,n,r){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return F(u!=null,"SyncTree gave us an op for an invalid query."),fv(u,e,n,r)}else{let u=[];for(const f of i.views.values())u=u.concat(fv(f,e,n,r));return u}}function Mx(i,e,n,r,l){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let d=gu(n,l?r:null),p=!1;d?p=!0:r instanceof ne?(d=Bd(n,r),p=!1):(d=ne.EMPTY_NODE,p=!1);const m=ku(new bs(d,p,!1),new bs(r,l,!1));return new wx(e,m)}return f}function kx(i,e,n,r,l,u){const f=Mx(i,e,r,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),Ax(f,n),Nx(f,n)}function Lx(i,e,n,r){const l=e._queryIdentifier,u=[];let f=[];const d=Pi(i);if(l==="default")for(const[p,m]of i.views.entries())f=f.concat(cv(m,n,r)),uv(m)&&(i.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=i.views.get(l);p&&(f=f.concat(cv(p,n,r)),uv(p)&&(i.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!Pi(i)&&u.push(new(Dx())(e._repo,e._path)),{removed:u,events:f}}function LE(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gr(i,e){let n=null;for(const r of i.views.values())n=n||Rx(r,e);return n}function UE(i,e){if(e._queryParams.loadsAllData())return Lu(i);{const r=e._queryIdentifier;return i.views.get(r)}}function PE(i,e){return UE(i,e)!=null}function Pi(i){return Lu(i)!=null}function Lu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu;function Ux(i){F(!Eu,"__referenceConstructor has already been defined"),Eu=i}function Px(){return F(Eu,"Reference.ts has not been loaded"),Eu}let zx=1;class hv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=hx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zE(i,e,n,r,l){return tx(i.pendingWriteTree_,e,n,r,l),l?yl(i,new Es(CE(),e,n)):[]}function hs(i,e,n=!1){const r=nx(i.pendingWriteTree_,e);if(ix(i.pendingWriteTree_,e)){let u=new Le(null);return r.snap!=null?u=u.set(Se(),!0):Nt(r.children,f=>{u=u.set(new Oe(f),!0)}),yl(i,new mu(r.path,u,n))}else return[]}function Uu(i,e,n){return yl(i,new Es(Ud(),e,n))}function Bx(i,e,n){const r=Le.fromObject(n);return yl(i,new rl(Ud(),e,r))}function Hx(i,e){return yl(i,new sl(Ud(),e))}function jx(i,e,n){const r=Vd(i,n);if(r){const l=Gd(r),u=l.path,f=l.queryId,d=wt(u,e),p=new sl(Pd(f),d);return Yd(i,u,p)}else return[]}function Wh(i,e,n,r,l=!1){const u=e._path,f=i.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||PE(f,e))){const p=Lx(f,e,n,r);Ix(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!l){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(u,(E,R)=>Pi(R));if(_&&!v){const E=i.syncPointTree_.subtree(u);if(!E.isEmpty()){const R=Vx(E);for(let S=0;S<R.length;++S){const D=R[S],I=D.query,P=jE(i,D);i.listenProvider_.startListening(Ka(I),bu(i,I),P.hashFn,P.onComplete)}}}!v&&m.length>0&&!r&&(_?i.listenProvider_.stopListening(Ka(e),null):m.forEach(E=>{const R=i.queryToTagMap.get(Pu(E));i.listenProvider_.stopListening(Ka(E),R)}))}Gx(i,m)}return d}function qx(i,e,n,r){const l=Vd(i,r);if(l!=null){const u=Gd(l),f=u.path,d=u.queryId,p=wt(f,e),m=new Es(Pd(d),p,n);return Yd(i,f,m)}else return[]}function Fx(i,e,n,r){const l=Vd(i,r);if(l){const u=Gd(l),f=u.path,d=u.queryId,p=wt(f,e),m=Le.fromObject(n),_=new rl(Pd(d),p,m);return Yd(i,f,_)}else return[]}function dv(i,e,n,r=!1){const l=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(l,(E,R)=>{const S=wt(E,l);u=u||gr(R,S),f=f||Pi(R)});let d=i.syncPointTree_.get(l);d?(f=f||Pi(d),u=u||gr(d,Se())):(d=new Ox,i.syncPointTree_=i.syncPointTree_.set(l,d));let p;u!=null?p=!0:(p=!1,u=ne.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((R,S)=>{const D=gr(S,Se());D&&(u=u.updateImmediateChild(R,D))}));const m=PE(d,e);if(!m&&!e._queryParams.loadsAllData()){const E=Pu(e);F(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=Yx();i.queryToTagMap.set(E,R),i.tagToQueryMap.set(R,E)}const _=zd(i.pendingWriteTree_,l);let v=kx(d,e,n,_,u,p);if(!m&&!f&&!r){const E=UE(d,e);v=v.concat(Kx(i,e,E))}return v}function Fd(i,e,n){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,d)=>{const p=wt(f,e),m=gr(d,p);if(m)return m});return OE(l,e,u,n,!0)}function yl(i,e){return BE(e,i.syncPointTree_,null,zd(i.pendingWriteTree_,Se()))}function BE(i,e,n,r){if(me(i.path))return HE(i,e,n,r);{const l=e.get(Se());n==null&&l!=null&&(n=gr(l,Se()));let u=[];const f=he(i.path),d=i.operationForChild(f),p=e.children.get(f);if(p&&d){const m=n?n.getImmediateChild(f):null,_=xE(r,f);u=u.concat(BE(d,p,m,_))}return l&&(u=u.concat(qd(l,i,r,n))),u}}function HE(i,e,n,r){const l=e.get(Se());n==null&&l!=null&&(n=gr(l,Se()));let u=[];return e.children.inorderTraversal((f,d)=>{const p=n?n.getImmediateChild(f):null,m=xE(r,f),_=i.operationForChild(f);_&&(u=u.concat(HE(_,d,p,m)))}),l&&(u=u.concat(qd(l,i,r,n))),u}function jE(i,e){const n=e.query,r=bu(i,n);return{hashFn:()=>(Cx(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?jx(i,n._path,r):Hx(i,n._path);{const u=qN(l,n);return Wh(i,n,null,u)}}}}function bu(i,e){const n=Pu(e);return i.queryToTagMap.get(n)}function Pu(i){return i._path.toString()+"$"+i._queryIdentifier}function Vd(i,e){return i.tagToQueryMap.get(e)}function Gd(i){const e=i.indexOf("$");return F(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Oe(i.substr(0,e))}}function Yd(i,e,n){const r=i.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const l=zd(i.pendingWriteTree_,e);return qd(r,n,l,null)}function Vx(i){return i.fold((e,n,r)=>{if(n&&Pi(n))return[Lu(n)];{let l=[];return n&&(l=LE(n)),Nt(r,(u,f)=>{l=l.concat(f)}),l}})}function Ka(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(Px())(i._repo,i._path):i}function Gx(i,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const l=Pu(r),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function Yx(){return zx++}function Kx(i,e,n){const r=e._path,l=bu(i,e),u=jE(i,n),f=i.listenProvider_.startListening(Ka(e),l,u.hashFn,u.onComplete),d=i.syncPointTree_.subtree(r);if(l)F(!Pi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,_,v)=>{if(!me(m)&&_&&Pi(_))return[Lu(_).query];{let E=[];return _&&(E=E.concat(LE(_).map(R=>R.query))),Nt(v,(R,S)=>{E=E.concat(S)}),E}});for(let m=0;m<p.length;++m){const _=p[m];i.listenProvider_.stopListening(Ka(_),bu(i,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Kd(n)}node(){return this.node_}}class Wd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ze(this.path_,e);return new Wd(this.syncTree_,n)}node(){return Fd(this.syncTree_,this.path_)}}const Wx=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},pv=function(i,e,n){if(!i||typeof i!="object")return i;if(F(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return Qx(i[".sv"],e,n);if(typeof i[".sv"]=="object")return Xx(i[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},Qx=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+i)}},Xx=function(i,e,n){i.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const l=e.node();if(F(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const f=l.getValue();return typeof f!="number"?r:f+r},$x=function(i,e,n,r){return Qd(e,new Wd(n,i),r)},qE=function(i,e,n){return Qd(i,new Kd(e),n)};function Qd(i,e,n){const r=i.getPriority().val(),l=pv(r,e.getImmediateChild(".priority"),n);let u;if(i.isLeafNode()){const f=i,d=pv(f.getValue(),e,n);return d!==f.getValue()||l!==f.getPriority().val()?new it(d,ut(l)):i}else{const f=i;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new it(l))),f.forEachChild(Ve,(d,p)=>{const m=Qd(p,e.getImmediateChild(d),n);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function $d(i,e){let n=e instanceof Oe?e:new Oe(e),r=i,l=he(n);for(;l!==null;){const u=vr(r.node.children,l)||{children:{},childCount:0};r=new Xd(l,r,u),n=Me(n),l=he(n)}return r}function Dr(i){return i.node.value}function FE(i,e){i.node.value=e,Qh(i)}function VE(i){return i.node.childCount>0}function Zx(i){return Dr(i)===void 0&&!VE(i)}function zu(i,e){Nt(i.node.children,(n,r)=>{e(new Xd(n,i,r))})}function GE(i,e,n,r){n&&e(i),zu(i,l=>{GE(l,e,!0)})}function Jx(i,e,n){let r=i.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vl(i){return new Oe(i.parent===null?i.name:vl(i.parent)+"/"+i.name)}function Qh(i){i.parent!==null&&eD(i.parent,i.name,i)}function eD(i,e,n){const r=Zx(n),l=ei(i.node.children,e);r&&l?(delete i.node.children[e],i.node.childCount--,Qh(i)):!r&&!l&&(i.node.children[e]=n.node,i.node.childCount++,Qh(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=/[\[\].#$\/\u0000-\u001F\u007F]/,nD=/[\[\].#$\u0000-\u001F\u007F]/,Th=10*1024*1024,YE=function(i){return typeof i=="string"&&i.length!==0&&!tD.test(i)},KE=function(i){return typeof i=="string"&&i.length!==0&&!nD.test(i)},iD=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),KE(i)},sD=function(i,e,n,r){Zd(pd(i,"value"),e,n)},Zd=function(i,e,n){const r=n instanceof Oe?new bO(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+cs(r));if(typeof e=="function")throw new Error(i+"contains a function "+cs(r)+" with contents = "+e.toString());if(K0(e))throw new Error(i+"contains "+e.toString()+" "+cs(r));if(typeof e=="string"&&e.length>Th/3&&Ou(e)>Th)throw new Error(i+"contains a string greater than "+Th+" utf8 bytes "+cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Nt(e,(f,d)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!YE(f)))throw new Error(i+" contains an invalid key ("+f+") "+cs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SO(r,f),Zd(i,d,r),TO(r)}),l&&u)throw new Error(i+' contains ".value" child '+cs(r)+" in addition to actual children.")}},WE=function(i,e,n,r){if(!KE(n))throw new Error(pd(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rD=function(i,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WE(i,e,n)},QE=function(i,e){if(he(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},aD=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!YE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iD(n))throw new Error(pd(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jd(i,e){let n=null;for(let r=0;r<e.length;r++){const l=e[r],u=l.getPath();n!==null&&!Dd(u,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&i.eventLists_.push(n)}function XE(i,e,n){Jd(i,n),$E(i,r=>Dd(r,e))}function Zn(i,e,n){Jd(i,n),$E(i,r=>nn(r,e)||nn(e,r))}function $E(i,e){i.recursionDepth_++;let n=!0;for(let r=0;r<i.eventLists_.length;r++){const l=i.eventLists_[r];if(l){const u=l.path;e(u)?(oD(i.eventLists_[r]),i.eventLists_[r]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function oD(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const r=n.getEventRunner();Fa&&dt("event: "+n.toString()),xr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="repo_interrupt",cD=25;class fD{constructor(e,n,r,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pu(),this.transactionQueueTree_=new Xd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hD(i,e,n){if(i.stats_=Od(i.repoInfo_),i.forceRestClient_||YN())i.server_=new du(i.repoInfo_,(r,l,u,f)=>{mv(i,r,l,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>gv(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new Kn(i.repoInfo_,e,(r,l,u,f)=>{mv(i,r,l,u,f)},r=>{gv(i,r)},r=>{pD(i,r)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=$N(i.repoInfo_,()=>new QO(i.stats_,i.server_)),i.infoData_=new VO,i.infoSyncTree_=new hv({startListening:(r,l,u,f)=>{let d=[];const p=i.infoData_.getNode(r._path);return p.isEmpty()||(d=Uu(i.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),tp(i,"connected",!1),i.serverSyncTree_=new hv({startListening:(r,l,u,f)=>(i.server_.listen(r,u,l,(d,p)=>{const m=f(d,p);Zn(i.eventQueue_,r._path,m)}),[]),stopListening:(r,l)=>{i.server_.unlisten(r,l)}})}function dD(i){const n=i.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ep(i){return Wx({timestamp:dD(i)})}function mv(i,e,n,r,l){i.dataUpdateCount++;const u=new Oe(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let f=[];if(l)if(r){const p=nu(n,m=>ut(m));f=Fx(i.serverSyncTree_,u,p,l)}else{const p=ut(n);f=qx(i.serverSyncTree_,u,p,l)}else if(r){const p=nu(n,m=>ut(m));f=Bx(i.serverSyncTree_,u,p)}else{const p=ut(n);f=Uu(i.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=Bu(i,u)),Zn(i.eventQueue_,d,f)}function gv(i,e){tp(i,"connected",e),e===!1&&gD(i)}function pD(i,e){Nt(e,(n,r)=>{tp(i,n,r)})}function tp(i,e,n){const r=new Oe("/.info/"+e),l=ut(n);i.infoData_.updateSnapshot(r,l);const u=Uu(i.infoSyncTree_,r,l);Zn(i.eventQueue_,r,u)}function ZE(i){return i.nextWriteId_++}function mD(i,e,n,r,l){np(i,"set",{path:e.toString(),value:n,priority:r});const u=ep(i),f=ut(n,r),d=Fd(i.serverSyncTree_,e),p=qE(f,d,u),m=ZE(i),_=zE(i.serverSyncTree_,e,p,m,!0);Jd(i.eventQueue_,_),i.server_.put(e.toString(),f.val(!0),(E,R)=>{const S=E==="ok";S||Rt("set at "+e+" failed: "+E);const D=hs(i.serverSyncTree_,m,!S);Zn(i.eventQueue_,e,D),ED(i,l,E,R)});const v=ib(i,e);Bu(i,v),Zn(i.eventQueue_,v,[])}function gD(i){np(i,"onDisconnectEvents");const e=ep(i),n=pu();qh(i.onDisconnect_,Se(),(l,u)=>{const f=$x(l,u,i.serverSyncTree_,e);wE(n,l,f)});let r=[];qh(n,Se(),(l,u)=>{r=r.concat(Uu(i.serverSyncTree_,l,u));const f=ib(i,l);Bu(i,f)}),i.onDisconnect_=pu(),Zn(i.eventQueue_,Se(),r)}function _D(i,e,n){let r;he(e._path)===".info"?r=dv(i.infoSyncTree_,e,n):r=dv(i.serverSyncTree_,e,n),XE(i.eventQueue_,e._path,r)}function yD(i,e,n){let r;he(e._path)===".info"?r=Wh(i.infoSyncTree_,e,n):r=Wh(i.serverSyncTree_,e,n),XE(i.eventQueue_,e._path,r)}function vD(i){i.persistentConnection_&&i.persistentConnection_.interrupt(uD)}function np(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),dt(n,...e)}function ED(i,e,n,r){e&&xr(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;r&&(u+=": "+r);const f=new Error(u);f.code=l,e(f)}})}function JE(i,e,n){return Fd(i.serverSyncTree_,e,n)||ne.EMPTY_NODE}function ip(i,e=i.transactionQueueTree_){if(e||Hu(i,e),Dr(e)){const n=tb(i,e);F(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&bD(i,vl(e),n)}else VE(e)&&zu(e,n=>{ip(i,n)})}function bD(i,e,n){const r=n.map(m=>m.currentWriteId),l=JE(i,e,r);let u=l;const f=l.hash();for(let m=0;m<n.length;m++){const _=n[m];F(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const v=wt(e,_.path);u=u.updateChild(v,_.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;i.server_.put(p.toString(),d,m=>{np(i,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const v=[];for(let E=0;E<n.length;E++)n[E].status=2,_=_.concat(hs(i.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&v.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();Hu(i,$d(i.transactionQueueTree_,e)),ip(i,i.transactionQueueTree_),Zn(i.eventQueue_,e,_);for(let E=0;E<v.length;E++)xr(v[E])}else{if(m==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{Rt("transaction at "+p.toString()+" failed: "+m);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=m}Bu(i,e)}},f)}function Bu(i,e){const n=eb(i,e),r=vl(n),l=tb(i,n);return SD(i,l,r),r}function SD(i,e,n){if(e.length===0)return;const r=[];let l=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=wt(n,p.path);let _=!1,v;if(F(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,v=p.abortReason,l=l.concat(hs(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=cD)_=!0,v="maxretry",l=l.concat(hs(i.serverSyncTree_,p.currentWriteId,!0));else{const E=JE(i,p.path,f);p.currentInputSnapshot=E;const R=e[d].update(E.val());if(R!==void 0){Zd("transaction failed: Data returned ",R,p.path);let S=ut(R);typeof R=="object"&&R!=null&&ei(R,".priority")||(S=S.updatePriority(E.getPriority()));const I=p.currentWriteId,P=ep(i),q=qE(S,E,P);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=q,p.currentWriteId=ZE(i),f.splice(f.indexOf(I),1),l=l.concat(zE(i.serverSyncTree_,p.path,q,p.currentWriteId,p.applyLocally)),l=l.concat(hs(i.serverSyncTree_,I,!0))}else _=!0,v="nodata",l=l.concat(hs(i.serverSyncTree_,p.currentWriteId,!0))}Zn(i.eventQueue_,n,l),l=[],_&&(e[d].status=2,function(E){setTimeout(E,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(v==="nodata"?r.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):r.push(()=>e[d].onComplete(new Error(v),!1,null))))}Hu(i,i.transactionQueueTree_);for(let d=0;d<r.length;d++)xr(r[d]);ip(i,i.transactionQueueTree_)}function eb(i,e){let n,r=i.transactionQueueTree_;for(n=he(e);n!==null&&Dr(r)===void 0;)r=$d(r,n),e=Me(e),n=he(e);return r}function tb(i,e){const n=[];return nb(i,e,n),n.sort((r,l)=>r.order-l.order),n}function nb(i,e,n){const r=Dr(e);if(r)for(let l=0;l<r.length;l++)n.push(r[l]);zu(e,l=>{nb(i,l,n)})}function Hu(i,e){const n=Dr(e);if(n){let r=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[r]=n[l],r++);n.length=r,FE(e,n.length>0?n:void 0)}zu(e,r=>{Hu(i,r)})}function ib(i,e){const n=vl(eb(i,e)),r=$d(i.transactionQueueTree_,e);return Jx(r,l=>{wh(i,l)}),wh(i,r),GE(r,l=>{wh(i,l)}),n}function wh(i,e){const n=Dr(e);if(n){const r=[];let l=[],u=-1;for(let f=0;f<n.length;f++)n[f].status===3||(n[f].status===1?(F(u===f-1,"All SENT items should be at beginning of queue."),u=f,n[f].status=3,n[f].abortReason="set"):(F(n[f].status===0,"Unexpected transaction status in abort"),n[f].unwatcher(),l=l.concat(hs(i.serverSyncTree_,n[f].currentWriteId,!0)),n[f].onComplete&&r.push(n[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?FE(e,void 0):n.length=u+1,Zn(i.eventQueue_,vl(e),l);for(let f=0;f<r.length;f++)xr(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(i){let e="";const n=i.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let l=n[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function wD(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${n}' in query '${i}'`)}return e}const _v=function(i,e){const n=CD(i),r=n.namespace;n.domain==="firebase.com"&&$n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&$n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||PN();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rE(n.host,n.secure,r,l,e,"",r!==n.subdomain),path:new Oe(n.pathString)}},CD=function(i){let e="",n="",r="",l="",u="",f=!0,d="https",p=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(d=i.substring(0,m-1),i=i.substring(m+2));let _=i.indexOf("/");_===-1&&(_=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),e=i.substring(0,Math.min(_,v)),_<v&&(l=TD(i.substring(_,v)));const E=wD(i.substring(Math.min(i.length,v)));m=e.indexOf(":"),m>=0?(f=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")n="localhost";else if(R.split(".").length<=2)n=R;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),u=r}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:n,subdomain:r,secure:f,scheme:d,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,l){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class AD{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,l){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=l}get key(){return me(this._path)?null:pE(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){const e=tv(this._queryParams),n=Ad(e);return n==="{}"?"default":n}get _queryObject(){return tv(this._queryParams)}isEqual(e){if(e=Ot(e),!(e instanceof sp))return!1;const n=this._repo===e._repo,r=Dd(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+EO(this._path)}}class Hi extends sp{constructor(e,n){super(e,n,new Ld,!1)}get parent(){const e=gE(this._path);return e===null?null:new Hi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Su{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),r=Xh(this.ref,e);return new Su(this._node.getChild(n),r,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new Su(l,Xh(this.ref,r),Ve)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _r(i,e){return i=Ot(i),i._checkNotDeleted("ref"),e!==void 0?Xh(i._root,e):i._root}function Xh(i,e){return i=Ot(i),he(i._path)===null?rD("child","path",e):WE("child","path",e),new Hi(i._repo,Ze(i._path,e))}function sb(i){return QE("remove",i._path),rp(i,null)}function rp(i,e){i=Ot(i),QE("set",i._path),sD("set",e,i._path);const n=new Nu;return mD(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}class ap{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new RD("value",this,new Su(e.snapshotNode,new Hi(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new AD(this,e,n):null}matches(e){return e instanceof ap?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OD(i,e,n,r,l){const u=new ND(n,void 0),f=new ap(u);return _D(i._repo,i,f),()=>yD(i._repo,i,f)}function rb(i,e,n,r){return OD(i,"value",e)}xx(Hi);Ux(Hi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="FIREBASE_DATABASE_EMULATOR_HOST",$h={};let DD=!1;function ID(i,e,n,r){i.repoInfo_=new rE(e,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(i.authTokenProvider_=r)}function MD(i,e,n,r,l){let u=r||i.options.databaseURL;u===void 0&&(i.options.projectId||$n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=_v(u,l),d=f.repoInfo,p;typeof process<"u"&&Py&&(p=Py[xD]),p?(u=`http://${p}?ns=${d.namespace}`,f=_v(u,l),d=f.repoInfo):f.repoInfo.secure;const m=new WN(i.name,i.options,e);aD("Invalid Firebase Database URL",f),me(f.path)||$n("Database URL must point to the root of a Firebase Database (not including a child path).");const _=LD(d,i,m,new KN(i,n));return new UD(_,i)}function kD(i,e){const n=$h[e];(!n||n[i.key]!==i)&&$n(`Database ${e}(${i.repoInfo_}) has already been deleted.`),vD(i),delete n[i.key]}function LD(i,e,n,r){let l=$h[e.name];l||(l={},$h[e.name]=l);let u=l[i.toURLString()];return u&&$n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new fD(i,DD,n,r),l[i.toURLString()]=u,u}class UD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&$n("Cannot call "+e+" on a deleted database.")}}function PD(i=a0(),e){const n=_d(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=HC("database");r&&zD(n,...r)}return n}function zD(i,e,n,r={}){i=Ot(i),i._checkNotDeleted("useEmulator");const l=`${e}:${n}`,u=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&ms(r,u.repoInfo_.emulatorOptions))return;$n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&$n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Qo(Qo.OWNER);else if(r.mockUserToken){const d=typeof r.mockUserToken=="string"?r.mockUserToken:jC(r.mockUserToken,i.app.options.projectId);f=new Qo(d)}ID(u,l,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i){DN(Ar),Er(new gs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return MD(r,l,u,n)},"PUBLIC").setMultipleInstances(!0)),ki(zy,By,i),ki(zy,By,"esm2017")}Kn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Kn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};BD();const HD={apiKey:"AIzaSyBOtSmM02cVwW8BH29UqXeQP-GoFWvmNqo",authDomain:"summarywiki-32605.firebaseapp.com",databaseURL:"https://summarywiki-32605-default-rtdb.firebaseio.com",projectId:"summarywiki-32605",storageBucket:"summarywiki-32605.firebasestorage.app",messagingSenderId:"1009942867972",appId:"1:1009942867972:web:7493cedaef3851c71e0551",measurementId:"G-9SBCNB4RS5"},jD=r0(HD),yr=PD(jD);function qD(i){const{resultAry:e}={...i},[n,r]=M.useState([]),[l,u]=M.useState(""),f=M.useRef(null),d=M.useContext(Sl),p=_r(yr,"user_"+(d==null?void 0:d.uid)+"/bookMark");M.useEffect(()=>{rb(p,_=>{_.exists()&&r(Object.keys(_.val()))})},[d]);async function m(_,v,E){if(d!=null){if(n.includes(v))sb(_r(yr,"user_"+d.uid+"/bookMark/"+v));else{const R=new Date,S={id:_,title:v,year:R.getFullYear(),month:R.getMonth()+1,date:R.getDate(),extract:E};rp(_r(yr,"user_"+d.uid+"/bookMark/"+v),S)}u(v),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u("")},5e3)}}return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"",children:e.map(_=>O.jsxs("div",{className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow",children:[O.jsxs("div",{className:"flex justify-between mb-6",children:[O.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:O.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+_.title,className:"fadeIn",children:_.title})}),O.jsx("button",{onClick:()=>m(_.id,_.title,_.extract),className:d?"w-8 h-8 p-1 rounded-full":"hidden",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full "+(n.includes(_.title)?"fill-cyan-600":"fill-slate-300"),children:O.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),O.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:_.extract}})]},_.id))}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l==""?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:O.jsxs("p",{className:l==""?"opacity-0":"",children:["",O.jsx("span",{children:l}),""]})})]})}function ab(i,e){return function(){return i.apply(e,arguments)}}const{toString:FD}=Object.prototype,{getPrototypeOf:lp}=Object,ju=(i=>e=>{const n=FD.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),on=i=>(i=i.toLowerCase(),e=>ju(e)===i),qu=i=>e=>typeof e===i,{isArray:Ir}=Array,al=qu("undefined");function VD(i){return i!==null&&!al(i)&&i.constructor!==null&&!al(i.constructor)&&Pt(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const lb=on("ArrayBuffer");function GD(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&lb(i.buffer),e}const YD=qu("string"),Pt=qu("function"),ob=qu("number"),Fu=i=>i!==null&&typeof i=="object",KD=i=>i===!0||i===!1,Xo=i=>{if(ju(i)!=="object")return!1;const e=lp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},WD=on("Date"),QD=on("File"),XD=on("Blob"),$D=on("FileList"),ZD=i=>Fu(i)&&Pt(i.pipe),JD=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Pt(i.append)&&((e=ju(i))==="formdata"||e==="object"&&Pt(i.toString)&&i.toString()==="[object FormData]"))},eI=on("URLSearchParams"),[tI,nI,iI,sI]=["ReadableStream","Request","Response","Headers"].map(on),rI=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function El(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let r,l;if(typeof i!="object"&&(i=[i]),Ir(i))for(r=0,l=i.length;r<l;r++)e.call(null,i[r],r,i);else{const u=n?Object.getOwnPropertyNames(i):Object.keys(i),f=u.length;let d;for(r=0;r<f;r++)d=u[r],e.call(null,i[d],d,i)}}function ub(i,e){e=e.toLowerCase();const n=Object.keys(i);let r=n.length,l;for(;r-- >0;)if(l=n[r],e===l.toLowerCase())return l;return null}const ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cb=i=>!al(i)&&i!==ds;function Zh(){const{caseless:i}=cb(this)&&this||{},e={},n=(r,l)=>{const u=i&&ub(e,l)||l;Xo(e[u])&&Xo(r)?e[u]=Zh(e[u],r):Xo(r)?e[u]=Zh({},r):Ir(r)?e[u]=r.slice():e[u]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&El(arguments[r],n);return e}const aI=(i,e,n,{allOwnKeys:r}={})=>(El(e,(l,u)=>{n&&Pt(l)?i[u]=ab(l,n):i[u]=l},{allOwnKeys:r}),i),lI=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),oI=(i,e,n,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},uI=(i,e,n,r)=>{let l,u,f;const d={};if(e=e||{},i==null)return e;do{for(l=Object.getOwnPropertyNames(i),u=l.length;u-- >0;)f=l[u],(!r||r(f,i,e))&&!d[f]&&(e[f]=i[f],d[f]=!0);i=n!==!1&&lp(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},cI=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const r=i.indexOf(e,n);return r!==-1&&r===n},fI=i=>{if(!i)return null;if(Ir(i))return i;let e=i.length;if(!ob(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},hI=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&lp(Uint8Array)),dI=(i,e)=>{const r=(i&&i[Symbol.iterator]).call(i);let l;for(;(l=r.next())&&!l.done;){const u=l.value;e.call(i,u[0],u[1])}},pI=(i,e)=>{let n;const r=[];for(;(n=i.exec(e))!==null;)r.push(n);return r},mI=on("HTMLFormElement"),gI=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),yv=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),_I=on("RegExp"),fb=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),r={};El(n,(l,u)=>{let f;(f=e(l,u,i))!==!1&&(r[u]=f||l)}),Object.defineProperties(i,r)},yI=i=>{fb(i,(e,n)=>{if(Pt(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=i[n];if(Pt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vI=(i,e)=>{const n={},r=l=>{l.forEach(u=>{n[u]=!0})};return Ir(i)?r(i):r(String(i).split(e)),n},EI=()=>{},bI=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function SI(i){return!!(i&&Pt(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const TI=i=>{const e=new Array(10),n=(r,l)=>{if(Fu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[l]=r;const u=Ir(r)?[]:{};return El(r,(f,d)=>{const p=n(f,l+1);!al(p)&&(u[d]=p)}),e[l]=void 0,u}}return r};return n(i,0)},wI=on("AsyncFunction"),CI=i=>i&&(Fu(i)||Pt(i))&&Pt(i.then)&&Pt(i.catch),hb=((i,e)=>i?setImmediate:e?((n,r)=>(ds.addEventListener("message",({source:l,data:u})=>{l===ds&&u===n&&r.length&&r.shift()()},!1),l=>{r.push(l),ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pt(ds.postMessage)),RI=typeof queueMicrotask<"u"?queueMicrotask.bind(ds):typeof process<"u"&&process.nextTick||hb,k={isArray:Ir,isArrayBuffer:lb,isBuffer:VD,isFormData:JD,isArrayBufferView:GD,isString:YD,isNumber:ob,isBoolean:KD,isObject:Fu,isPlainObject:Xo,isReadableStream:tI,isRequest:nI,isResponse:iI,isHeaders:sI,isUndefined:al,isDate:WD,isFile:QD,isBlob:XD,isRegExp:_I,isFunction:Pt,isStream:ZD,isURLSearchParams:eI,isTypedArray:hI,isFileList:$D,forEach:El,merge:Zh,extend:aI,trim:rI,stripBOM:lI,inherits:oI,toFlatObject:uI,kindOf:ju,kindOfTest:on,endsWith:cI,toArray:fI,forEachEntry:dI,matchAll:pI,isHTMLForm:mI,hasOwnProperty:yv,hasOwnProp:yv,reduceDescriptors:fb,freezeMethods:yI,toObjectSet:vI,toCamelCase:gI,noop:EI,toFiniteNumber:bI,findKey:ub,global:ds,isContextDefined:cb,isSpecCompliantForm:SI,toJSONObject:TI,isAsyncFn:wI,isThenable:CI,setImmediate:hb,asap:RI};function le(i,e,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}k.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const db=le.prototype,pb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{pb[i]={value:i}});Object.defineProperties(le,pb);Object.defineProperty(db,"isAxiosError",{value:!0});le.from=(i,e,n,r,l,u)=>{const f=Object.create(db);return k.toFlatObject(i,f,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),le.call(f,i.message,e,n,r,l),f.cause=i,f.name=i.name,u&&Object.assign(f,u),f};const AI=null;function Jh(i){return k.isPlainObject(i)||k.isArray(i)}function mb(i){return k.endsWith(i,"[]")?i.slice(0,-2):i}function vv(i,e,n){return i?i.concat(e).map(function(l,u){return l=mb(l),!n&&u?"["+l+"]":l}).join(n?".":""):e}function NI(i){return k.isArray(i)&&!i.some(Jh)}const OI=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function Vu(i,e,n){if(!k.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=k.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,I){return!k.isUndefined(I[D])});const r=n.metaTokens,l=n.visitor||_,u=n.dots,f=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(l))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(k.isDate(S))return S.toISOString();if(!p&&k.isBlob(S))throw new le("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(S)||k.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function _(S,D,I){let P=S;if(S&&!I&&typeof S=="object"){if(k.endsWith(D,"{}"))D=r?D:D.slice(0,-2),S=JSON.stringify(S);else if(k.isArray(S)&&NI(S)||(k.isFileList(S)||k.endsWith(D,"[]"))&&(P=k.toArray(S)))return D=mb(D),P.forEach(function(j,ie){!(k.isUndefined(j)||j===null)&&e.append(f===!0?vv([D],ie,u):f===null?D:D+"[]",m(j))}),!1}return Jh(S)?!0:(e.append(vv(I,D,u),m(S)),!1)}const v=[],E=Object.assign(OI,{defaultVisitor:_,convertValue:m,isVisitable:Jh});function R(S,D){if(!k.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+D.join("."));v.push(S),k.forEach(S,function(P,q){(!(k.isUndefined(P)||P===null)&&l.call(e,P,k.isString(q)?q.trim():q,D,E))===!0&&R(P,D?D.concat(q):[q])}),v.pop()}}if(!k.isObject(i))throw new TypeError("data must be an object");return R(i),e}function Ev(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function op(i,e){this._pairs=[],i&&Vu(i,this,e)}const gb=op.prototype;gb.append=function(e,n){this._pairs.push([e,n])};gb.toString=function(e){const n=e?function(r){return e.call(this,r,Ev)}:Ev;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function xI(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _b(i,e,n){if(!e)return i;const r=n&&n.encode||xI;k.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let u;if(l?u=l(e,n):u=k.isURLSearchParams(e)?e.toString():new op(e,n).toString(r),u){const f=i.indexOf("#");f!==-1&&(i=i.slice(0,f)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class bv{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(r){r!==null&&e(r)})}}const yb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DI=typeof URLSearchParams<"u"?URLSearchParams:op,II=typeof FormData<"u"?FormData:null,MI=typeof Blob<"u"?Blob:null,kI={isBrowser:!0,classes:{URLSearchParams:DI,FormData:II,Blob:MI},protocols:["http","https","file","blob","url","data"]},up=typeof window<"u"&&typeof document<"u",ed=typeof navigator=="object"&&navigator||void 0,LI=up&&(!ed||["ReactNative","NativeScript","NS"].indexOf(ed.product)<0),UI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PI=up&&window.location.href||"http://localhost",zI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:up,hasStandardBrowserEnv:LI,hasStandardBrowserWebWorkerEnv:UI,navigator:ed,origin:PI},Symbol.toStringTag,{value:"Module"})),pt={...zI,...kI};function BI(i,e){return Vu(i,new pt.classes.URLSearchParams,Object.assign({visitor:function(n,r,l,u){return pt.isNode&&k.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function HI(i){return k.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jI(i){const e={},n=Object.keys(i);let r;const l=n.length;let u;for(r=0;r<l;r++)u=n[r],e[u]=i[u];return e}function vb(i){function e(n,r,l,u){let f=n[u++];if(f==="__proto__")return!0;const d=Number.isFinite(+f),p=u>=n.length;return f=!f&&k.isArray(l)?l.length:f,p?(k.hasOwnProp(l,f)?l[f]=[l[f],r]:l[f]=r,!d):((!l[f]||!k.isObject(l[f]))&&(l[f]=[]),e(n,r,l[f],u)&&k.isArray(l[f])&&(l[f]=jI(l[f])),!d)}if(k.isFormData(i)&&k.isFunction(i.entries)){const n={};return k.forEachEntry(i,(r,l)=>{e(HI(r),l,n,0)}),n}return null}function qI(i,e,n){if(k.isString(i))try{return(e||JSON.parse)(i),k.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(i)}const bl={transitional:yb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,u=k.isObject(e);if(u&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return l?JSON.stringify(vb(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return BI(e,this.formSerializer).toString();if((d=k.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Vu(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||l?(n.setContentType("application/json",!1),qI(e)):e}],transformResponse:[function(e){const n=this.transitional||bl.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(r&&!this.responseType||l)){const f=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(d){if(f)throw d.name==="SyntaxError"?le.from(d,le.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],i=>{bl.headers[i]={}});const FI=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VI=i=>{const e={};let n,r,l;return i&&i.split(`
`).forEach(function(f){l=f.indexOf(":"),n=f.substring(0,l).trim().toLowerCase(),r=f.substring(l+1).trim(),!(!n||e[n]&&FI[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Sv=Symbol("internals");function Ba(i){return i&&String(i).trim().toLowerCase()}function $o(i){return i===!1||i==null?i:k.isArray(i)?i.map($o):String(i)}function GI(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(i);)e[r[1]]=r[2];return e}const YI=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Ch(i,e,n,r,l){if(k.isFunction(r))return r.call(this,e,n);if(l&&(e=n),!!k.isString(e)){if(k.isString(r))return e.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(e)}}function KI(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function WI(i,e){const n=k.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+n,{value:function(l,u,f){return this[r].call(this,e,l,u,f)},configurable:!0})})}let At=class{constructor(e){e&&this.set(e)}set(e,n,r){const l=this;function u(d,p,m){const _=Ba(p);if(!_)throw new Error("header name must be a non-empty string");const v=k.findKey(l,_);(!v||l[v]===void 0||m===!0||m===void 0&&l[v]!==!1)&&(l[v||p]=$o(d))}const f=(d,p)=>k.forEach(d,(m,_)=>u(m,_,p));if(k.isPlainObject(e)||e instanceof this.constructor)f(e,n);else if(k.isString(e)&&(e=e.trim())&&!YI(e))f(VI(e),n);else if(k.isHeaders(e))for(const[d,p]of e.entries())u(p,d,r);else e!=null&&u(n,e,r);return this}get(e,n){if(e=Ba(e),e){const r=k.findKey(this,e);if(r){const l=this[r];if(!n)return l;if(n===!0)return GI(l);if(k.isFunction(n))return n.call(this,l,r);if(k.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ba(e),e){const r=k.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ch(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let l=!1;function u(f){if(f=Ba(f),f){const d=k.findKey(r,f);d&&(!n||Ch(r,r[d],d,n))&&(delete r[d],l=!0)}}return k.isArray(e)?e.forEach(u):u(e),l}clear(e){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const u=n[r];(!e||Ch(this,this[u],u,e,!0))&&(delete this[u],l=!0)}return l}normalize(e){const n=this,r={};return k.forEach(this,(l,u)=>{const f=k.findKey(r,u);if(f){n[f]=$o(l),delete n[u];return}const d=e?KI(u):String(u).trim();d!==u&&delete n[u],n[d]=$o(l),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return k.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=e&&k.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(l=>r.set(l)),r}static accessor(e){const r=(this[Sv]=this[Sv]={accessors:{}}).accessors,l=this.prototype;function u(f){const d=Ba(f);r[d]||(WI(l,f),r[d]=!0)}return k.isArray(e)?e.forEach(u):u(e),this}};At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(At.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[n]=r}}});k.freezeMethods(At);function Rh(i,e){const n=this||bl,r=e||n,l=At.from(r.headers);let u=r.data;return k.forEach(i,function(d){u=d.call(n,u,l.normalize(),e?e.status:void 0)}),l.normalize(),u}function Eb(i){return!!(i&&i.__CANCEL__)}function Mr(i,e,n){le.call(this,i??"canceled",le.ERR_CANCELED,e,n),this.name="CanceledError"}k.inherits(Mr,le,{__CANCEL__:!0});function bb(i,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?i(n):e(new le("Request failed with status code "+n.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QI(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function XI(i,e){i=i||10;const n=new Array(i),r=new Array(i);let l=0,u=0,f;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),_=r[u];f||(f=m),n[l]=p,r[l]=m;let v=u,E=0;for(;v!==l;)E+=n[v++],v=v%i;if(l=(l+1)%i,l===u&&(u=(u+1)%i),m-f<e)return;const R=_&&m-_;return R?Math.round(E*1e3/R):void 0}}function $I(i,e){let n=0,r=1e3/e,l,u;const f=(m,_=Date.now())=>{n=_,l=null,u&&(clearTimeout(u),u=null),i.apply(null,m)};return[(...m)=>{const _=Date.now(),v=_-n;v>=r?f(m,_):(l=m,u||(u=setTimeout(()=>{u=null,f(l)},r-v)))},()=>l&&f(l)]}const Tu=(i,e,n=3)=>{let r=0;const l=XI(50,250);return $I(u=>{const f=u.loaded,d=u.lengthComputable?u.total:void 0,p=f-r,m=l(p),_=f<=d;r=f;const v={loaded:f,total:d,progress:d?f/d:void 0,bytes:p,rate:m||void 0,estimated:m&&d&&_?(d-f)/m:void 0,event:u,lengthComputable:d!=null,[e?"download":"upload"]:!0};i(v)},n)},Tv=(i,e)=>{const n=i!=null;return[r=>e[0]({lengthComputable:n,total:i,loaded:r}),e[1]]},wv=i=>(...e)=>k.asap(()=>i(...e)),ZI=pt.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,pt.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,JI=pt.hasStandardBrowserEnv?{write(i,e,n,r,l,u){const f=[i+"="+encodeURIComponent(e)];k.isNumber(n)&&f.push("expires="+new Date(n).toGMTString()),k.isString(r)&&f.push("path="+r),k.isString(l)&&f.push("domain="+l),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eM(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function tM(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function Sb(i,e,n){let r=!eM(e);return i&&r||n==!1?tM(i,e):e}const Cv=i=>i instanceof At?{...i}:i;function Ts(i,e){e=e||{};const n={};function r(m,_,v,E){return k.isPlainObject(m)&&k.isPlainObject(_)?k.merge.call({caseless:E},m,_):k.isPlainObject(_)?k.merge({},_):k.isArray(_)?_.slice():_}function l(m,_,v,E){if(k.isUndefined(_)){if(!k.isUndefined(m))return r(void 0,m,v,E)}else return r(m,_,v,E)}function u(m,_){if(!k.isUndefined(_))return r(void 0,_)}function f(m,_){if(k.isUndefined(_)){if(!k.isUndefined(m))return r(void 0,m)}else return r(void 0,_)}function d(m,_,v){if(v in e)return r(m,_);if(v in i)return r(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d,headers:(m,_,v)=>l(Cv(m),Cv(_),v,!0)};return k.forEach(Object.keys(Object.assign({},i,e)),function(_){const v=p[_]||l,E=v(i[_],e[_],_);k.isUndefined(E)&&v!==d||(n[_]=E)}),n}const Tb=i=>{const e=Ts({},i);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:u,headers:f,auth:d}=e;e.headers=f=At.from(f),e.url=_b(Sb(e.baseURL,e.url),i.params,i.paramsSerializer),d&&f.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(k.isFormData(n)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((p=f.getContentType())!==!1){const[m,..._]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];f.setContentType([m||"multipart/form-data",..._].join("; "))}}if(pt.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(e)),r||r!==!1&&ZI(e.url))){const m=l&&u&&JI.read(u);m&&f.set(l,m)}return e},nM=typeof XMLHttpRequest<"u",iM=nM&&function(i){return new Promise(function(n,r){const l=Tb(i);let u=l.data;const f=At.from(l.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:m}=l,_,v,E,R,S;function D(){R&&R(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(_),l.signal&&l.signal.removeEventListener("abort",_)}let I=new XMLHttpRequest;I.open(l.method.toUpperCase(),l.url,!0),I.timeout=l.timeout;function P(){if(!I)return;const j=At.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),K={data:!d||d==="text"||d==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:j,config:i,request:I};bb(function(we){n(we),D()},function(we){r(we),D()},K),I=null}"onloadend"in I?I.onloadend=P:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(P)},I.onabort=function(){I&&(r(new le("Request aborted",le.ECONNABORTED,i,I)),I=null)},I.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,i,I)),I=null},I.ontimeout=function(){let ie=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const K=l.transitional||yb;l.timeoutErrorMessage&&(ie=l.timeoutErrorMessage),r(new le(ie,K.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,i,I)),I=null},u===void 0&&f.setContentType(null),"setRequestHeader"in I&&k.forEach(f.toJSON(),function(ie,K){I.setRequestHeader(K,ie)}),k.isUndefined(l.withCredentials)||(I.withCredentials=!!l.withCredentials),d&&d!=="json"&&(I.responseType=l.responseType),m&&([E,S]=Tu(m,!0),I.addEventListener("progress",E)),p&&I.upload&&([v,R]=Tu(p),I.upload.addEventListener("progress",v),I.upload.addEventListener("loadend",R)),(l.cancelToken||l.signal)&&(_=j=>{I&&(r(!j||j.type?new Mr(null,i,I):j),I.abort(),I=null)},l.cancelToken&&l.cancelToken.subscribe(_),l.signal&&(l.signal.aborted?_():l.signal.addEventListener("abort",_)));const q=QI(l.url);if(q&&pt.protocols.indexOf(q)===-1){r(new le("Unsupported protocol "+q+":",le.ERR_BAD_REQUEST,i));return}I.send(u||null)})},sM=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let r=new AbortController,l;const u=function(m){if(!l){l=!0,d();const _=m instanceof Error?m:this.reason;r.abort(_ instanceof le?_:new Mr(_ instanceof Error?_.message:_))}};let f=e&&setTimeout(()=>{f=null,u(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const d=()=>{i&&(f&&clearTimeout(f),f=null,i.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),i=null)};i.forEach(m=>m.addEventListener("abort",u));const{signal:p}=r;return p.unsubscribe=()=>k.asap(d),p}},rM=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let r=0,l;for(;r<n;)l=r+e,yield i.slice(r,l),r=l},aM=async function*(i,e){for await(const n of lM(i))yield*rM(n,e)},lM=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Rv=(i,e,n,r)=>{const l=aM(i,e);let u=0,f,d=p=>{f||(f=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:m,value:_}=await l.next();if(m){d(),p.close();return}let v=_.byteLength;if(n){let E=u+=v;n(E)}p.enqueue(new Uint8Array(_))}catch(m){throw d(m),m}},cancel(p){return d(p),l.return()}},{highWaterMark:2})},Gu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wb=Gu&&typeof ReadableStream=="function",oM=Gu&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Cb=(i,...e)=>{try{return!!i(...e)}catch{return!1}},uM=wb&&Cb(()=>{let i=!1;const e=new Request(pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),Av=64*1024,td=wb&&Cb(()=>k.isReadableStream(new Response("").body)),wu={stream:td&&(i=>i.body)};Gu&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wu[e]&&(wu[e]=k.isFunction(i[e])?n=>n[e]():(n,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const cM=async i=>{if(i==null)return 0;if(k.isBlob(i))return i.size;if(k.isSpecCompliantForm(i))return(await new Request(pt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(k.isArrayBufferView(i)||k.isArrayBuffer(i))return i.byteLength;if(k.isURLSearchParams(i)&&(i=i+""),k.isString(i))return(await oM(i)).byteLength},fM=async(i,e)=>{const n=k.toFiniteNumber(i.getContentLength());return n??cM(e)},hM=Gu&&(async i=>{let{url:e,method:n,data:r,signal:l,cancelToken:u,timeout:f,onDownloadProgress:d,onUploadProgress:p,responseType:m,headers:_,withCredentials:v="same-origin",fetchOptions:E}=Tb(i);m=m?(m+"").toLowerCase():"text";let R=sM([l,u&&u.toAbortSignal()],f),S;const D=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let I;try{if(p&&uM&&n!=="get"&&n!=="head"&&(I=await fM(_,r))!==0){let K=new Request(e,{method:"POST",body:r,duplex:"half"}),_e;if(k.isFormData(r)&&(_e=K.headers.get("content-type"))&&_.setContentType(_e),K.body){const[we,Pe]=Tv(I,Tu(wv(p)));r=Rv(K.body,Av,we,Pe)}}k.isString(v)||(v=v?"include":"omit");const P="credentials"in Request.prototype;S=new Request(e,{...E,signal:R,method:n.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:P?v:void 0});let q=await fetch(S);const j=td&&(m==="stream"||m==="response");if(td&&(d||j&&D)){const K={};["status","statusText","headers"].forEach(G=>{K[G]=q[G]});const _e=k.toFiniteNumber(q.headers.get("content-length")),[we,Pe]=d&&Tv(_e,Tu(wv(d),!0))||[];q=new Response(Rv(q.body,Av,we,()=>{Pe&&Pe(),D&&D()}),K)}m=m||"text";let ie=await wu[k.findKey(wu,m)||"text"](q,i);return!j&&D&&D(),await new Promise((K,_e)=>{bb(K,_e,{data:ie,headers:At.from(q.headers),status:q.status,statusText:q.statusText,config:i,request:S})})}catch(P){throw D&&D(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,i,S),{cause:P.cause||P}):le.from(P,P&&P.code,i,S)}}),nd={http:AI,xhr:iM,fetch:hM};k.forEach(nd,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const Nv=i=>`- ${i}`,dM=i=>k.isFunction(i)||i===null||i===!1,Rb={getAdapter:i=>{i=k.isArray(i)?i:[i];const{length:e}=i;let n,r;const l={};for(let u=0;u<e;u++){n=i[u];let f;if(r=n,!dM(n)&&(r=nd[(f=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${f}'`);if(r)break;l[f||"#"+u]=r}if(!r){const u=Object.entries(l).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=e?u.length>1?`since :
`+u.map(Nv).join(`
`):" "+Nv(u[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return r},adapters:nd};function Ah(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Mr(null,i)}function Ov(i){return Ah(i),i.headers=At.from(i.headers),i.data=Rh.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Rb.getAdapter(i.adapter||bl.adapter)(i).then(function(r){return Ah(i),r.data=Rh.call(i,i.transformResponse,r),r.headers=At.from(r.headers),r},function(r){return Eb(r)||(Ah(i),r&&r.response&&(r.response.data=Rh.call(i,i.transformResponse,r.response),r.response.headers=At.from(r.response.headers))),Promise.reject(r)})}const Ab="1.8.2",Yu={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Yu[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const xv={};Yu.transitional=function(e,n,r){function l(u,f){return"[Axios v"+Ab+"] Transitional option '"+u+"'"+f+(r?". "+r:"")}return(u,f,d)=>{if(e===!1)throw new le(l(f," has been removed"+(n?" in "+n:"")),le.ERR_DEPRECATED);return n&&!xv[f]&&(xv[f]=!0,console.warn(l(f," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,f,d):!0}};Yu.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function pM(i,e,n){if(typeof i!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let l=r.length;for(;l-- >0;){const u=r[l],f=e[u];if(f){const d=i[u],p=d===void 0||f(d,u,i);if(p!==!0)throw new le("option "+u+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new le("Unknown option "+u,le.ERR_BAD_OPTION)}}const Zo={assertOptions:pM,validators:Yu},_n=Zo.validators;let ps=class{constructor(e){this.defaults=e,this.interceptors={request:new bv,response:new bv}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ts(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:u}=n;r!==void 0&&Zo.assertOptions(r,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),l!=null&&(k.isFunction(l)?n.paramsSerializer={serialize:l}:Zo.assertOptions(l,{encode:_n.function,serialize:_n.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Zo.assertOptions(n,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=u&&k.merge(u.common,u[n.method]);u&&k.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),n.headers=At.concat(f,u);const d=[];let p=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(p=p&&D.synchronous,d.unshift(D.fulfilled,D.rejected))});const m=[];this.interceptors.response.forEach(function(D){m.push(D.fulfilled,D.rejected)});let _,v=0,E;if(!p){const S=[Ov.bind(this),void 0];for(S.unshift.apply(S,d),S.push.apply(S,m),E=S.length,_=Promise.resolve(n);v<E;)_=_.then(S[v++],S[v++]);return _}E=d.length;let R=n;for(v=0;v<E;){const S=d[v++],D=d[v++];try{R=S(R)}catch(I){D.call(this,I);break}}try{_=Ov.call(this,R)}catch(S){return Promise.reject(S)}for(v=0,E=m.length;v<E;)_=_.then(m[v++],m[v++]);return _}getUri(e){e=Ts(this.defaults,e);const n=Sb(e.baseURL,e.url,e.allowAbsoluteUrls);return _b(n,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){ps.prototype[e]=function(n,r){return this.request(Ts(r||{},{method:e,url:n,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(e){function n(r){return function(u,f,d){return this.request(Ts(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}ps.prototype[e]=n(),ps.prototype[e+"Form"]=n(!0)});let mM=class Nb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(l=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](l);r._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(d=>{r.subscribe(d),u=d}).then(l);return f.cancel=function(){r.unsubscribe(u)},f},e(function(u,f,d){r.reason||(r.reason=new Mr(u,f,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Nb(function(l){e=l}),cancel:e}}};function gM(i){return function(n){return i.apply(null,n)}}function _M(i){return k.isObject(i)&&i.isAxiosError===!0}const id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(id).forEach(([i,e])=>{id[e]=i});function Ob(i){const e=new ps(i),n=ab(ps.prototype.request,e);return k.extend(n,ps.prototype,e,{allOwnKeys:!0}),k.extend(n,e,null,{allOwnKeys:!0}),n.create=function(l){return Ob(Ts(i,l))},n}const ke=Ob(bl);ke.Axios=ps;ke.CanceledError=Mr;ke.CancelToken=mM;ke.isCancel=Eb;ke.VERSION=Ab;ke.toFormData=Vu;ke.AxiosError=le;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=gM;ke.isAxiosError=_M;ke.mergeConfig=Ts;ke.AxiosHeaders=At;ke.formToJSON=i=>vb(k.isHTMLForm(i)?new FormData(i):i);ke.getAdapter=Rb.getAdapter;ke.HttpStatusCode=id;ke.default=ke;const{Axios:DM,AxiosError:IM,CanceledError:MM,isCancel:kM,CancelToken:LM,VERSION:UM,all:PM,Cancel:zM,isAxiosError:BM,spread:HM,toFormData:jM,AxiosHeaders:qM,HttpStatusCode:FM,formToJSON:VM,getAdapter:GM,mergeConfig:YM}=ke;async function yM(i,e){const n=i.state?i.state.isRandom:!0,r=n?"https://ja.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=10&format=json":"https://ja.wikipedia.org/w/api.php?action=query&list=search&srnamespace=0&srlimit=10&sroffset=0&srsearch="+i.state.searchStr+"&format=json";ke.get(r+"&origin=*").then(l=>{const u=n?l.data.query.random:l.data.query.search,f=[];for(let p of u)f.push(p.title);const d=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+f.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(p=>{const m=p.data.query.pages;Object.keys(m).forEach(_=>{d.push({id:_,title:m[_].title,extract:m[_].extract})}),e(d)})})}async function sd(i){ke.get("https://ja.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=10&format=json"+"&origin=*").then(n=>{const r=n.data.query.random,l=[];for(let f of r)l.push(f.title);const u=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+l.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(f=>{const d=f.data.query.pages;Object.keys(d).forEach(p=>{u.push({id:p,title:d[p].title,extract:d[p].extract})}),i(u)})})}async function xb(i,e,n){const r="https://ja.wikipedia.org/w/api.php?action=query&list=search&srnamespace=0&srlimit=10&sroffset="+e+"&srsearch="+i+"&format=json";ke.get(r+"&origin=*").then(l=>{const u=l.data.query.search,f=[];for(let p of u)f.push(p.title);const d=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+f.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(p=>{const m=p.data.query.pages;Object.keys(m).forEach(_=>{d.push({id:_,title:m[_].title,extract:m[_].extract})}),n(d)})})}function vM(i){const{searchText:e,setSearchText:n,setSearchOffset:r,setResultAry:l}={...i},u=bn();M.useEffect(()=>{const _=u.state?u.state.searchStr:"";n(_)},[]);function f(_){n(_.target.value)}function d(_){_.key.toLowerCase()=="enter"&&m()}function p(){l([]),r(0),sd(l)}function m(){l([]),r(0),e.trim()==""?sd(l):xb(e,0,l)}return O.jsxs("div",{className:"relative w-full max-w-80 flex justify-start flex-wrap mx-auto mb-24",children:[O.jsx("input",{type:"text",value:e.toString(),onChange:_=>f(_),onKeyDown:_=>d(_),className:"px-2 mr-2 border-2 grow",placeholder:"Wikipedia"}),O.jsx("button",{onClick:m,className:"px-4 rounded bg-gradient-to-b active:bg-gradient-to-t from-blue-400 to-blue-500 font-bold text-white",children:""}),O.jsx("button",{onClick:()=>p(),className:"absolute -bottom-10 right-0 underline text-slate-700",children:""})]})}function EM(){const[i,e]=M.useState([]),[n,r]=M.useState(""),[l,u]=M.useState(0),f=bn();M.useEffect(()=>{yM(f,e)},[]);function d(){if(e([]),n==""){sd(e);return}xb(n,l+10,e),u(p=>p+10)}return O.jsx("div",{className:" h-dvh overflow-y-scroll",children:O.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[O.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),O.jsx(vM,{searchText:n,setSearchText:r,setSearchOffset:u,setResultAry:e}),i.length==0?O.jsxs("div",{className:"fixed w-fit h-fit inset-0 m-auto",children:[O.jsx("div",{className:"flex justify-center mb-4","aria-label":"",children:O.jsx("div",{className:"animate-ping h-4 w-4 bg-slate-600 rounded-full"})}),O.jsx("p",{className:" text-slate-800 animate-pulse",children:"..."})]}):O.jsxs("div",{children:[O.jsx(qD,{resultAry:i}),O.jsx("button",{onClick:d,className:"block ml-auto mr-0 px-2 py-1 bg-emerald-600 text-white font-bold rounded mb-10",children:"10"})]})]})})}function bM(){const[i,e]=M.useState(""),n=Ru();function r(d){e(d.currentTarget.value)}function l(){n("search",{state:{searchStr:i,isRandom:i.trim().length==0}})}function u(){n("search",{state:{searchStr:"",isRandom:!0}})}function f(d){d.key.toLowerCase()=="enter"&&l()}return O.jsxs("div",{className:"sectionFadeIn relative w-full h-dvh bg-gradient-to-br from-slate-200 to-indigo-300",children:[O.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cover bg-[url('/bgTexture.png')] opacity-80"}),O.jsxs("div",{className:"absolute z-10 w-fit h-fit px-8 py-8 inset-0 m-auto bg-white/80 shadow",children:[O.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:"Summarized Wiki"}),O.jsx("p",{className:"text-sm font-bold mb-6 text-center",children:"- -"}),O.jsxs("div",{className:"w-fit mx-auto mb-4",children:[O.jsx("input",{type:"text",onChange:r,onKeyDown:f,className:"w-56 px-2 roounded bg-white border border-slate-600 mr-2",placeholder:"Wikipedia"}),O.jsx("button",{onClick:l,className:"px-4 rounded bg-gradient-to-b active:bg-gradient-to-t from-blue-400 to-blue-500 font-bold text-white",children:""})]}),O.jsx("button",{onClick:()=>u(),className:"block ml-auto mr-4 underline text-slate-700",children:""})]})]})}function SM(){const i=Ru(),e=bn(),n=M.useContext(Sl),[r,l]=M.useState(""),u=M.useRef(null);function f(){i("search",{state:{searchStr:"",isRandom:!0}})}function d(){n?i("bookMark"):(l(""),u.current!=null&&clearTimeout(u.current),u.current=setTimeout(()=>{l("")},5e3))}return O.jsxs(O.Fragment,{children:[O.jsx("footer",{className:"fixed bottom-0 w-full bg-slate-200",children:O.jsxs("menu",{className:"sectionWrapper flex justify-around flex-row py-3",children:[O.jsx("li",{children:O.jsxs("button",{onClick:f,className:"text-xs px-4 md:px-8",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/search"?"fill-slate-800":"fill-slate-400"),children:O.jsx("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})}),""]})}),O.jsx("li",{className:n?"":"opacity-50",children:O.jsxs("button",{onClick:d,className:"text-xs px-4 md:px-8",children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/bookMark"?"fill-slate-800":"fill-slate-400"),children:O.jsx("path",{d:"M0 96C0 43 43 0 96 0l96 0 0 190.7c0 13.4 15.5 20.9 26 12.5L272 160l54 43.2c10.5 8.4 26 .9 26-12.5L352 0l32 0 32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32z"})}),""]})})]})}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-yellow-50 border border-yellow-600 shadow rounded transition "+(r?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"),children:O.jsx("p",{className:r?"":"opacity-0",children:r})})]})}function TM(){const[i,e]=M.useState({}),[n,r]=M.useState(),l=M.useRef(null),u=M.useContext(Sl),f=_r(yr,"user_"+(u==null?void 0:u.uid)+"/bookMark");M.useEffect(()=>{rb(f,m=>{m.exists()&&e(m.val())})},[u]);function d(m){u!=null&&(sb(_r(yr,"user_"+u.uid+"/bookMark/"+m.title)),r(m),l.current!=null&&clearTimeout(l.current),l.current=setTimeout(()=>{r(m)},5e3))}function p(){u&&rp(_r(yr,"user_"+u.uid+"/bookMark/"+(n==null?void 0:n.title)),n),l.current!=null&&clearTimeout(l.current),r(null)}return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"pb-40",children:Object.keys(i).length>0?Object.values(i).map(m=>O.jsxs("div",{className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow",children:[O.jsxs("div",{className:"flex justify-between mb-2",children:[O.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:O.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+m.title,className:"fadeIn",children:m.title})}),O.jsx("button",{onClick:()=>d(m),className:"w-8 h-8 p-1 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full fill-cyan-600",children:O.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),O.jsxs("p",{className:"text-slate-500 text-sm mb-6",children:[m.year,"/",m.month,"/",m.date,""]}),O.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:m.extract}})]},m.id)):u?O.jsx("p",{children:""}):O.jsx("p",{children:""})}),O.jsxs("div",{className:"fixed z-40 flex justify-between w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(n==null?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:[O.jsxs("p",{className:n==null?"opacity-0":"",children:["",O.jsx("span",{children:n==null?void 0:n.title}),""]}),O.jsx("button",{onClick:p,className:"inline-block px-1 underline text-cyan-600 font-bold",children:""})]})]})}function wM(){return O.jsx("div",{className:" h-dvh overflow-y-scroll",children:O.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[O.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),O.jsx(TM,{})]})})}function CM(){const[i,e]=M.useState(""),[n,r]=M.useState(""),[l,u]=M.useState(""),[f,d]=M.useState(!1),p=M.useRef(null);function m(D){e(D.currentTarget.value)}function _(D){r(D.currentTarget.value)}function v(D){u(D.currentTarget.value)}function E(D){D.key.toLocaleLowerCase()=="enter"&&R(D)}async function R(D){D.preventDefault(),n!=l&&alert("");const I=Ja();try{await f1(I,i,n),d(!0),p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(!1)},5e3),S()}catch(P){alert(`
`+P)}}function S(){e(""),r(""),u(""),document.getElementById("signupDialog").close()}return O.jsxs(O.Fragment,{children:[O.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-fit bg-white px-8 py-6 rounded",id:"signupDialog",children:[O.jsx("h3",{className:"text-center text-slate-800 font-bold mb-8",children:""}),O.jsxs("div",{className:"grow mb-10",children:[O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"string",value:i,onChange:m,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1 mb-6"}),O.jsx("h4",{className:"text-sm mb-1",children:"(6)"}),O.jsx("input",{type:"password",value:n,onChange:_,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1 mb-3"}),O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"password",value:l,onChange:v,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1"})]}),O.jsxs("div",{className:"flex justify-around",children:[O.jsx("button",{onClick:R,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:""}),O.jsx("button",{onClick:S,className:"w-24 py-1 font-bold",children:""})]})]}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:O.jsx("p",{children:""})})]})}function RM(){const[i,e]=M.useState(""),[n,r]=M.useState(""),[l,u]=M.useState(!1),f=M.useRef(null);function d(E){e(E.currentTarget.value)}function p(E){r(E.currentTarget.value)}function m(E){E.key.toLocaleLowerCase()=="enter"&&_()}async function _(){const E=Ja();try{await h1(E,i,n),setTimeout(()=>{const R=document.activeElement;R!=null&&R.blur()},10),u(!0),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(!1)},5e3),v()}catch{alert("")}}function v(){e(""),r(""),document.getElementById("loginDialog").close()}return O.jsxs(O.Fragment,{children:[O.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-96 bg-white px-8 py-6 rounded",id:"loginDialog",children:[O.jsx("h3",{className:"text-center text-slate-800 font-bold mb-8",children:""}),O.jsxs("div",{className:"grow",children:[O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"string",value:i,onChange:d,onKeyDown:m,className:"w-full border border-slate-800 rounded px-1 mb-6"}),O.jsx("h4",{className:"text-sm mb-1",children:""}),O.jsx("input",{type:"password",value:n,onChange:p,onKeyDown:m,className:"w-full border border-slate-800 rounded px-1"})]}),O.jsxs("div",{className:"flex justify-around",children:[O.jsx("button",{onClick:_,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:""}),O.jsx("button",{onClick:v,className:"w-24 py-1 font-bold",children:""})]})]}),O.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:O.jsx("p",{children:""})})]})}function AM(){function i(n){n.preventDefault();const r=Ja(),l=r.currentUser;l!=null&&l.email&&c1(r,l.email).then(()=>{alert(""+l.email+"")}).catch(()=>{alert("")}),e()}function e(){document.getElementById("settingPasswordDialog").close()}return O.jsx(O.Fragment,{children:O.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-fit bg-white px-8 py-6 rounded",id:"settingPasswordDialog",children:[O.jsx("h3",{className:"text-center text-slate-800 font-bold mb-6",children:""}),O.jsx("p",{className:"mb-8",children:""}),O.jsxs("div",{className:"flex justify-around",children:[O.jsx("button",{onClick:i,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:"OK"}),O.jsx("button",{onClick:e,className:"w-24 py-1 font-bold",children:""})]})]})})}const Sl=M.createContext(null);function NM(){const[i,e]=M.useState(null);return O.jsx(O.Fragment,{children:O.jsxs(Sl.Provider,{value:i,children:[O.jsx(RM,{}),O.jsx(CM,{}),O.jsx(AM,{}),O.jsxs(bC,{children:[O.jsx(NN,{setUser:e}),O.jsxs(Zw,{children:[O.jsx(qo,{path:"/",element:O.jsx(bM,{})}),O.jsx(qo,{path:"/search",element:O.jsx(EM,{})}),O.jsx(qo,{path:"/bookMark",element:O.jsx(wM,{})})]}),O.jsx(SM,{})]})]})})}ow.createRoot(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(NM,{})}));
