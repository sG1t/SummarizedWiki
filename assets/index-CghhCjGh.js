(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var rd={exports:{}},Ma={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function ew(){if(W_)return Ma;W_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:r,key:f,ref:l!==void 0?l:null,props:u}}return Ma.Fragment=e,Ma.jsx=i,Ma.jsxs=i,Ma}var Q_;function tw(){return Q_||(Q_=1,rd.exports=ew()),rd.exports}var T=tw(),ad={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function nw(){if(X_)return oe;X_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function I(w,B,J){this.props=w,this.context=B,this.refs=D,this.updater=J||R}I.prototype.isReactComponent={},I.prototype.setState=function(w,B){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,B,"setState")},I.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function L(){}L.prototype=I.prototype;function H(w,B,J){this.props=w,this.context=B,this.refs=D,this.updater=J||R}var q=H.prototype=new L;q.constructor=H,S(q,I.prototype),q.isPureReactComponent=!0;var ie=Array.isArray,K={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function we(w,B,J,$,Y,ye){return J=ye.ref,{$$typeof:n,type:w,key:B,ref:J!==void 0?J:null,props:ye}}function Pe(w,B){return we(w.type,B,void 0,void 0,void 0,w.props)}function G(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function re(w){var B={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return B[J]})}var mt=/\/+/g;function Sn(w,B){return typeof w=="object"&&w!==null&&w.key!=null?re(""+w.key):B.toString(36)}function un(){}function Tn(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(un,un):(w.status="pending",w.then(function(B){w.status==="pending"&&(w.status="fulfilled",w.value=B)},function(B){w.status==="pending"&&(w.status="rejected",w.reason=B)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Et(w,B,J,$,Y){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var ue=!1;if(w===null)ue=!0;else switch(ye){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(w.$$typeof){case n:case e:ue=!0;break;case _:return ue=w._init,Et(ue(w._payload),B,J,$,Y)}}if(ue)return Y=Y(w),ue=$===""?"."+Sn(w,0):$,ie(Y)?(J="",ue!=null&&(J=ue.replace(mt,"$&/")+"/"),Et(Y,B,J,"",function(Ye){return Ye})):Y!=null&&(G(Y)&&(Y=Pe(Y,J+(Y.key==null||w&&w.key===Y.key?"":(""+Y.key).replace(mt,"$&/")+"/")+ue)),B.push(Y)),1;ue=0;var gt=$===""?".":$+":";if(ie(w))for(var Te=0;Te<w.length;Te++)$=w[Te],ye=gt+Sn($,Te),ue+=Et($,B,J,ye,Y);else if(Te=E(w),typeof Te=="function")for(w=Te.call(w),Te=0;!($=w.next()).done;)$=$.value,ye=gt+Sn($,Te++),ue+=Et($,B,J,ye,Y);else if(ye==="object"){if(typeof w.then=="function")return Et(Tn(w),B,J,$,Y);throw B=String(w),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ue}function V(w,B,J){if(w==null)return w;var $=[],Y=0;return Et(w,$,"","",function(ye){return B.call(J,ye,Y++)}),$}function ae(w){if(w._status===-1){var B=w._result;B=B(),B.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=B)}if(w._status===1)return w._result.default;throw w._result}var te=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function Oe(){}return oe.Children={map:V,forEach:function(w,B,J){V(w,function(){B.apply(this,arguments)},J)},count:function(w){var B=0;return V(w,function(){B++}),B},toArray:function(w){return V(w,function(B){return B})||[]},only:function(w){if(!G(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},oe.Component=I,oe.Fragment=i,oe.Profiler=l,oe.PureComponent=H,oe.StrictMode=r,oe.Suspense=p,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},oe.cache=function(w){return function(){return w.apply(null,arguments)}},oe.cloneElement=function(w,B,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=S({},w.props),Y=w.key,ye=void 0;if(B!=null)for(ue in B.ref!==void 0&&(ye=void 0),B.key!==void 0&&(Y=""+B.key),B)!_e.call(B,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&B.ref===void 0||($[ue]=B[ue]);var ue=arguments.length-2;if(ue===1)$.children=J;else if(1<ue){for(var gt=Array(ue),Te=0;Te<ue;Te++)gt[Te]=arguments[Te+2];$.children=gt}return we(w.type,Y,void 0,void 0,ye,$)},oe.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},oe.createElement=function(w,B,J){var $,Y={},ye=null;if(B!=null)for($ in B.key!==void 0&&(ye=""+B.key),B)_e.call(B,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(Y[$]=B[$]);var ue=arguments.length-2;if(ue===1)Y.children=J;else if(1<ue){for(var gt=Array(ue),Te=0;Te<ue;Te++)gt[Te]=arguments[Te+2];Y.children=gt}if(w&&w.defaultProps)for($ in ue=w.defaultProps,ue)Y[$]===void 0&&(Y[$]=ue[$]);return we(w,ye,void 0,void 0,null,Y)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(w){return{$$typeof:h,render:w}},oe.isValidElement=G,oe.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:ae}},oe.memo=function(w,B){return{$$typeof:m,type:w,compare:B===void 0?null:B}},oe.startTransition=function(w){var B=K.T,J={};K.T=J;try{var $=w(),Y=K.S;Y!==null&&Y(J,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Oe,te)}catch(ye){te(ye)}finally{K.T=B}},oe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},oe.use=function(w){return K.H.use(w)},oe.useActionState=function(w,B,J){return K.H.useActionState(w,B,J)},oe.useCallback=function(w,B){return K.H.useCallback(w,B)},oe.useContext=function(w){return K.H.useContext(w)},oe.useDebugValue=function(){},oe.useDeferredValue=function(w,B){return K.H.useDeferredValue(w,B)},oe.useEffect=function(w,B){return K.H.useEffect(w,B)},oe.useId=function(){return K.H.useId()},oe.useImperativeHandle=function(w,B,J){return K.H.useImperativeHandle(w,B,J)},oe.useInsertionEffect=function(w,B){return K.H.useInsertionEffect(w,B)},oe.useLayoutEffect=function(w,B){return K.H.useLayoutEffect(w,B)},oe.useMemo=function(w,B){return K.H.useMemo(w,B)},oe.useOptimistic=function(w,B){return K.H.useOptimistic(w,B)},oe.useReducer=function(w,B,J){return K.H.useReducer(w,B,J)},oe.useRef=function(w){return K.H.useRef(w)},oe.useState=function(w){return K.H.useState(w)},oe.useSyncExternalStore=function(w,B,J){return K.H.useSyncExternalStore(w,B,J)},oe.useTransition=function(){return K.H.useTransition()},oe.version="19.0.0",oe}var $_;function ah(){return $_||($_=1,ad.exports=nw()),ad.exports}var x=ah(),ld={exports:{}},ka={},od={exports:{}},ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function iw(){return Z_||(Z_=1,function(n){function e(V,ae){var te=V.length;V.push(ae);e:for(;0<te;){var Oe=te-1>>>1,w=V[Oe];if(0<l(w,ae))V[Oe]=ae,V[te]=w,te=Oe;else break e}}function i(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],te=V.pop();if(te!==ae){V[0]=te;e:for(var Oe=0,w=V.length,B=w>>>1;Oe<B;){var J=2*(Oe+1)-1,$=V[J],Y=J+1,ye=V[Y];if(0>l($,te))Y<w&&0>l(ye,$)?(V[Oe]=ye,V[Y]=te,Oe=Y):(V[Oe]=$,V[J]=te,Oe=J);else if(Y<w&&0>l(ye,te))V[Oe]=ye,V[Y]=te,Oe=Y;else break e}}return ae}function l(V,ae){var te=V.sortIndex-ae.sortIndex;return te!==0?te:V.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();n.unstable_now=function(){return f.now()-h}}var p=[],m=[],_=1,y=null,E=3,R=!1,S=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function q(V){for(var ae=i(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=V)r(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=i(m)}}function ie(V){if(D=!1,q(V),!S)if(i(p)!==null)S=!0,Tn();else{var ae=i(m);ae!==null&&Et(ie,ae.startTime-V)}}var K=!1,_e=-1,we=5,Pe=-1;function G(){return!(n.unstable_now()-Pe<we)}function re(){if(K){var V=n.unstable_now();Pe=V;var ae=!0;try{e:{S=!1,D&&(D=!1,L(_e),_e=-1),R=!0;var te=E;try{t:{for(q(V),y=i(p);y!==null&&!(y.expirationTime>V&&G());){var Oe=y.callback;if(typeof Oe=="function"){y.callback=null,E=y.priorityLevel;var w=Oe(y.expirationTime<=V);if(V=n.unstable_now(),typeof w=="function"){y.callback=w,q(V),ae=!0;break t}y===i(p)&&r(p),q(V)}else r(p);y=i(p)}if(y!==null)ae=!0;else{var B=i(m);B!==null&&Et(ie,B.startTime-V),ae=!1}}break e}finally{y=null,E=te,R=!1}ae=void 0}}finally{ae?mt():K=!1}}}var mt;if(typeof H=="function")mt=function(){H(re)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,un=Sn.port2;Sn.port1.onmessage=re,mt=function(){un.postMessage(null)}}else mt=function(){I(re,0)};function Tn(){K||(K=!0,mt())}function Et(V,ae){_e=I(function(){V(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){S||R||(S=!0,Tn())},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return i(p)},n.unstable_next=function(V){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var te=E;E=ae;try{return V()}finally{E=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=E;E=V;try{return ae()}finally{E=te}},n.unstable_scheduleCallback=function(V,ae,te){var Oe=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Oe+te:Oe):te=Oe,V){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=te+w,V={id:_++,callback:ae,priorityLevel:V,startTime:te,expirationTime:w,sortIndex:-1},te>Oe?(V.sortIndex=te,e(m,V),i(p)===null&&V===i(m)&&(D?(L(_e),_e=-1):D=!0,Et(ie,te-Oe))):(V.sortIndex=w,e(p,V),S||R||(S=!0,Tn())),V},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(V){var ae=E;return function(){var te=E;E=ae;try{return V.apply(this,arguments)}finally{E=te}}}}(ud)),ud}var J_;function sw(){return J_||(J_=1,od.exports=iw()),od.exports}var cd={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function rw(){if(ey)return dt;ey=1;var n=ah();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dt.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,_)},dt.flushSync=function(p){var m=f.T,_=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=m,r.p=_,r.d.f()}},dt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},dt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},dt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:R}):_==="script"&&r.d.X(p,{crossOrigin:y,integrity:E,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},dt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=h(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=h(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},dt.requestFormReset=function(p){r.d.r(p)},dt.unstable_batchedUpdates=function(p,m){return p(m)},dt.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.0.0",dt}var ty;function aw(){if(ty)return cd.exports;ty=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cd.exports=rw(),cd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function lw(){if(ny)return ka;ny=1;var n=sw(),e=ah(),i=aw();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function _e(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var we=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===we?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case h:return"Portal";case _:return"Profiler";case m:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case S:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return s=t.displayName||null,s!==null?s:Pe(t.type)||"Memo";case H:s=t._payload,t=t._init;try{return Pe(t(s))}catch{}}return null}var G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=Object.assign,mt,Sn;function un(t){if(mt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);mt=s&&s[1]||"",Sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+t+Sn}var Tn=!1;function Et(t,s){if(!t||Tn)return"";Tn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(U){var M=U}Reflect.construct(t,[],j)}else{try{j.call()}catch(U){M=U}t.call(j.prototype)}}else{try{throw Error()}catch(U){M=U}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(U){if(U&&M&&typeof U.stack=="string")return[U.stack,M.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var b=g.split(`
`),A=v.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===A.length)for(o=b.length-1,c=A.length-1;1<=o&&0<=c&&b[o]!==A[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==A[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==A[c]){var P=`
`+b[o].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=o&&0<=c);break}}}finally{Tn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?un(a):""}function V(t){switch(t.tag){case 26:case 27:case 5:return un(t.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return t=Et(t.type,!1),t;case 11:return t=Et(t.type.render,!1),t;case 1:return t=Et(t.type,!0),t;default:return""}}function ae(t){try{var s="";do s+=V(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function te(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function Oe(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function w(t){if(te(t)!==t)throw Error(r(188))}function B(t){var s=t.alternate;if(!s){if(s=te(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return w(c),t;if(d===o)return w(c),s;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=d;else{for(var g=!1,v=c.child;v;){if(v===a){g=!0,a=c,o=d;break}if(v===o){g=!0,o=c,a=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===a){g=!0,a=d,o=c;break}if(v===o){g=!0,o=d,a=c;break}v=v.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function J(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=J(t),s!==null)return s;t=t.sibling}return null}var $=Array.isArray,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ue=[],gt=-1;function Te(t){return{current:t}}function Ye(t){0>gt||(t.current=ue[gt],ue[gt]=null,gt--)}function Ue(t,s){gt++,ue[gt]=t.current,t.current=s}var cn=Te(null),Ur=Te(null),ri=Te(null),Cl=Te(null);function Rl(t,s){switch(Ue(ri,s),Ue(Ur,t),Ue(cn,null),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?T_(s):0;break;default:if(t=t===8?s.parentNode:s,s=t.tagName,t=t.namespaceURI)t=T_(t),s=w_(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ye(cn),Ue(cn,s)}function Ns(){Ye(cn),Ye(Ur),Ye(ri)}function Qu(t){t.memoizedState!==null&&Ue(Cl,t);var s=cn.current,a=w_(s,t.type);s!==a&&(Ue(Ur,t),Ue(cn,a))}function Al(t){Ur.current===t&&(Ye(cn),Ye(Ur)),Cl.current===t&&(Ye(Cl),Na._currentValue=ye)}var Xu=Object.prototype.hasOwnProperty,$u=n.unstable_scheduleCallback,Zu=n.unstable_cancelCallback,Ib=n.unstable_shouldYield,Mb=n.unstable_requestPaint,fn=n.unstable_now,kb=n.unstable_getCurrentPriorityLevel,dp=n.unstable_ImmediatePriority,hp=n.unstable_UserBlockingPriority,Nl=n.unstable_NormalPriority,Lb=n.unstable_LowPriority,pp=n.unstable_IdlePriority,Ub=n.log,Pb=n.unstable_setDisableYieldValue,Pr=null,Ot=null;function zb(t){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Pr,t,void 0,(t.current.flags&128)===128)}catch{}}function ai(t){if(typeof Ub=="function"&&Pb(t),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Pr,t)}catch{}}var Dt=Math.clz32?Math.clz32:Hb,jb=Math.log,Bb=Math.LN2;function Hb(t){return t>>>=0,t===0?32:31-(jb(t)/Bb|0)|0}var xl=128,Ol=4194304;function Fi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dl(t,s){var a=t.pendingLanes;if(a===0)return 0;var o=0,c=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var v=a&134217727;return v!==0?(a=v&~c,a!==0?o=Fi(a):(d&=v,d!==0?o=Fi(d):t||(g=v&~g,g!==0&&(o=Fi(g))))):(v=a&~c,v!==0?o=Fi(v):d!==0?o=Fi(d):t||(g=a&~g,g!==0&&(o=Fi(g)))),o===0?0:s!==0&&s!==o&&(s&c)===0&&(c=o&-o,g=s&-s,c>=g||c===32&&(g&4194176)!==0)?s:o}function zr(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function qb(t,s){switch(t){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(){var t=xl;return xl<<=1,(xl&4194176)===0&&(xl=128),t}function gp(){var t=Ol;return Ol<<=1,(Ol&62914560)===0&&(Ol=4194304),t}function Ju(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function jr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fb(t,s,a,o,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var v=t.entanglements,b=t.expirationTimes,A=t.hiddenUpdates;for(a=g&~a;0<a;){var P=31-Dt(a),j=1<<P;v[P]=0,b[P]=-1;var M=A[P];if(M!==null)for(A[P]=null,P=0;P<M.length;P++){var U=M[P];U!==null&&(U.lane&=-536870913)}a&=~j}o!==0&&_p(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~s))}function _p(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-Dt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194218}function yp(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-Dt(a),c=1<<o;c&s|t[o]&s&&(t[o]|=s),a&=~c}}function vp(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ep(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function Vb(t,s){var a=Y.p;try{return Y.p=t,s()}finally{Y.p=a}}var li=Math.random().toString(36).slice(2),ct="__reactFiber$"+li,bt="__reactProps$"+li,xs="__reactContainer$"+li,ec="__reactEvents$"+li,Gb="__reactListeners$"+li,Yb="__reactHandles$"+li,bp="__reactResources$"+li,Br="__reactMarker$"+li;function tc(t){delete t[ct],delete t[bt],delete t[ec],delete t[Gb],delete t[Yb]}function Vi(t){var s=t[ct];if(s)return s;for(var a=t.parentNode;a;){if(s=a[xs]||a[ct]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[ct])return a;t=A_(t)}return s}t=a,a=t.parentNode}return null}function Os(t){if(t=t[ct]||t[xs]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Hr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Ds(t){var s=t[bp];return s||(s=t[bp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Je(t){t[Br]=!0}var Sp=new Set,Tp={};function Gi(t,s){Is(t,s),Is(t+"Capture",s)}function Is(t,s){for(Tp[t]=s,t=0;t<s.length;t++)Sp.add(s[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wp={},Cp={};function Wb(t){return Xu.call(Cp,t)?!0:Xu.call(wp,t)?!1:Kb.test(t)?Cp[t]=!0:(wp[t]=!0,!1)}function Il(t,s,a){if(Wb(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Ml(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Cn(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rp(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qb(t){var s=Rp(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),o=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function kl(t){t._valueTracker||(t._valueTracker=Qb(t))}function Ap(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Rp(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xb=/[\n"\\]/g;function jt(t){return t.replace(Xb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function nc(t,s,a,o,c,d,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),s!=null?g==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+zt(s)):t.value!==""+zt(s)&&(t.value=""+zt(s)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),s!=null?ic(t,g,zt(s)):a!=null?ic(t,g,zt(a)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+zt(v):t.removeAttribute("name")}function Np(t,s,a,o,c,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+zt(a):"",s=s!=null?""+zt(s):a,v||s===t.value||(t.value=s),t.defaultValue=s}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=v?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function ic(t,s,a){s==="number"&&Ll(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ms(t,s,a,o){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function xp(t,s,a){if(s!=null&&(s=""+zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+zt(a):""}function Op(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if($(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=zt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function ks(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var $b=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dp(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||$b.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Ip(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in s)o=s[c],s.hasOwnProperty(c)&&a[c]!==o&&Dp(t,c,o)}else for(var d in s)s.hasOwnProperty(d)&&Dp(t,d,s[d])}function sc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(t){return Jb.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rc=null;function ac(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ls=null,Us=null;function Mp(t){var s=Os(t);if(s&&(t=s.stateNode)){var a=t[bt]||null;e:switch(t=s.stateNode,s.type){case"input":if(nc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var c=o[bt]||null;if(!c)throw Error(r(90));nc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Ap(o)}break e;case"textarea":xp(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ms(t,!!a.multiple,s,!1)}}}var lc=!1;function kp(t,s,a){if(lc)return t(s,a);lc=!0;try{var o=t(s);return o}finally{if(lc=!1,(Ls!==null||Us!==null)&&(Eo(),Ls&&(s=Ls,t=Us,Us=Ls=null,Mp(s),t)))for(s=0;s<t.length;s++)Mp(t[s])}}function qr(t,s){var a=t.stateNode;if(a===null)return null;var o=a[bt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var oc=!1;if(wn)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){oc=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{oc=!1}var oi=null,uc=null,Pl=null;function Lp(){if(Pl)return Pl;var t,s=uc,a=s.length,o,c="value"in oi?oi.value:oi.textContent,d=c.length;for(t=0;t<a&&s[t]===c[t];t++);var g=a-t;for(o=1;o<=g&&s[a-o]===c[d-o];o++);return Pl=c.slice(t,1<o?1-o:void 0)}function zl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function Up(){return!1}function St(t){function s(a,o,c,d,g){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(a=t[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jl:Up,this.isPropagationStopped=Up,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=St(Yi),Vr=re({},Yi,{view:0,detail:0}),eS=St(Vr),cc,fc,Gr,Hl=re({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(cc=t.screenX-Gr.screenX,fc=t.screenY-Gr.screenY):fc=cc=0,Gr=t),cc)},movementY:function(t){return"movementY"in t?t.movementY:fc}}),Pp=St(Hl),tS=re({},Hl,{dataTransfer:0}),nS=St(tS),iS=re({},Vr,{relatedTarget:0}),dc=St(iS),sS=re({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),rS=St(sS),aS=re({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lS=St(aS),oS=re({},Yi,{data:0}),zp=St(oS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dS(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=fS[t])?!!s[t]:!1}function hc(){return dS}var hS=re({},Vr,{key:function(t){if(t.key){var s=uS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=zl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(t){return t.type==="keypress"?zl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pS=St(hS),mS=re({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=St(mS),gS=re({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),_S=St(gS),yS=re({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vS=St(yS),ES=re({},Hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=St(ES),SS=re({},Yi,{newState:0,oldState:0}),TS=St(SS),wS=[9,13,27,32],pc=wn&&"CompositionEvent"in window,Yr=null;wn&&"documentMode"in document&&(Yr=document.documentMode);var CS=wn&&"TextEvent"in window&&!Yr,Bp=wn&&(!pc||Yr&&8<Yr&&11>=Yr),Hp=" ",qp=!1;function Fp(t,s){switch(t){case"keyup":return wS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function RS(t,s){switch(t){case"compositionend":return Vp(s);case"keypress":return s.which!==32?null:(qp=!0,Hp);case"textInput":return t=s.data,t===Hp&&qp?null:t;default:return null}}function AS(t,s){if(Ps)return t==="compositionend"||!pc&&Fp(t,s)?(t=Lp(),Pl=uc=oi=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bp&&s.locale!=="ko"?null:s.data;default:return null}}var NS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!NS[t.type]:s==="textarea"}function Yp(t,s,a,o){Ls?Us?Us.push(o):Us=[o]:Ls=o,s=Co(s,"onChange"),0<s.length&&(a=new Bl("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Kr=null,Wr=null;function xS(t){y_(t,0)}function ql(t){var s=Hr(t);if(Ap(s))return t}function Kp(t,s){if(t==="change")return s}var Wp=!1;if(wn){var mc;if(wn){var gc="oninput"in document;if(!gc){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),gc=typeof Qp.oninput=="function"}mc=gc}else mc=!1;Wp=mc&&(!document.documentMode||9<document.documentMode)}function Xp(){Kr&&(Kr.detachEvent("onpropertychange",$p),Wr=Kr=null)}function $p(t){if(t.propertyName==="value"&&ql(Wr)){var s=[];Yp(s,Wr,t,ac(t)),kp(xS,s)}}function OS(t,s,a){t==="focusin"?(Xp(),Kr=s,Wr=a,Kr.attachEvent("onpropertychange",$p)):t==="focusout"&&Xp()}function DS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(Wr)}function IS(t,s){if(t==="click")return ql(s)}function MS(t,s){if(t==="input"||t==="change")return ql(s)}function kS(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var It=typeof Object.is=="function"?Object.is:kS;function Qr(t,s){if(It(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!Xu.call(s,c)||!It(t[c],s[c]))return!1}return!0}function Zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jp(t,s){var a=Zp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zp(a)}}function em(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?em(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function tm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ll(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ll(t.document)}return s}function _c(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function LS(t,s){var a=tm(s);s=t.focusedElem;var o=t.selectionRange;if(a!==s&&s&&s.ownerDocument&&em(s.ownerDocument.documentElement,s)){if(o!==null&&_c(s)){if(t=o.start,a=o.end,a===void 0&&(a=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(a,s.value.length);else if(a=(t=s.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=s.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!a.extend&&d>o&&(c=o,o=d,d=c),c=Jp(s,d);var g=Jp(s,o);c&&g&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),d>o?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=s;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)a=t[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var US=wn&&"documentMode"in document&&11>=document.documentMode,zs=null,yc=null,Xr=null,vc=!1;function nm(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vc||zs==null||zs!==Ll(o)||(o=zs,"selectionStart"in o&&_c(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xr&&Qr(Xr,o)||(Xr=o,o=Co(yc,"onSelect"),0<o.length&&(s=new Bl("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=zs)))}function Ki(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var js={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},Ec={},im={};wn&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Wi(t){if(Ec[t])return Ec[t];if(!js[t])return t;var s=js[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in im)return Ec[t]=s[a];return t}var sm=Wi("animationend"),rm=Wi("animationiteration"),am=Wi("animationstart"),PS=Wi("transitionrun"),zS=Wi("transitionstart"),jS=Wi("transitioncancel"),lm=Wi("transitionend"),om=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $t(t,s){om.set(t,s),Gi(s,[t])}var Bt=[],Bs=0,bc=0;function Fl(){for(var t=Bs,s=bc=Bs=0;s<t;){var a=Bt[s];Bt[s++]=null;var o=Bt[s];Bt[s++]=null;var c=Bt[s];Bt[s++]=null;var d=Bt[s];if(Bt[s++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&cm(a,c,d)}}function Vl(t,s,a,o){Bt[Bs++]=t,Bt[Bs++]=s,Bt[Bs++]=a,Bt[Bs++]=o,bc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Sc(t,s,a,o){return Vl(t,s,a,o),Gl(t)}function ui(t,s){return Vl(t,null,null,s),Gl(t)}function cm(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;c&&s!==null&&t.tag===3&&(d=t.stateNode,c=31-Dt(a),d=d.hiddenUpdates,t=d[c],t===null?d[c]=[s]:t.push(s),s.lane=a|536870912)}function Gl(t){if(50<ba)throw ba=0,xf=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Hs={},fm=new WeakMap;function Ht(t,s){if(typeof t=="object"&&t!==null){var a=fm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ae(s)},fm.set(t,s),s)}return{value:t,source:s,stack:ae(s)}}var qs=[],Fs=0,Yl=null,Kl=0,qt=[],Ft=0,Qi=null,Rn=1,An="";function Xi(t,s){qs[Fs++]=Kl,qs[Fs++]=Yl,Yl=t,Kl=s}function dm(t,s,a){qt[Ft++]=Rn,qt[Ft++]=An,qt[Ft++]=Qi,Qi=t;var o=Rn;t=An;var c=32-Dt(o)-1;o&=~(1<<c),a+=1;var d=32-Dt(s)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Rn=1<<32-Dt(s)+c|a<<c|o,An=d+t}else Rn=1<<d|a<<c|o,An=t}function Tc(t){t.return!==null&&(Xi(t,1),dm(t,1,0))}function wc(t){for(;t===Yl;)Yl=qs[--Fs],qs[Fs]=null,Kl=qs[--Fs],qs[Fs]=null;for(;t===Qi;)Qi=qt[--Ft],qt[Ft]=null,An=qt[--Ft],qt[Ft]=null,Rn=qt[--Ft],qt[Ft]=null}var _t=null,at=null,Ee=!1,Zt=null,dn=!1,Cc=Error(r(519));function $i(t){var s=Error(r(418,""));throw Jr(Ht(s,t)),Cc}function hm(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[ct]=t,s[bt]=o,a){case"dialog":ge("cancel",s),ge("close",s);break;case"iframe":case"object":case"embed":ge("load",s);break;case"video":case"audio":for(a=0;a<Ta.length;a++)ge(Ta[a],s);break;case"source":ge("error",s);break;case"img":case"image":case"link":ge("error",s),ge("load",s);break;case"details":ge("toggle",s);break;case"input":ge("invalid",s),Np(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),kl(s);break;case"select":ge("invalid",s);break;case"textarea":ge("invalid",s),Op(s,o.value,o.defaultValue,o.children),kl(s)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||S_(s.textContent,a)?(o.popover!=null&&(ge("beforetoggle",s),ge("toggle",s)),o.onScroll!=null&&ge("scroll",s),o.onScrollEnd!=null&&ge("scrollend",s),o.onClick!=null&&(s.onclick=Ro),s=!0):s=!1,s||$i(t)}function pm(t){for(_t=t.return;_t;)switch(_t.tag){case 3:case 27:dn=!0;return;case 5:case 13:dn=!1;return;default:_t=_t.return}}function $r(t){if(t!==_t)return!1;if(!Ee)return pm(t),Ee=!0,!1;var s=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yf(t.type,t.memoizedProps)),a=!a),a&&(s=!0),s&&at&&$i(t),pm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){at=en(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}at=null}}else at=_t?en(t.stateNode.nextSibling):null;return!0}function Zr(){at=_t=null,Ee=!1}function Jr(t){Zt===null?Zt=[t]:Zt.push(t)}var ea=Error(r(460)),mm=Error(r(474)),Rc={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wl(){}function _m(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Wl,Wl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===ea?Error(r(483)):t;default:if(typeof s.status=="string")s.then(Wl,Wl);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=o}},function(o){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===ea?Error(r(483)):t}throw ta=s,ea}}var ta=null;function ym(){if(ta===null)throw Error(r(459));var t=ta;return ta=null,t}var Vs=null,na=0;function Ql(t){var s=na;return na+=1,Vs===null&&(Vs=[]),_m(Vs,t,s)}function ia(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Xl(t,s){throw s.$$typeof===u?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function vm(t){var s=t._init;return s(t._payload)}function Em(t){function s(N,C){if(t){var O=N.deletions;O===null?(N.deletions=[C],N.flags|=16):O.push(C)}}function a(N,C){if(!t)return null;for(;C!==null;)s(N,C),C=C.sibling;return null}function o(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function c(N,C){return N=bi(N,C),N.index=0,N.sibling=null,N}function d(N,C,O){return N.index=O,t?(O=N.alternate,O!==null?(O=O.index,O<C?(N.flags|=33554434,C):O):(N.flags|=33554434,C)):(N.flags|=1048576,C)}function g(N){return t&&N.alternate===null&&(N.flags|=33554434),N}function v(N,C,O,z){return C===null||C.tag!==6?(C=bf(O,N.mode,z),C.return=N,C):(C=c(C,O),C.return=N,C)}function b(N,C,O,z){var W=O.type;return W===p?P(N,C,O.props.children,z,O.key):C!==null&&(C.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===H&&vm(W)===C.type)?(C=c(C,O.props),ia(C,O),C.return=N,C):(C=mo(O.type,O.key,O.props,null,N.mode,z),ia(C,O),C.return=N,C)}function A(N,C,O,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=Sf(O,N.mode,z),C.return=N,C):(C=c(C,O.children||[]),C.return=N,C)}function P(N,C,O,z,W){return C===null||C.tag!==7?(C=ls(O,N.mode,z,W),C.return=N,C):(C=c(C,O),C.return=N,C)}function j(N,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=bf(""+C,N.mode,O),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case f:return O=mo(C.type,C.key,C.props,null,N.mode,O),ia(O,C),O.return=N,O;case h:return C=Sf(C,N.mode,O),C.return=N,C;case H:var z=C._init;return C=z(C._payload),j(N,C,O)}if($(C)||_e(C))return C=ls(C,N.mode,O,null),C.return=N,C;if(typeof C.then=="function")return j(N,Ql(C),O);if(C.$$typeof===R)return j(N,fo(N,C),O);Xl(N,C)}return null}function M(N,C,O,z){var W=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return W!==null?null:v(N,C,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return O.key===W?b(N,C,O,z):null;case h:return O.key===W?A(N,C,O,z):null;case H:return W=O._init,O=W(O._payload),M(N,C,O,z)}if($(O)||_e(O))return W!==null?null:P(N,C,O,z,null);if(typeof O.then=="function")return M(N,C,Ql(O),z);if(O.$$typeof===R)return M(N,C,fo(N,O),z);Xl(N,O)}return null}function U(N,C,O,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return N=N.get(O)||null,v(C,N,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case f:return N=N.get(z.key===null?O:z.key)||null,b(C,N,z,W);case h:return N=N.get(z.key===null?O:z.key)||null,A(C,N,z,W);case H:var fe=z._init;return z=fe(z._payload),U(N,C,O,z,W)}if($(z)||_e(z))return N=N.get(O)||null,P(C,N,z,W,null);if(typeof z.then=="function")return U(N,C,O,Ql(z),W);if(z.$$typeof===R)return U(N,C,O,fo(C,z),W);Xl(C,z)}return null}function Q(N,C,O,z){for(var W=null,fe=null,X=C,Z=C=0,nt=null;X!==null&&Z<O.length;Z++){X.index>Z?(nt=X,X=null):nt=X.sibling;var be=M(N,X,O[Z],z);if(be===null){X===null&&(X=nt);break}t&&X&&be.alternate===null&&s(N,X),C=d(be,C,Z),fe===null?W=be:fe.sibling=be,fe=be,X=nt}if(Z===O.length)return a(N,X),Ee&&Xi(N,Z),W;if(X===null){for(;Z<O.length;Z++)X=j(N,O[Z],z),X!==null&&(C=d(X,C,Z),fe===null?W=X:fe.sibling=X,fe=X);return Ee&&Xi(N,Z),W}for(X=o(X);Z<O.length;Z++)nt=U(X,N,Z,O[Z],z),nt!==null&&(t&&nt.alternate!==null&&X.delete(nt.key===null?Z:nt.key),C=d(nt,C,Z),fe===null?W=nt:fe.sibling=nt,fe=nt);return t&&X.forEach(function(Ni){return s(N,Ni)}),Ee&&Xi(N,Z),W}function se(N,C,O,z){if(O==null)throw Error(r(151));for(var W=null,fe=null,X=C,Z=C=0,nt=null,be=O.next();X!==null&&!be.done;Z++,be=O.next()){X.index>Z?(nt=X,X=null):nt=X.sibling;var Ni=M(N,X,be.value,z);if(Ni===null){X===null&&(X=nt);break}t&&X&&Ni.alternate===null&&s(N,X),C=d(Ni,C,Z),fe===null?W=Ni:fe.sibling=Ni,fe=Ni,X=nt}if(be.done)return a(N,X),Ee&&Xi(N,Z),W;if(X===null){for(;!be.done;Z++,be=O.next())be=j(N,be.value,z),be!==null&&(C=d(be,C,Z),fe===null?W=be:fe.sibling=be,fe=be);return Ee&&Xi(N,Z),W}for(X=o(X);!be.done;Z++,be=O.next())be=U(X,N,Z,be.value,z),be!==null&&(t&&be.alternate!==null&&X.delete(be.key===null?Z:be.key),C=d(be,C,Z),fe===null?W=be:fe.sibling=be,fe=be);return t&&X.forEach(function(JT){return s(N,JT)}),Ee&&Xi(N,Z),W}function Fe(N,C,O,z){if(typeof O=="object"&&O!==null&&O.type===p&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case f:e:{for(var W=O.key;C!==null;){if(C.key===W){if(W=O.type,W===p){if(C.tag===7){a(N,C.sibling),z=c(C,O.props.children),z.return=N,N=z;break e}}else if(C.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===H&&vm(W)===C.type){a(N,C.sibling),z=c(C,O.props),ia(z,O),z.return=N,N=z;break e}a(N,C);break}else s(N,C);C=C.sibling}O.type===p?(z=ls(O.props.children,N.mode,z,O.key),z.return=N,N=z):(z=mo(O.type,O.key,O.props,null,N.mode,z),ia(z,O),z.return=N,N=z)}return g(N);case h:e:{for(W=O.key;C!==null;){if(C.key===W)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){a(N,C.sibling),z=c(C,O.children||[]),z.return=N,N=z;break e}else{a(N,C);break}else s(N,C);C=C.sibling}z=Sf(O,N.mode,z),z.return=N,N=z}return g(N);case H:return W=O._init,O=W(O._payload),Fe(N,C,O,z)}if($(O))return Q(N,C,O,z);if(_e(O)){if(W=_e(O),typeof W!="function")throw Error(r(150));return O=W.call(O),se(N,C,O,z)}if(typeof O.then=="function")return Fe(N,C,Ql(O),z);if(O.$$typeof===R)return Fe(N,C,fo(N,O),z);Xl(N,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(a(N,C.sibling),z=c(C,O),z.return=N,N=z):(a(N,C),z=bf(O,N.mode,z),z.return=N,N=z),g(N)):a(N,C)}return function(N,C,O,z){try{na=0;var W=Fe(N,C,O,z);return Vs=null,W}catch(X){if(X===ea)throw X;var fe=Kt(29,X,null,N.mode);return fe.lanes=z,fe.return=N,fe}finally{}}}var Zi=Em(!0),bm=Em(!1),Gs=Te(null),$l=Te(0);function Sm(t,s){t=zn,Ue($l,t),Ue(Gs,s),zn=t|s.baseLanes}function Ac(){Ue($l,zn),Ue(Gs,Gs.current)}function Nc(){zn=$l.current,Ye(Gs),Ye($l)}var Vt=Te(null),hn=null;function ci(t){var s=t.alternate;Ue(Xe,Xe.current&1),Ue(Vt,t),hn===null&&(s===null||Gs.current!==null||s.memoizedState!==null)&&(hn=t)}function Tm(t){if(t.tag===22){if(Ue(Xe,Xe.current),Ue(Vt,t),hn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(hn=t)}}else fi()}function fi(){Ue(Xe,Xe.current),Ue(Vt,Vt.current)}function Nn(t){Ye(Vt),hn===t&&(hn=null),Ye(Xe)}var Xe=Te(0);function Zl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var BS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},HS=n.unstable_scheduleCallback,qS=n.unstable_NormalPriority,$e={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xc(){return{controller:new BS,data:new Map,refCount:0}}function sa(t){t.refCount--,t.refCount===0&&HS(qS,function(){t.controller.abort()})}var ra=null,Oc=0,Ys=0,Ks=null;function FS(t,s){if(ra===null){var a=ra=[];Oc=0,Ys=Pf(),Ks={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Oc++,s.then(wm,wm),s}function wm(){if(--Oc===0&&ra!==null){Ks!==null&&(Ks.status="fulfilled");var t=ra;ra=null,Ys=0,Ks=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function VS(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Cm=G.S;G.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&FS(t,s),Cm!==null&&Cm(t,s)};var Ji=Te(null);function Dc(){var t=Ji.current;return t!==null?t:De.pooledCache}function Jl(t,s){s===null?Ue(Ji,Ji.current):Ue(Ji,s.pool)}function Rm(){var t=Dc();return t===null?null:{parent:$e._currentValue,pool:t}}var di=0,ce=null,Ce=null,Ke=null,eo=!1,Ws=!1,es=!1,to=0,aa=0,Qs=null,GS=0;function Ge(){throw Error(r(321))}function Ic(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!It(t[a],s[a]))return!1;return!0}function Mc(t,s,a,o,c,d){return di=d,ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=t===null||t.memoizedState===null?ts:hi,es=!1,d=a(o,c),es=!1,Ws&&(d=Nm(s,a,o,c)),Am(t),d}function Am(t){G.H=pn;var s=Ce!==null&&Ce.next!==null;if(di=0,Ke=Ce=ce=null,eo=!1,aa=0,Qs=null,s)throw Error(r(300));t===null||et||(t=t.dependencies,t!==null&&co(t)&&(et=!0))}function Nm(t,s,a,o){ce=t;var c=0;do{if(Ws&&(Qs=null),aa=0,Ws=!1,25<=c)throw Error(r(301));if(c+=1,Ke=Ce=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=ns,d=s(a,o)}while(Ws);return d}function YS(){var t=G.H,s=t.useState()[0];return s=typeof s.then=="function"?la(s):s,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(ce.flags|=1024),s}function kc(){var t=to!==0;return to=0,t}function Lc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Uc(t){if(eo){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}eo=!1}di=0,Ke=Ce=ce=null,Ws=!1,aa=to=0,Qs=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function We(){if(Ce===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var s=Ke===null?ce.memoizedState:Ke.next;if(s!==null)Ke=s,Ce=t;else{if(t===null)throw ce.alternate===null?Error(r(467)):Error(r(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ke===null?ce.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}var no;no=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function la(t){var s=aa;return aa+=1,Qs===null&&(Qs=[]),t=_m(Qs,t,s),s=ce,(Ke===null?s.memoizedState:Ke.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?ts:hi),t}function io(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return la(t);if(t.$$typeof===R)return ft(t)}throw Error(r(438,String(t)))}function Pc(t){var s=null,a=ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=ce.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=no(),ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=ie;return s.index++,a}function xn(t,s){return typeof s=="function"?s(t):s}function so(t){var s=We();return zc(s,Ce,t)}function zc(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}s.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{s=c.next;var v=g=null,b=null,A=s,P=!1;do{var j=A.lane&-536870913;if(j!==A.lane?(ve&j)===j:(di&j)===j){var M=A.revertLane;if(M===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),j===Ys&&(P=!0);else if((di&M)===M){A=A.next,M===Ys&&(P=!0);continue}else j={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=j,g=d):b=b.next=j,ce.lanes|=M,Si|=M;j=A.action,es&&a(d,j),d=A.hasEagerState?A.eagerState:a(d,j)}else M={lane:j,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=M,g=d):b=b.next=M,ce.lanes|=j,Si|=j;A=A.next}while(A!==null&&A!==s);if(b===null?g=d:b.next=v,!It(d,t.memoizedState)&&(et=!0,P&&(a=Ks,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=b,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function jc(t){var s=We(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,c=a.pending,d=s.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);It(d,s.memoizedState)||(et=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,o]}function xm(t,s,a){var o=ce,c=We(),d=Ee;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var g=!It((Ce||c).memoizedState,a);if(g&&(c.memoizedState=a,et=!0),c=c.queue,qc(Im.bind(null,o,c,t),[t]),c.getSnapshot!==s||g||Ke!==null&&Ke.memoizedState.tag&1){if(o.flags|=2048,Xs(9,Dm.bind(null,o,c,a,s),{destroy:void 0},null),De===null)throw Error(r(349));d||(di&60)!==0||Om(o,s,a)}return a}function Om(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ce.updateQueue,s===null?(s=no(),ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Dm(t,s,a,o){s.value=a,s.getSnapshot=o,Mm(s)&&km(t)}function Im(t,s,a){return a(function(){Mm(s)&&km(t)})}function Mm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!It(t,a)}catch{return!0}}function km(t){var s=ui(t,2);s!==null&&yt(s,t,2)}function Bc(t){var s=Tt();if(typeof t=="function"){var a=t;if(t=a(),es){ai(!0);try{a()}finally{ai(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:t},s}function Lm(t,s,a,o){return t.baseState=a,zc(t,Ce,typeof o=="function"?o:xn)}function KS(t,s,a,o,c){if(lo(t))throw Error(r(485));if(t=s.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=s.pending,a===null?(d.next=s.pending=d,Um(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Um(t,s){var a=s.action,o=s.payload,c=t.state;if(s.isTransition){var d=G.T,g={};G.T=g;try{var v=a(c,o),b=G.S;b!==null&&b(g,v),Pm(t,s,v)}catch(A){Hc(t,s,A)}finally{G.T=d}}else try{d=a(c,o),Pm(t,s,d)}catch(A){Hc(t,s,A)}}function Pm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){zm(t,s,o)},function(o){return Hc(t,s,o)}):zm(t,s,a)}function zm(t,s,a){s.status="fulfilled",s.value=a,jm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Um(t,a)))}function Hc(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,jm(s),s=s.next;while(s!==o)}t.action=null}function jm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Bm(t,s){return s}function Hm(t,s){if(Ee){var a=De.formState;if(a!==null){e:{var o=ce;if(Ee){if(at){t:{for(var c=at,d=dn;c.nodeType!==8;){if(!d){c=null;break t}if(c=en(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){at=en(c.nextSibling),o=c.data==="F!";break e}}$i(o)}o=!1}o&&(s=a[0])}}return a=Tt(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:s},a.queue=o,a=rg.bind(null,ce,o),o.dispatch=a,o=Bc(!1),d=Kc.bind(null,ce,!1,o.queue),o=Tt(),c={state:s,dispatch:null,action:t,pending:null},o.queue=c,a=KS.bind(null,ce,c,d,a),c.dispatch=a,o.memoizedState=t,[s,a,!1]}function qm(t){var s=We();return Fm(s,Ce,t)}function Fm(t,s,a){s=zc(t,s,Bm)[0],t=so(xn)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?la(s):s;var o=We(),c=o.queue,d=c.dispatch;return a!==o.memoizedState&&(ce.flags|=2048,Xs(9,WS.bind(null,c,a),{destroy:void 0},null)),[s,d,t]}function WS(t,s){t.action=s}function Vm(t){var s=We(),a=Ce;if(a!==null)return Fm(s,a,t);We(),s=s.memoizedState,a=We();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function Xs(t,s,a,o){return t={tag:t,create:s,inst:a,deps:o,next:null},s=ce.updateQueue,s===null&&(s=no(),ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Gm(){return We().memoizedState}function ro(t,s,a,o){var c=Tt();ce.flags|=t,c.memoizedState=Xs(1|s,a,{destroy:void 0},o===void 0?null:o)}function ao(t,s,a,o){var c=We();o=o===void 0?null:o;var d=c.memoizedState.inst;Ce!==null&&o!==null&&Ic(o,Ce.memoizedState.deps)?c.memoizedState=Xs(s,a,d,o):(ce.flags|=t,c.memoizedState=Xs(1|s,a,d,o))}function Ym(t,s){ro(8390656,8,t,s)}function qc(t,s){ao(2048,8,t,s)}function Km(t,s){return ao(4,2,t,s)}function Wm(t,s){return ao(4,4,t,s)}function Qm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Xm(t,s,a){a=a!=null?a.concat([t]):null,ao(4,4,Qm.bind(null,s,t),a)}function Fc(){}function $m(t,s){var a=We();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Ic(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Zm(t,s){var a=We();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Ic(s,o[1]))return o[0];if(o=t(),es){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[o,s],o}function Vc(t,s,a){return a===void 0||(di&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=e_(),ce.lanes|=t,Si|=t,a)}function Jm(t,s,a,o){return It(a,s)?a:Gs.current!==null?(t=Vc(t,a,o),It(t,s)||(et=!0),t):(di&42)===0?(et=!0,t.memoizedState=a):(t=e_(),ce.lanes|=t,Si|=t,s)}function eg(t,s,a,o,c){var d=Y.p;Y.p=d!==0&&8>d?d:8;var g=G.T,v={};G.T=v,Kc(t,!1,s,a);try{var b=c(),A=G.S;if(A!==null&&A(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var P=VS(b,o);oa(t,s,P,Ut(t))}else oa(t,s,o,Ut(t))}catch(j){oa(t,s,{then:function(){},status:"rejected",reason:j},Ut())}finally{Y.p=d,G.T=g}}function QS(){}function Gc(t,s,a,o){if(t.tag!==5)throw Error(r(476));var c=tg(t).queue;eg(t,c,s,ye,a===null?QS:function(){return ng(t),a(o)})}function tg(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function ng(t){var s=tg(t).next.queue;oa(t,s,{},Ut())}function Yc(){return ft(Na)}function ig(){return We().memoizedState}function sg(){return We().memoizedState}function XS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Ut();t=gi(a);var o=_i(s,t,a);o!==null&&(yt(o,s,a),fa(o,s,a)),s={cache:xc()},t.payload=s;return}s=s.return}}function $S(t,s,a){var o=Ut();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lo(t)?ag(s,a):(a=Sc(t,s,a,o),a!==null&&(yt(a,t,o),lg(a,s,o)))}function rg(t,s,a){var o=Ut();oa(t,s,a,o)}function oa(t,s,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lo(t))ag(s,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var g=s.lastRenderedState,v=d(g,a);if(c.hasEagerState=!0,c.eagerState=v,It(v,g))return Vl(t,s,c,0),De===null&&Fl(),!1}catch{}finally{}if(a=Sc(t,s,c,o),a!==null)return yt(a,t,o),lg(a,s,o),!0}return!1}function Kc(t,s,a,o){if(o={lane:2,revertLane:Pf(),action:o,hasEagerState:!1,eagerState:null,next:null},lo(t)){if(s)throw Error(r(479))}else s=Sc(t,a,o,2),s!==null&&yt(s,t,2)}function lo(t){var s=t.alternate;return t===ce||s!==null&&s===ce}function ag(t,s){Ws=eo=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function lg(t,s,a){if((a&4194176)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,yp(t,a)}}var pn={readContext:ft,use:io,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge};pn.useCacheRefresh=Ge,pn.useMemoCache=Ge,pn.useHostTransitionStatus=Ge,pn.useFormState=Ge,pn.useActionState=Ge,pn.useOptimistic=Ge;var ts={readContext:ft,use:io,useCallback:function(t,s){return Tt().memoizedState=[t,s===void 0?null:s],t},useContext:ft,useEffect:Ym,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ro(4194308,4,Qm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ro(4194308,4,t,s)},useInsertionEffect:function(t,s){ro(4,2,t,s)},useMemo:function(t,s){var a=Tt();s=s===void 0?null:s;var o=t();if(es){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=Tt();if(a!==void 0){var c=a(s);if(es){ai(!0);try{a(s)}finally{ai(!1)}}}else c=s;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=$S.bind(null,ce,t),[o.memoizedState,t]},useRef:function(t){var s=Tt();return t={current:t},s.memoizedState=t},useState:function(t){t=Bc(t);var s=t.queue,a=rg.bind(null,ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Fc,useDeferredValue:function(t,s){var a=Tt();return Vc(a,t,s)},useTransition:function(){var t=Bc(!1);return t=eg.bind(null,ce,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=ce,c=Tt();if(Ee){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),De===null)throw Error(r(349));(ve&60)!==0||Om(o,s,a)}c.memoizedState=a;var d={value:a,getSnapshot:s};return c.queue=d,Ym(Im.bind(null,o,d,t),[t]),o.flags|=2048,Xs(9,Dm.bind(null,o,d,a,s),{destroy:void 0},null),a},useId:function(){var t=Tt(),s=De.identifierPrefix;if(Ee){var a=An,o=Rn;a=(o&~(1<<32-Dt(o)-1)).toString(32)+a,s=":"+s+"R"+a,a=to++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=GS++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},useCacheRefresh:function(){return Tt().memoizedState=XS.bind(null,ce)}};ts.useMemoCache=Pc,ts.useHostTransitionStatus=Yc,ts.useFormState=Hm,ts.useActionState=Hm,ts.useOptimistic=function(t){var s=Tt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Kc.bind(null,ce,!0,a),a.dispatch=s,[t,s]};var hi={readContext:ft,use:io,useCallback:$m,useContext:ft,useEffect:qc,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Wm,useMemo:Zm,useReducer:so,useRef:Gm,useState:function(){return so(xn)},useDebugValue:Fc,useDeferredValue:function(t,s){var a=We();return Jm(a,Ce.memoizedState,t,s)},useTransition:function(){var t=so(xn)[0],s=We().memoizedState;return[typeof t=="boolean"?t:la(t),s]},useSyncExternalStore:xm,useId:ig};hi.useCacheRefresh=sg,hi.useMemoCache=Pc,hi.useHostTransitionStatus=Yc,hi.useFormState=qm,hi.useActionState=qm,hi.useOptimistic=function(t,s){var a=We();return Lm(a,Ce,t,s)};var ns={readContext:ft,use:io,useCallback:$m,useContext:ft,useEffect:qc,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Wm,useMemo:Zm,useReducer:jc,useRef:Gm,useState:function(){return jc(xn)},useDebugValue:Fc,useDeferredValue:function(t,s){var a=We();return Ce===null?Vc(a,t,s):Jm(a,Ce.memoizedState,t,s)},useTransition:function(){var t=jc(xn)[0],s=We().memoizedState;return[typeof t=="boolean"?t:la(t),s]},useSyncExternalStore:xm,useId:ig};ns.useCacheRefresh=sg,ns.useMemoCache=Pc,ns.useHostTransitionStatus=Yc,ns.useFormState=Vm,ns.useActionState=Vm,ns.useOptimistic=function(t,s){var a=We();return Ce!==null?Lm(a,Ce,t,s):(a.baseState=t,[t,a.queue.dispatch])};function Wc(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:re({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qc={isMounted:function(t){return(t=t._reactInternals)?te(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Ut(),c=gi(o);c.payload=s,a!=null&&(c.callback=a),s=_i(t,c,o),s!==null&&(yt(s,t,o),fa(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Ut(),c=gi(o);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=_i(t,c,o),s!==null&&(yt(s,t,o),fa(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Ut(),o=gi(a);o.tag=2,s!=null&&(o.callback=s),s=_i(t,o,a),s!==null&&(yt(s,t,a),fa(s,t,a))}};function og(t,s,a,o,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,g):s.prototype&&s.prototype.isPureReactComponent?!Qr(a,o)||!Qr(c,d):!0}function ug(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Qc.enqueueReplaceState(s,s.state,null)}function is(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=re({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cg(t){oo(t)}function fg(t){console.error(t)}function dg(t){oo(t)}function uo(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function hg(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Xc(t,s,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){uo(t,s)},a}function pg(t){return t=gi(t),t.tag=3,t}function mg(t,s,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){hg(s,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){hg(s,a,o),typeof c!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function ZS(t,s,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&ca(s,a,c,!0),a=Vt.current,a!==null){switch(a.tag){case 13:return hn===null?If():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===Rc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),kf(t,o,c)),!1;case 22:return a.flags|=65536,o===Rc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),kf(t,o,c)),!1}throw Error(r(435,a.tag))}return kf(t,o,c),If(),!1}if(Ee)return s=Vt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,o!==Cc&&(t=Error(r(422),{cause:o}),Jr(Ht(t,a)))):(o!==Cc&&(s=Error(r(423),{cause:o}),Jr(Ht(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=Ht(o,a),c=Xc(t.stateNode,o,c),df(t,c),qe!==4&&(qe=2)),!1;var d=Error(r(520),{cause:o});if(d=Ht(d,a),va===null?va=[d]:va.push(d),qe!==4&&(qe=2),s===null)return!0;o=Ht(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Xc(a.stateNode,o,t),df(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ti===null||!Ti.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=pg(c),mg(c,t,a,o),df(a,c),!1}a=a.return}while(a!==null);return!1}var gg=Error(r(461)),et=!1;function lt(t,s,a,o){s.child=t===null?bm(s,null,a,o):Zi(s,t.child,a,o)}function _g(t,s,a,o,c){a=a.render;var d=s.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return rs(s),o=Mc(t,s,a,g,d,c),v=kc(),t!==null&&!et?(Lc(t,s,c),On(t,s,c)):(Ee&&v&&Tc(s),s.flags|=1,lt(t,s,o,c),s.child)}function yg(t,s,a,o,c){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,vg(t,s,d,o,c)):(t=mo(a.type,null,o,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!af(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qr,a(g,o)&&t.ref===s.ref)return On(t,s,c)}return s.flags|=1,t=bi(d,o),t.ref=s.ref,t.return=s,s.child=t}function vg(t,s,a,o,c){if(t!==null){var d=t.memoizedProps;if(Qr(d,o)&&t.ref===s.ref)if(et=!1,s.pendingProps=o=d,af(t,c))(t.flags&131072)!==0&&(et=!0);else return s.lanes=t.lanes,On(t,s,c)}return $c(t,s,a,o,c)}function Eg(t,s,a){var o=s.pendingProps,c=o.children,d=(s.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(ua(t,s),o.mode==="hidden"||d){if((s.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,t!==null){for(c=s.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;s.childLanes=d&~o}else s.childLanes=0,s.child=null;return bg(t,s,o,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jl(s,g!==null?g.cachePool:null),g!==null?Sm(s,g):Ac(),Tm(s);else return s.lanes=s.childLanes=536870912,bg(t,s,g!==null?g.baseLanes|a:a,a)}else g!==null?(Jl(s,g.cachePool),Sm(s,g),fi(),s.memoizedState=null):(t!==null&&Jl(s,null),Ac(),fi());return lt(t,s,c,a),s.child}function bg(t,s,a,o){var c=Dc();return c=c===null?null:{parent:$e._currentValue,pool:c},s.memoizedState={baseLanes:a,cachePool:c},t!==null&&Jl(s,null),Ac(),Tm(s),t!==null&&ca(t,s,o,!0),null}function ua(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=2097664)}}function $c(t,s,a,o,c){return rs(s),a=Mc(t,s,a,o,void 0,c),o=kc(),t!==null&&!et?(Lc(t,s,c),On(t,s,c)):(Ee&&o&&Tc(s),s.flags|=1,lt(t,s,a,c),s.child)}function Sg(t,s,a,o,c,d){return rs(s),s.updateQueue=null,a=Nm(s,o,a,c),Am(t),o=kc(),t!==null&&!et?(Lc(t,s,d),On(t,s,d)):(Ee&&o&&Tc(s),s.flags|=1,lt(t,s,a,d),s.child)}function Tg(t,s,a,o,c){if(rs(s),s.stateNode===null){var d=Hs,g=a.contextType;typeof g=="object"&&g!==null&&(d=ft(g)),d=new a(o,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qc,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=o,d.state=s.memoizedState,d.refs={},cf(s),g=a.contextType,d.context=typeof g=="object"&&g!==null?ft(g):Hs,d.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Wc(s,a,g,o),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Qc.enqueueReplaceState(d,d.state,null),ha(s,o,d,c),da(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){d=s.stateNode;var v=s.memoizedProps,b=is(a,v);d.props=b;var A=d.context,P=a.contextType;g=Hs,typeof P=="object"&&P!==null&&(g=ft(P));var j=a.getDerivedStateFromProps;P=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=s.pendingProps!==v,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||A!==g)&&ug(s,d,o,g),mi=!1;var M=s.memoizedState;d.state=M,ha(s,o,d,c),da(),A=s.memoizedState,v||M!==A||mi?(typeof j=="function"&&(Wc(s,a,j,o),A=s.memoizedState),(b=mi||og(s,a,b,o,M,A,g))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=A),d.props=o,d.state=A,d.context=g,o=b):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{d=s.stateNode,ff(t,s),g=s.memoizedProps,P=is(a,g),d.props=P,j=s.pendingProps,M=d.context,A=a.contextType,b=Hs,typeof A=="object"&&A!==null&&(b=ft(A)),v=a.getDerivedStateFromProps,(A=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==j||M!==b)&&ug(s,d,o,b),mi=!1,M=s.memoizedState,d.state=M,ha(s,o,d,c),da();var U=s.memoizedState;g!==j||M!==U||mi||t!==null&&t.dependencies!==null&&co(t.dependencies)?(typeof v=="function"&&(Wc(s,a,v,o),U=s.memoizedState),(P=mi||og(s,a,P,o,M,U,b)||t!==null&&t.dependencies!==null&&co(t.dependencies))?(A||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,U,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,U,b)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=U),d.props=o,d.state=U,d.context=b,o=P):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(s.flags|=1024),o=!1)}return d=o,ua(t,s),o=(s.flags&128)!==0,d||o?(d=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&o?(s.child=Zi(s,t.child,null,c),s.child=Zi(s,null,a,c)):lt(t,s,a,c),s.memoizedState=d.state,t=s.child):t=On(t,s,c),t}function wg(t,s,a,o){return Zr(),s.flags|=256,lt(t,s,a,o),s.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function Jc(t){return{baseLanes:t,cachePool:Rm()}}function ef(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Wt),t}function Cg(t,s,a){var o=s.pendingProps,c=!1,d=(s.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),g&&(c=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ee){if(c?ci(s):fi(),Ee){var v=at,b;if(b=v){e:{for(b=v,v=dn;b.nodeType!==8;){if(!v){v=null;break e}if(b=en(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(s.memoizedState={dehydrated:v,treeContext:Qi!==null?{id:Rn,overflow:An}:null,retryLane:536870912},b=Kt(18,null,null,0),b.stateNode=v,b.return=s,s.child=b,_t=s,at=null,b=!0):b=!1}b||$i(s)}if(v=s.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return v.data==="$!"?s.lanes=16:s.lanes=536870912,null;Nn(s)}return v=o.children,o=o.fallback,c?(fi(),c=s.mode,v=nf({mode:"hidden",children:v},c),o=ls(o,c,a,null),v.return=s,o.return=s,v.sibling=o,s.child=v,c=s.child,c.memoizedState=Jc(a),c.childLanes=ef(t,g,a),s.memoizedState=Zc,o):(ci(s),tf(s,v))}if(b=t.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(d)s.flags&256?(ci(s),s.flags&=-257,s=sf(t,s,a)):s.memoizedState!==null?(fi(),s.child=t.child,s.flags|=128,s=null):(fi(),c=o.fallback,v=s.mode,o=nf({mode:"visible",children:o.children},v),c=ls(c,v,a,null),c.flags|=2,o.return=s,c.return=s,o.sibling=c,s.child=o,Zi(s,t.child,null,a),o=s.child,o.memoizedState=Jc(a),o.childLanes=ef(t,g,a),s.memoizedState=Zc,s=c);else if(ci(s),v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var A=g.dgst;g=A,o=Error(r(419)),o.stack="",o.digest=g,Jr({value:o,source:null,stack:null}),s=sf(t,s,a)}else if(et||ca(t,s,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=De,g!==null){if(o=a&-a,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(g.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,ui(t,o),yt(g,t,o),gg}v.data==="$?"||If(),s=sf(t,s,a)}else v.data==="$?"?(s.flags|=128,s.child=t.child,s=hT.bind(null,t),v._reactRetry=s,s=null):(t=b.treeContext,at=en(v.nextSibling),_t=s,Ee=!0,Zt=null,dn=!1,t!==null&&(qt[Ft++]=Rn,qt[Ft++]=An,qt[Ft++]=Qi,Rn=t.id,An=t.overflow,Qi=s),s=tf(s,o.children),s.flags|=4096);return s}return c?(fi(),c=o.fallback,v=s.mode,b=t.child,A=b.sibling,o=bi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,A!==null?c=bi(A,c):(c=ls(c,v,a,null),c.flags|=2),c.return=s,o.return=s,o.sibling=c,s.child=o,o=c,c=s.child,v=t.child.memoizedState,v===null?v=Jc(a):(b=v.cachePool,b!==null?(A=$e._currentValue,b=b.parent!==A?{parent:A,pool:A}:b):b=Rm(),v={baseLanes:v.baseLanes|a,cachePool:b}),c.memoizedState=v,c.childLanes=ef(t,g,a),s.memoizedState=Zc,o):(ci(s),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(g=s.deletions,g===null?(s.deletions=[t],s.flags|=16):g.push(t)),s.child=a,s.memoizedState=null,a)}function tf(t,s){return s=nf({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function nf(t,s){return $g(t,s,0,null)}function sf(t,s,a){return Zi(s,t.child,null,a),t=tf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Rg(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),of(t.return,s,a)}function rf(t,s,a,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function Ag(t,s,a){var o=s.pendingProps,c=o.revealOrder,d=o.tail;if(lt(t,s,o.children,a),o=Xe.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rg(t,a,s);else if(t.tag===19)Rg(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(Ue(Xe,o),c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&Zl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),rf(s,!1,c,a,d);break;case"backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Zl(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}rf(s,!0,a,null,d);break;case"together":rf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function On(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Si|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ca(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=bi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function af(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&co(t)))}function JS(t,s,a){switch(s.tag){case 3:Rl(s,s.stateNode.containerInfo),pi(s,$e,t.memoizedState.cache),Zr();break;case 27:case 5:Qu(s);break;case 4:Rl(s,s.stateNode.containerInfo);break;case 10:pi(s,s.type,s.memoizedProps.value);break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(ci(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cg(t,s,a):(ci(s),t=On(t,s,a),t!==null?t.sibling:null);ci(s);break;case 19:var c=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(ca(t,s,a,!1),o=(a&s.childLanes)!==0),c){if(o)return Ag(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ue(Xe,Xe.current),o)break;return null;case 22:case 23:return s.lanes=0,Eg(t,s,a);case 24:pi(s,$e,t.memoizedState.cache)}return On(t,s,a)}function Ng(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)et=!0;else{if(!af(t,a)&&(s.flags&128)===0)return et=!1,JS(t,s,a);et=(t.flags&131072)!==0}else et=!1,Ee&&(s.flags&1048576)!==0&&dm(s,Kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var o=s.elementType,c=o._init;if(o=c(o._payload),s.type=o,typeof o=="function")Ef(o)?(t=is(o,t),s.tag=1,s=Tg(null,s,o,t,a)):(s.tag=0,s=$c(null,s,o,t,a));else{if(o!=null){if(c=o.$$typeof,c===S){s.tag=11,s=_g(null,s,o,t,a);break e}else if(c===L){s.tag=14,s=yg(null,s,o,t,a);break e}}throw s=Pe(o)||o,Error(r(306,s,""))}}return s;case 0:return $c(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,c=is(o,s.pendingProps),Tg(t,s,o,c,a);case 3:e:{if(Rl(s,s.stateNode.containerInfo),t===null)throw Error(r(387));var d=s.pendingProps;c=s.memoizedState,o=c.element,ff(t,s),ha(s,d,null,a);var g=s.memoizedState;if(d=g.cache,pi(s,$e,d),d!==c.cache&&uf(s,[$e],a,!0),da(),d=g.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=c,s.memoizedState=c,s.flags&256){s=wg(t,s,d,a);break e}else if(d!==o){o=Ht(Error(r(424)),s),Jr(o),s=wg(t,s,d,a);break e}else for(at=en(s.stateNode.containerInfo.firstChild),_t=s,Ee=!0,Zt=null,dn=!0,a=bm(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zr(),d===o){s=On(t,s,a);break e}lt(t,s,d,a)}s=s.child}return s;case 26:return ua(t,s),t===null?(a=D_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ee||(a=s.type,t=s.pendingProps,o=Ao(ri.current).createElement(a),o[ct]=s,o[bt]=t,ot(o,a,t),Je(o),s.stateNode=o):s.memoizedState=D_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Qu(s),t===null&&Ee&&(o=s.stateNode=N_(s.type,s.pendingProps,ri.current),_t=s,dn=!0,at=en(o.firstChild)),o=s.pendingProps.children,t!==null||Ee?lt(t,s,o,a):s.child=Zi(s,null,o,a),ua(t,s),s.child;case 5:return t===null&&Ee&&((c=o=at)&&(o=xT(o,s.type,s.pendingProps,dn),o!==null?(s.stateNode=o,_t=s,at=en(o.firstChild),dn=!1,c=!0):c=!1),c||$i(s)),Qu(s),c=s.type,d=s.pendingProps,g=t!==null?t.memoizedProps:null,o=d.children,Yf(c,d)?o=null:g!==null&&Yf(c,g)&&(s.flags|=32),s.memoizedState!==null&&(c=Mc(t,s,YS,null,null,a),Na._currentValue=c),ua(t,s),lt(t,s,o,a),s.child;case 6:return t===null&&Ee&&((t=a=at)&&(a=OT(a,s.pendingProps,dn),a!==null?(s.stateNode=a,_t=s,at=null,t=!0):t=!1),t||$i(s)),null;case 13:return Cg(t,s,a);case 4:return Rl(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Zi(s,null,o,a):lt(t,s,o,a),s.child;case 11:return _g(t,s,s.type,s.pendingProps,a);case 7:return lt(t,s,s.pendingProps,a),s.child;case 8:return lt(t,s,s.pendingProps.children,a),s.child;case 12:return lt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,pi(s,s.type,o.value),lt(t,s,o.children,a),s.child;case 9:return c=s.type._context,o=s.pendingProps.children,rs(s),c=ft(c),o=o(c),s.flags|=1,lt(t,s,o,a),s.child;case 14:return yg(t,s,s.type,s.pendingProps,a);case 15:return vg(t,s,s.type,s.pendingProps,a);case 19:return Ag(t,s,a);case 22:return Eg(t,s,a);case 24:return rs(s),o=ft($e),t===null?(c=Dc(),c===null&&(c=De,d=xc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),s.memoizedState={parent:o,cache:c},cf(s),pi(s,$e,c)):((t.lanes&a)!==0&&(ff(t,s),ha(s,null,null,a),da()),c=t.memoizedState,d=s.memoizedState,c.parent!==o?(c={parent:o,cache:o},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),pi(s,$e,o)):(o=d.cache,pi(s,$e,o),o!==c.cache&&uf(s,[$e],a,!0))),lt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}var lf=Te(null),ss=null,Dn=null;function pi(t,s,a){Ue(lf,s._currentValue),s._currentValue=a}function In(t){t._currentValue=lf.current,Ye(lf)}function of(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function uf(t,s,a,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=c;for(var b=0;b<s.length;b++)if(v.context===s[b]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),of(d.return,a,t),o||(g=null);break e}d=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),of(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ca(t,s,a,o){t=null;for(var c=s,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var v=c.type;It(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===Cl.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Na):t=[Na])}c=c.return}t!==null&&uf(s,t,a,o),s.flags|=262144}function co(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,Dn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return xg(ss,t)}function fo(t,s){return ss===null&&rs(t),xg(t,s)}function xg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Dn===null){if(t===null)throw Error(r(308));Dn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Dn=Dn.next=s;return a}var mi=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _i(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(je&2)!==0){var c=o.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s,s=Gl(t),cm(t,null,a),s}return Vl(t,o,s,a),Gl(t)}function fa(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,yp(t,a)}}function df(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=s:d=d.next=s}else c=d=s;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var hf=!1;function da(){if(hf){var t=Ks;if(t!==null)throw t}}function ha(t,s,a,o){hf=!1;var c=t.updateQueue;mi=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var b=v,A=b.next;b.next=null,g===null?d=A:g.next=A,g=b;var P=t.alternate;P!==null&&(P=P.updateQueue,v=P.lastBaseUpdate,v!==g&&(v===null?P.firstBaseUpdate=A:v.next=A,P.lastBaseUpdate=b))}if(d!==null){var j=c.baseState;g=0,P=A=b=null,v=d;do{var M=v.lane&-536870913,U=M!==v.lane;if(U?(ve&M)===M:(o&M)===M){M!==0&&M===Ys&&(hf=!0),P!==null&&(P=P.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var Q=t,se=v;M=s;var Fe=a;switch(se.tag){case 1:if(Q=se.payload,typeof Q=="function"){j=Q.call(Fe,j,M);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=se.payload,M=typeof Q=="function"?Q.call(Fe,j,M):Q,M==null)break e;j=re({},j,M);break e;case 2:mi=!0}}M=v.callback,M!==null&&(t.flags|=64,U&&(t.flags|=8192),U=c.callbacks,U===null?c.callbacks=[M]:U.push(M))}else U={lane:M,tag:v.tag,payload:v.payload,callback:v.callback,next:null},P===null?(A=P=U,b=j):P=P.next=U,g|=M;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;U=v,v=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);P===null&&(b=j),c.baseState=b,c.firstBaseUpdate=A,c.lastBaseUpdate=P,d===null&&(c.shared.lanes=0),Si|=g,t.lanes=g,t.memoizedState=j}}function Og(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Dg(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],s)}function pa(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&t)===t){o=void 0;var d=a.create,g=a.inst;o=d(),g.destroy=o}a=a.next}while(a!==c)}}catch(v){Ne(s,s.return,v)}}function yi(t,s,a){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=s;var b=a;try{v()}catch(A){Ne(c,b,A)}}}o=o.next}while(o!==d)}}catch(A){Ne(s,s.return,A)}}function Ig(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Dg(s,a)}catch(o){Ne(t,t.return,o)}}}function Mg(t,s,a){a.props=is(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ne(t,s,o)}}function as(t,s){try{var a=t.ref;if(a!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(d){Ne(t,s,d)}}function Mt(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Ne(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ne(t,s,c)}else a.current=null}function kg(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Ne(t,t.return,c)}}function Lg(t,s,a){try{var o=t.stateNode;wT(o,t.type,a,s),o[bt]=s}catch(c){Ne(t,t.return,c)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ro));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(mf(t,s,a),t=t.sibling;t!==null;)mf(t,s,a),t=t.sibling}function ho(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(ho(t,s,a),t=t.sibling;t!==null;)ho(t,s,a),t=t.sibling}var Mn=!1,He=!1,gf=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,tt=null,zg=!1;function eT(t,s){if(t=t.containerInfo,Vf=Mo,t=tm(t),_c(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,v=-1,b=-1,A=0,P=0,j=t,M=null;t:for(;;){for(var U;j!==a||c!==0&&j.nodeType!==3||(v=g+c),j!==d||o!==0&&j.nodeType!==3||(b=g+o),j.nodeType===3&&(g+=j.nodeValue.length),(U=j.firstChild)!==null;)M=j,j=U;for(;;){if(j===t)break t;if(M===a&&++A===c&&(v=g),M===d&&++P===o&&(b=g),(U=j.nextSibling)!==null)break;j=M,M=j.parentNode}j=U}a=v===-1||b===-1?null:{start:v,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:t,selectionRange:a},Mo=!1,tt=s;tt!==null;)if(s=tt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,tt=t;else for(;tt!==null;){switch(s=tt,d=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var Q=is(a.type,c,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(Q,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(se){Ne(a,a.return,se)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,tt=t;break}tt=s.return}return Q=zg,zg=!1,Q}function jg(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(t,a),o&4&&pa(5,a);break;case 1:if(Ln(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){Ne(a,a.return,v)}else{var c=is(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ne(a,a.return,v)}}o&64&&Ig(a),o&512&&as(a,a.return);break;case 3:if(Ln(t,a),o&64&&(o=a.updateQueue,o!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Dg(o,t)}catch(v){Ne(a,a.return,v)}}break;case 26:Ln(t,a),o&512&&as(a,a.return);break;case 27:case 5:Ln(t,a),s===null&&o&4&&kg(a),o&512&&as(a,a.return);break;case 12:Ln(t,a);break;case 13:Ln(t,a),o&4&&qg(t,a);break;case 22:if(c=a.memoizedState!==null||Mn,!c){s=s!==null&&s.memoizedState!==null||He;var d=Mn,g=He;Mn=c,(He=s)&&!g?vi(t,a,(a.subtreeFlags&8772)!==0):Ln(t,a),Mn=d,He=g}o&512&&(a.memoizedProps.mode==="manual"?as(a,a.return):Mt(a,a.return));break;default:Ln(t,a)}}function Bg(t){var s=t.alternate;s!==null&&(t.alternate=null,Bg(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&tc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,kt=!1;function kn(t,s,a){for(a=a.child;a!==null;)Hg(t,s,a),a=a.sibling}function Hg(t,s,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Pr,a)}catch{}switch(a.tag){case 26:He||Mt(a,s),kn(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:He||Mt(a,s);var o=Qe,c=kt;for(Qe=a.stateNode,kn(t,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);tc(a),Qe=o,kt=c;break;case 5:He||Mt(a,s);case 6:c=Qe;var d=kt;if(Qe=null,kn(t,s,a),Qe=c,kt=d,Qe!==null)if(kt)try{t=Qe,o=a.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(g){Ne(a,s,g)}else try{Qe.removeChild(a.stateNode)}catch(g){Ne(a,s,g)}break;case 18:Qe!==null&&(kt?(s=Qe,a=a.stateNode,s.nodeType===8?Wf(s.parentNode,a):s.nodeType===1&&Wf(s,a),Ia(s)):Wf(Qe,a.stateNode));break;case 4:o=Qe,c=kt,Qe=a.stateNode.containerInfo,kt=!0,kn(t,s,a),Qe=o,kt=c;break;case 0:case 11:case 14:case 15:He||yi(2,a,s),He||yi(4,a,s),kn(t,s,a);break;case 1:He||(Mt(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Mg(a,s,o)),kn(t,s,a);break;case 21:kn(t,s,a);break;case 22:He||Mt(a,s),He=(o=He)||a.memoizedState!==null,kn(t,s,a),He=o;break;default:kn(t,s,a)}}function qg(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ia(t)}catch(a){Ne(s,s.return,a)}}function tT(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Pg),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Pg),s;default:throw Error(r(435,t.tag))}}function _f(t,s){var a=tT(t);s.forEach(function(o){var c=pT.bind(null,t,o);a.has(o)||(a.add(o),o.then(c,c))})}function Gt(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=t,g=s,v=g;e:for(;v!==null;){switch(v.tag){case 27:case 5:Qe=v.stateNode,kt=!1;break e;case 3:Qe=v.stateNode.containerInfo,kt=!0;break e;case 4:Qe=v.stateNode.containerInfo,kt=!0;break e}v=v.return}if(Qe===null)throw Error(r(160));Hg(d,g,c),Qe=null,kt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Fg(s,t),s=s.sibling}var Jt=null;function Fg(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(s,t),Yt(t),o&4&&(yi(3,t,t.return),pa(3,t),yi(5,t,t.return));break;case 1:Gt(s,t),Yt(t),o&512&&(He||a===null||Mt(a,a.return)),o&64&&Mn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Jt;if(Gt(s,t),Yt(t),o&512&&(He||a===null||Mt(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Br]||d[ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),ot(d,o,a),d[ct]=t,Je(d),o=d;break e;case"link":var g=k_("link","href",c).get(o+(a.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(v,1);break t}}d=c.createElement(o),ot(d,o,a),c.head.appendChild(d);break;case"meta":if(g=k_("meta","content",c).get(o+(a.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(v,1);break t}}d=c.createElement(o),ot(d,o,a),c.head.appendChild(d);break;default:throw Error(r(468,o))}d[ct]=t,Je(d),o=d}t.stateNode=o}else L_(c,t.type,t.stateNode);else t.stateNode=M_(c,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?L_(c,t.type,t.stateNode):M_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){c=t.stateNode,d=t.memoizedProps;try{for(var b=c.firstChild;b;){var A=b.nextSibling,P=b.nodeName;b[Br]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=A}for(var j=t.type,M=c.attributes;M.length;)c.removeAttributeNode(M[0]);ot(c,j,d),c[ct]=t,c[bt]=d}catch(Q){Ne(t,t.return,Q)}}case 5:if(Gt(s,t),Yt(t),o&512&&(He||a===null||Mt(a,a.return)),t.flags&32){c=t.stateNode;try{ks(c,"")}catch(Q){Ne(t,t.return,Q)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Lg(t,c,a!==null?a.memoizedProps:c)),o&1024&&(gf=!0);break;case 6:if(Gt(s,t),Yt(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(Q){Ne(t,t.return,Q)}}break;case 3:if(Oo=null,c=Jt,Jt=No(s.containerInfo),Gt(s,t),Jt=c,Yt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ia(s.containerInfo)}catch(Q){Ne(t,t.return,Q)}gf&&(gf=!1,Vg(t));break;case 4:o=Jt,Jt=No(t.stateNode.containerInfo),Gt(s,t),Yt(t),Jt=o;break;case 12:Gt(s,t),Yt(t);break;case 13:Gt(s,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rf=fn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_f(t,o)));break;case 22:if(o&512&&(He||a===null||Mt(a,a.return)),b=t.memoizedState!==null,A=a!==null&&a.memoizedState!==null,P=Mn,j=He,Mn=P||b,He=j||A,Gt(s,t),He=j,Mn=P,Yt(t),s=t.stateNode,s._current=t,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,o&8192&&(s._visibility=b?s._visibility&-2:s._visibility|1,b&&(s=Mn||He,a===null||A||s||$s(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,s=t;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){A=a=s;try{if(c=A.stateNode,b)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=A.stateNode,v=A.memoizedProps.style;var U=v!=null&&v.hasOwnProperty("display")?v.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(Q){Ne(A,A.return,Q)}}}else if(s.tag===6){if(a===null){A=s;try{A.stateNode.nodeValue=b?"":A.memoizedProps}catch(Q){Ne(A,A.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,_f(t,a))));break;case 19:Gt(s,t),Yt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_f(t,o)));break;case 21:break;default:Gt(s,t),Yt(t)}}function Yt(t){var s=t.flags;if(s&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Ug(a)){var o=a;break e}a=a.return}throw Error(r(160))}switch(o.tag){case 27:var c=o.stateNode,d=pf(t);ho(t,d,c);break;case 5:var g=o.stateNode;o.flags&32&&(ks(g,""),o.flags&=-33);var v=pf(t);ho(t,v,g);break;case 3:case 4:var b=o.stateNode.containerInfo,A=pf(t);mf(t,A,b);break;default:throw Error(r(161))}}}catch(P){Ne(t,t.return,P)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Vg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Vg(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ln(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jg(t,s.alternate,s),s=s.sibling}function $s(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:yi(4,s,s.return),$s(s);break;case 1:Mt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Mg(s,s.return,a),$s(s);break;case 26:case 27:case 5:Mt(s,s.return),$s(s);break;case 22:Mt(s,s.return),s.memoizedState===null&&$s(s);break;default:$s(s)}t=t.sibling}}function vi(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,c=t,d=s,g=d.flags;switch(d.tag){case 0:case 11:case 15:vi(c,d,a),pa(4,d);break;case 1:if(vi(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Ne(o,o.return,A)}if(o=d,c=o.updateQueue,c!==null){var v=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Og(b[c],v)}catch(A){Ne(o,o.return,A)}}a&&g&64&&Ig(d),as(d,d.return);break;case 26:case 27:case 5:vi(c,d,a),a&&o===null&&g&4&&kg(d),as(d,d.return);break;case 12:vi(c,d,a);break;case 13:vi(c,d,a),a&&g&4&&qg(c,d);break;case 22:d.memoizedState===null&&vi(c,d,a),as(d,d.return);break;default:vi(c,d,a)}s=s.sibling}}function yf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sa(a))}function vf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&sa(t))}function Ei(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gg(t,s,a,o),s=s.sibling}function Gg(t,s,a,o){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Ei(t,s,a,o),c&2048&&pa(9,s);break;case 3:Ei(t,s,a,o),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&sa(t)));break;case 12:if(c&2048){Ei(t,s,a,o),t=s.stateNode;try{var d=s.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ne(s,s.return,b)}}else Ei(t,s,a,o);break;case 23:break;case 22:d=s.stateNode,s.memoizedState!==null?d._visibility&4?Ei(t,s,a,o):ma(t,s):d._visibility&4?Ei(t,s,a,o):(d._visibility|=4,Zs(t,s,a,o,(s.subtreeFlags&10256)!==0)),c&2048&&yf(s.alternate,s);break;case 24:Ei(t,s,a,o),c&2048&&vf(s.alternate,s);break;default:Ei(t,s,a,o)}}function Zs(t,s,a,o,c){for(c=c&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=t,g=s,v=a,b=o,A=g.flags;switch(g.tag){case 0:case 11:case 15:Zs(d,g,v,b,c),pa(8,g);break;case 23:break;case 22:var P=g.stateNode;g.memoizedState!==null?P._visibility&4?Zs(d,g,v,b,c):ma(d,g):(P._visibility|=4,Zs(d,g,v,b,c)),c&&A&2048&&yf(g.alternate,g);break;case 24:Zs(d,g,v,b,c),c&&A&2048&&vf(g.alternate,g);break;default:Zs(d,g,v,b,c)}s=s.sibling}}function ma(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,c=o.flags;switch(o.tag){case 22:ma(a,o),c&2048&&yf(o.alternate,o);break;case 24:ma(a,o),c&2048&&vf(o.alternate,o);break;default:ma(a,o)}s=s.sibling}}var ga=8192;function Js(t){if(t.subtreeFlags&ga)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 26:Js(t),t.flags&ga&&t.memoizedState!==null&&FT(Jt,t.memoizedState,t.memoizedProps);break;case 5:Js(t);break;case 3:case 4:var s=Jt;Jt=No(t.stateNode.containerInfo),Js(t),Jt=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=ga,ga=16777216,Js(t),ga=s):Js(t));break;default:Js(t)}}function Kg(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function _a(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];tt=o,Qg(o,t)}Kg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:_a(t),t.flags&2048&&yi(9,t,t.return);break;case 3:_a(t);break;case 12:_a(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&4&&(t.return===null||t.return.tag!==13)?(s._visibility&=-5,po(t)):_a(t);break;default:_a(t)}}function po(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];tt=o,Qg(o,t)}Kg(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:yi(8,s,s.return),po(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,po(s));break;default:po(s)}t=t.sibling}}function Qg(t,s){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:yi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:sa(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,tt=o;else e:for(a=t;tt!==null;){o=tt;var c=o.sibling,d=o.return;if(Bg(o),o===a){tt=null;break e}if(c!==null){c.return=d,tt=c;break e}tt=d}}}function nT(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,s,a,o){return new nT(t,s,a,o)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,s){var a=t.alternate;return a===null?(a=Kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xg(t,s){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function mo(t,s,a,o,c,d){var g=0;if(o=t,typeof t=="function")Ef(t)&&(g=1);else if(typeof t=="string")g=HT(t,a,cn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ls(a.children,c,d,s);case m:g=8,c|=24;break;case _:return t=Kt(12,a,s,c|2),t.elementType=_,t.lanes=d,t;case D:return t=Kt(13,a,s,c),t.elementType=D,t.lanes=d,t;case I:return t=Kt(19,a,s,c),t.elementType=I,t.lanes=d,t;case q:return $g(a,c,d,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case R:g=10;break e;case E:g=9;break e;case S:g=11;break e;case L:g=14;break e;case H:g=16,o=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Kt(g,a,s,c),s.elementType=t,s.type=o,s.lanes=d,s}function ls(t,s,a,o){return t=Kt(7,t,o,s),t.lanes=a,t}function $g(t,s,a,o){t=Kt(22,t,o,s),t.elementType=q,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(r(456));if((c._pendingVisibility&2)===0){var g=ui(d,2);g!==null&&(c._pendingVisibility|=2,yt(g,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(r(456));if((c._pendingVisibility&2)!==0){var g=ui(d,2);g!==null&&(c._pendingVisibility&=-3,yt(g,d,2))}}};return t.stateNode=c,t}function bf(t,s,a){return t=Kt(6,t,null,s),t.lanes=a,t}function Sf(t,s,a){return s=Kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Un(t){t.flags|=4}function Zg(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U_(s)){if(s=Vt.current,s!==null&&((ve&4194176)===ve?hn!==null:(ve&62914560)!==ve&&(ve&536870912)===0||s!==hn))throw ta=Rc,mm;t.flags|=8192}}function go(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?gp():536870912,t.lanes|=s,tr|=s)}function ya(t,s){if(!Ee)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function iT(t,s,a){var o=s.pendingProps;switch(wc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),In($e),Ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&($r(s)?Un(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zt!==null&&(Of(Zt),Zt=null))),ze(s),null;case 26:return a=s.memoizedState,t===null?(Un(s),a!==null?(ze(s),Zg(s,a)):(ze(s),s.flags&=-16777217)):a?a!==t.memoizedState?(Un(s),ze(s),Zg(s,a)):(ze(s),s.flags&=-16777217):(t.memoizedProps!==o&&Un(s),ze(s),s.flags&=-16777217),null;case 27:Al(s),a=ri.current;var c=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return ze(s),null}t=cn.current,$r(s)?hm(s):(t=N_(c,o,a),s.stateNode=t,Un(s))}return ze(s),null;case 5:if(Al(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return ze(s),null}if(t=cn.current,$r(s))hm(s);else{switch(c=Ao(ri.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}t[ct]=s,t[bt]=o;e:for(c=s.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s.stateNode=t;e:switch(ot(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Un(s)}}return ze(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&Un(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=ri.current,$r(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,c=_t,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[ct]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||S_(t.nodeValue,a)),t||$i(s)}else t=Ao(t).createTextNode(o),t[ct]=s,s.stateNode=t}return ze(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$r(s),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ct]=s}else Zr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),c=!1}else Zt!==null&&(Of(Zt),Zt=null),c=!0;if(!c)return s.flags&256?(Nn(s),s):(Nn(s),null)}if(Nn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=s.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),go(s,s.updateQueue),ze(s),null;case 4:return Ns(),t===null&&Hf(s.stateNode.containerInfo),ze(s),null;case 10:return In(s.type),ze(s),null;case 19:if(Ye(Xe),c=s.memoizedState,c===null)return ze(s),null;if(o=(s.flags&128)!==0,d=c.rendering,d===null)if(o)ya(c,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Zl(t),d!==null){for(s.flags|=128,ya(c,!1),t=d.updateQueue,s.updateQueue=t,go(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Xg(a,t),a=a.sibling;return Ue(Xe,Xe.current&1|2),s.child}t=t.sibling}c.tail!==null&&fn()>_o&&(s.flags|=128,o=!0,ya(c,!1),s.lanes=4194304)}else{if(!o)if(t=Zl(d),t!==null){if(s.flags|=128,o=!0,t=t.updateQueue,s.updateQueue=t,go(s,t),ya(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Ee)return ze(s),null}else 2*fn()-c.renderingStartTime>_o&&a!==536870912&&(s.flags|=128,o=!0,ya(c,!1),s.lanes=4194304);c.isBackwards?(d.sibling=s.child,s.child=d):(t=c.last,t!==null?t.sibling=d:s.child=d,c.last=d)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=fn(),s.sibling=null,t=Xe.current,Ue(Xe,o?t&1|2:t&1),s):(ze(s),null);case 22:case 23:return Nn(s),Nc(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&go(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&Ye(Ji),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),In($e),ze(s),null;case 25:return null}throw Error(r(156,s.tag))}function sT(t,s){switch(wc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return In($e),Ns(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Al(s),null;case 13:if(Nn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Zr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ye(Xe),null;case 4:return Ns(),null;case 10:return In(s.type),null;case 22:case 23:return Nn(s),Nc(),t!==null&&Ye(Ji),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return In($e),null;case 25:return null;default:return null}}function Jg(t,s){switch(wc(s),s.tag){case 3:In($e),Ns();break;case 26:case 27:case 5:Al(s);break;case 4:Ns();break;case 13:Nn(s);break;case 19:Ye(Xe);break;case 10:In(s.type);break;case 22:case 23:Nn(s),Nc(),t!==null&&Ye(Ji);break;case 24:In($e)}}var rT={getCacheForType:function(t){var s=ft($e),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,je=0,De=null,pe=null,ve=0,Ie=0,Lt=null,Pn=!1,er=!1,Tf=!1,zn=0,qe=0,Si=0,os=0,wf=0,Wt=0,tr=0,va=null,mn=null,Cf=!1,Rf=0,_o=1/0,yo=null,Ti=null,vo=!1,us=null,Ea=0,Af=0,Nf=null,ba=0,xf=null;function Ut(){if((je&2)!==0&&ve!==0)return ve&-ve;if(G.T!==null){var t=Ys;return t!==0?t:Pf()}return Ep()}function e_(){Wt===0&&(Wt=(ve&536870912)===0||Ee?mp():536870912);var t=Vt.current;return t!==null&&(t.flags|=32),Wt}function yt(t,s,a){(t===De&&Ie===2||t.cancelPendingCommit!==null)&&(nr(t,0),jn(t,ve,Wt,!1)),jr(t,a),((je&2)===0||t!==De)&&(t===De&&((je&2)===0&&(os|=a),qe===4&&jn(t,ve,Wt,!1)),gn(t))}function t_(t,s,a){if((je&6)!==0)throw Error(r(327));var o=!a&&(s&60)===0&&(s&t.expiredLanes)===0||zr(t,s),c=o?uT(t,s):Mf(t,s,!0),d=o;do{if(c===0){er&&!o&&jn(t,s,0,!1);break}else if(c===6)jn(t,s,0,!Pn);else{if(a=t.current.alternate,d&&!lT(a)){c=Mf(t,s,!1),d=!1;continue}if(c===2){if(d=s,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var v=t;c=va;var b=v.current.memoizedState.isDehydrated;if(b&&(nr(v,g).flags|=256),g=Mf(v,g,!1),g!==2){if(Tf&&!b){v.errorRecoveryDisabledLanes|=d,os|=d,c=4;break e}d=mn,mn=c,d!==null&&Of(d)}c=g}if(d=!1,c!==2)continue}}if(c===1){nr(t,0),jn(t,s,0,!0);break}e:{switch(o=t,c){case 0:case 1:throw Error(r(345));case 4:if((s&4194176)===s){jn(o,s,Wt,!Pn);break e}break;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(o.finishedWork=a,o.finishedLanes=s,(s&62914560)===s&&(d=Rf+300-fn(),10<d)){if(jn(o,s,Wt,!Pn),Dl(o,0)!==0)break e;o.timeoutHandle=C_(n_.bind(null,o,a,mn,yo,Cf,s,Wt,os,tr,Pn,2,-0,0),d);break e}n_(o,a,mn,yo,Cf,s,Wt,os,tr,Pn,0,-0,0)}}break}while(!0);gn(t)}function Of(t){mn===null?mn=t:mn.push.apply(mn,t)}function n_(t,s,a,o,c,d,g,v,b,A,P,j,M){var U=s.subtreeFlags;if((U&8192||(U&16785408)===16785408)&&(Aa={stylesheets:null,count:0,unsuspend:qT},Yg(s),s=VT(),s!==null)){t.cancelPendingCommit=s(u_.bind(null,t,a,o,c,g,v,b,1,j,M)),jn(t,d,g,!A);return}u_(t,a,o,c,g,v,b,P,j,M)}function lT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!It(d(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function jn(t,s,a,o){s&=~wf,s&=~os,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var c=s;0<c;){var d=31-Dt(c),g=1<<d;o[d]=-1,c&=~g}a!==0&&_p(t,a,s)}function Eo(){return(je&6)===0?(Sa(0),!1):!0}function Df(){if(pe!==null){if(Ie===0)var t=pe.return;else t=pe,Dn=ss=null,Uc(t),Vs=null,na=0,t=pe;for(;t!==null;)Jg(t.alternate,t),t=t.return;pe=null}}function nr(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Df(),De=t,pe=a=bi(t.current,null),ve=s,Ie=0,Lt=null,Pn=!1,er=zr(t,s),Tf=!1,tr=Wt=wf=os=Si=qe=0,mn=va=null,Cf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var c=31-Dt(o),d=1<<c;s|=t[c],o&=~d}return zn=s,Fl(),a}function i_(t,s){ce=null,G.H=pn,s===ea?(s=ym(),Ie=3):s===mm?(s=ym(),Ie=4):Ie=s===gg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lt=s,pe===null&&(qe=1,uo(t,Ht(s,t.current)))}function s_(){var t=G.H;return G.H=pn,t===null?pn:t}function r_(){var t=G.A;return G.A=rT,t}function If(){qe=4,Pn||(ve&4194176)!==ve&&Vt.current!==null||(er=!0),(Si&134217727)===0&&(os&134217727)===0||De===null||jn(De,ve,Wt,!1)}function Mf(t,s,a){var o=je;je|=2;var c=s_(),d=r_();(De!==t||ve!==s)&&(yo=null,nr(t,s)),s=!1;var g=qe;e:do try{if(Ie!==0&&pe!==null){var v=pe,b=Lt;switch(Ie){case 8:Df(),g=6;break e;case 3:case 2:case 6:Vt.current===null&&(s=!0);var A=Ie;if(Ie=0,Lt=null,ir(t,v,b,A),a&&er){g=0;break e}break;default:A=Ie,Ie=0,Lt=null,ir(t,v,b,A)}}oT(),g=qe;break}catch(P){i_(t,P)}while(!0);return s&&t.shellSuspendCounter++,Dn=ss=null,je=o,G.H=c,G.A=d,pe===null&&(De=null,ve=0,Fl()),g}function oT(){for(;pe!==null;)a_(pe)}function uT(t,s){var a=je;je|=2;var o=s_(),c=r_();De!==t||ve!==s?(yo=null,_o=fn()+500,nr(t,s)):er=zr(t,s);e:do try{if(Ie!==0&&pe!==null){s=pe;var d=Lt;t:switch(Ie){case 1:Ie=0,Lt=null,ir(t,s,d,1);break;case 2:if(gm(d)){Ie=0,Lt=null,l_(s);break}s=function(){Ie===2&&De===t&&(Ie=7),gn(t)},d.then(s,s);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:gm(d)?(Ie=0,Lt=null,l_(s)):(Ie=0,Lt=null,ir(t,s,d,7));break;case 5:var g=null;switch(pe.tag){case 26:g=pe.memoizedState;case 5:case 27:var v=pe;if(!g||U_(g)){Ie=0,Lt=null;var b=v.sibling;if(b!==null)pe=b;else{var A=v.return;A!==null?(pe=A,bo(A)):pe=null}break t}}Ie=0,Lt=null,ir(t,s,d,5);break;case 6:Ie=0,Lt=null,ir(t,s,d,6);break;case 8:Df(),qe=6;break e;default:throw Error(r(462))}}cT();break}catch(P){i_(t,P)}while(!0);return Dn=ss=null,G.H=o,G.A=c,je=a,pe!==null?0:(De=null,ve=0,Fl(),qe)}function cT(){for(;pe!==null&&!Ib();)a_(pe)}function a_(t){var s=Ng(t.alternate,t,zn);t.memoizedProps=t.pendingProps,s===null?bo(t):pe=s}function l_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Sg(a,s,s.pendingProps,s.type,void 0,ve);break;case 11:s=Sg(a,s,s.pendingProps,s.type.render,s.ref,ve);break;case 5:Uc(s);default:Jg(a,s),s=pe=Xg(s,zn),s=Ng(a,s,zn)}t.memoizedProps=t.pendingProps,s===null?bo(t):pe=s}function ir(t,s,a,o){Dn=ss=null,Uc(s),Vs=null,na=0;var c=s.return;try{if(ZS(t,c,s,a,ve)){qe=1,uo(t,Ht(a,t.current)),pe=null;return}}catch(d){if(c!==null)throw pe=c,d;qe=1,uo(t,Ht(a,t.current)),pe=null;return}s.flags&32768?(Ee||o===1?t=!0:er||(ve&536870912)!==0?t=!1:(Pn=t=!0,(o===2||o===3||o===6)&&(o=Vt.current,o!==null&&o.tag===13&&(o.flags|=16384))),o_(s,t)):bo(s)}function bo(t){var s=t;do{if((s.flags&32768)!==0){o_(s,Pn);return}t=s.return;var a=iT(s.alternate,s,zn);if(a!==null){pe=a;return}if(s=s.sibling,s!==null){pe=s;return}pe=s=t}while(s!==null);qe===0&&(qe=5)}function o_(t,s){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){pe=t;return}pe=t=a}while(t!==null);qe=6,pe=null}function u_(t,s,a,o,c,d,g,v,b,A){var P=G.T,j=Y.p;try{Y.p=2,G.T=null,fT(t,s,a,o,j,c,d,g,v,b,A)}finally{G.T=P,Y.p=j}}function fT(t,s,a,o,c,d,g,v){do sr();while(us!==null);if((je&6)!==0)throw Error(r(327));var b=t.finishedWork;if(o=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var A=b.lanes|b.childLanes;if(A|=bc,Fb(t,o,A,d,g,v),t===De&&(pe=De=null,ve=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||vo||(vo=!0,Af=A,Nf=a,mT(Nl,function(){return sr(),null})),a=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,d=Y.p,Y.p=2,g=je,je|=4,eT(t,b),Fg(b,t),LS(Gf,t.containerInfo),Mo=!!Vf,Gf=Vf=null,t.current=b,jg(t,b.alternate,b),Mb(),je=g,Y.p=d,G.T=a):t.current=b,vo?(vo=!1,us=t,Ea=o):c_(t,A),A=t.pendingLanes,A===0&&(Ti=null),zb(b.stateNode),gn(t),s!==null)for(c=t.onRecoverableError,b=0;b<s.length;b++)A=s[b],c(A.value,{componentStack:A.stack});return(Ea&3)!==0&&sr(),A=t.pendingLanes,(o&4194218)!==0&&(A&42)!==0?t===xf?ba++:(ba=0,xf=t):ba=0,Sa(0),null}function c_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,sa(s)))}function sr(){if(us!==null){var t=us,s=Af;Af=0;var a=vp(Ea),o=G.T,c=Y.p;try{if(Y.p=32>a?32:a,G.T=null,us===null)var d=!1;else{a=Nf,Nf=null;var g=us,v=Ea;if(us=null,Ea=0,(je&6)!==0)throw Error(r(331));var b=je;if(je|=4,Wg(g.current),Gg(g,g.current,v,a),je=b,Sa(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Pr,g)}catch{}d=!0}return d}finally{Y.p=c,G.T=o,c_(t,s)}}return!1}function f_(t,s,a){s=Ht(a,s),s=Xc(t.stateNode,s,2),t=_i(t,s,2),t!==null&&(jr(t,2),gn(t))}function Ne(t,s,a){if(t.tag===3)f_(t,t,a);else for(;s!==null;){if(s.tag===3){f_(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ti===null||!Ti.has(o))){t=Ht(a,t),a=pg(2),o=_i(s,a,2),o!==null&&(mg(a,o,s,t),jr(o,2),gn(o));break}}s=s.return}}function kf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new aT;var c=new Set;o.set(s,c)}else c=o.get(s),c===void 0&&(c=new Set,o.set(s,c));c.has(a)||(Tf=!0,c.add(a),t=dT.bind(null,t,s,a),s.then(t,t))}function dT(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,De===t&&(ve&a)===a&&(qe===4||qe===3&&(ve&62914560)===ve&&300>fn()-Rf?(je&2)===0&&nr(t,0):wf|=a,tr===ve&&(tr=0)),gn(t)}function d_(t,s){s===0&&(s=gp()),t=ui(t,s),t!==null&&(jr(t,s),gn(t))}function hT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),d_(t,a)}function pT(t,s){var a=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),d_(t,a)}function mT(t,s){return $u(t,s)}var So=null,rr=null,Lf=!1,To=!1,Uf=!1,cs=0;function gn(t){t!==rr&&t.next===null&&(rr===null?So=rr=t:rr=rr.next=t),To=!0,Lf||(Lf=!0,_T(gT))}function Sa(t,s){if(!Uf&&To){Uf=!0;do for(var a=!1,o=So;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,v=o.pingedLanes;d=(1<<31-Dt(42|t)+1)-1,d&=c&~(g&~v),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,m_(o,d))}else d=ve,d=Dl(o,o===De?d:0),(d&3)===0||zr(o,d)||(a=!0,m_(o,d));o=o.next}while(a);Uf=!1}}function gT(){To=Lf=!1;var t=0;cs!==0&&(CT()&&(t=cs),cs=0);for(var s=fn(),a=null,o=So;o!==null;){var c=o.next,d=h_(o,s);d===0?(o.next=null,a===null?So=c:a.next=c,c===null&&(rr=a)):(a=o,(t!==0||(d&3)!==0)&&(To=!0)),o=c}Sa(t)}function h_(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Dt(d),v=1<<g,b=c[g];b===-1?((v&a)===0||(v&o)!==0)&&(c[g]=qb(v,s)):b<=s&&(t.expiredLanes|=v),d&=~v}if(s=De,a=ve,a=Dl(t,t===s?a:0),o=t.callbackNode,a===0||t===s&&Ie===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Zu(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zr(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&Zu(o),vp(a)){case 2:case 8:a=hp;break;case 32:a=Nl;break;case 268435456:a=pp;break;default:a=Nl}return o=p_.bind(null,t),a=$u(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&Zu(o),t.callbackPriority=2,t.callbackNode=null,2}function p_(t,s){var a=t.callbackNode;if(sr()&&t.callbackNode!==a)return null;var o=ve;return o=Dl(t,t===De?o:0),o===0?null:(t_(t,o,s),h_(t,fn()),t.callbackNode!=null&&t.callbackNode===a?p_.bind(null,t):null)}function m_(t,s){if(sr())return null;t_(t,s,!0)}function _T(t){AT(function(){(je&6)!==0?$u(dp,t):t()})}function Pf(){return cs===0&&(cs=mp()),cs}function g_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ul(""+t)}function __(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function yT(t,s,a,o,c){if(s==="submit"&&a&&a.stateNode===c){var d=g_((c[bt]||null).action),g=o.submitter;g&&(s=(s=g[bt]||null)?g_(s.formAction):g.getAttribute("formAction"),s!==null&&(d=s,g=null));var v=new Bl("action","action",null,o,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(cs!==0){var b=g?__(c,g):new FormData(c);Gc(a,{pending:!0,data:b,method:c.method,action:d},null,b)}}else typeof d=="function"&&(v.preventDefault(),b=g?__(c,g):new FormData(c),Gc(a,{pending:!0,data:b,method:c.method,action:d},d,b))},currentTarget:c}]})}}for(var zf=0;zf<um.length;zf++){var jf=um[zf],vT=jf.toLowerCase(),ET=jf[0].toUpperCase()+jf.slice(1);$t(vT,"on"+ET)}$t(sm,"onAnimationEnd"),$t(rm,"onAnimationIteration"),$t(am,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(PS,"onTransitionRun"),$t(zS,"onTransitionStart"),$t(jS,"onTransitionCancel"),$t(lm,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ta));function y_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],c=o.event;o=o.listeners;e:{var d=void 0;if(s)for(var g=o.length-1;0<=g;g--){var v=o[g],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=A;try{d(c)}catch(P){oo(P)}c.currentTarget=null,d=b}else for(g=0;g<o.length;g++){if(v=o[g],b=v.instance,A=v.currentTarget,v=v.listener,b!==d&&c.isPropagationStopped())break e;d=v,c.currentTarget=A;try{d(c)}catch(P){oo(P)}c.currentTarget=null,d=b}}}}function ge(t,s){var a=s[ec];a===void 0&&(a=s[ec]=new Set);var o=t+"__bubble";a.has(o)||(v_(s,t,2,!1),a.add(o))}function Bf(t,s,a){var o=0;s&&(o|=4),v_(a,t,o,s)}var wo="_reactListening"+Math.random().toString(36).slice(2);function Hf(t){if(!t[wo]){t[wo]=!0,Sp.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||Bf(a,!1,t),Bf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[wo]||(s[wo]=!0,Bf("selectionchange",!1,s))}}function v_(t,s,a,o){switch(q_(s)){case 2:var c=KT;break;case 8:c=WT;break;default:c=ed}a=c.bind(null,s,a,t),c=void 0,!oc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function qf(t,s,a,o,c){var d=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;v!==null;){if(g=Vi(v),g===null)return;if(b=g.tag,b===5||b===6||b===26||b===27){o=d=g;continue e}v=v.parentNode}}o=o.return}kp(function(){var A=d,P=ac(a),j=[];e:{var M=om.get(t);if(M!==void 0){var U=Bl,Q=t;switch(t){case"keypress":if(zl(a)===0)break e;case"keydown":case"keyup":U=pS;break;case"focusin":Q="focus",U=dc;break;case"focusout":Q="blur",U=dc;break;case"beforeblur":case"afterblur":U=dc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=nS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=_S;break;case sm:case rm:case am:U=rS;break;case lm:U=vS;break;case"scroll":case"scrollend":U=eS;break;case"wheel":U=bS;break;case"copy":case"cut":case"paste":U=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=jp;break;case"toggle":case"beforetoggle":U=TS}var se=(s&4)!==0,Fe=!se&&(t==="scroll"||t==="scrollend"),N=se?M!==null?M+"Capture":null:M;se=[];for(var C=A,O;C!==null;){var z=C;if(O=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||O===null||N===null||(z=qr(C,N),z!=null&&se.push(wa(C,z,O))),Fe)break;C=C.return}0<se.length&&(M=new U(M,Q,null,a,P),j.push({event:M,listeners:se}))}}if((s&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",M&&a!==rc&&(Q=a.relatedTarget||a.fromElement)&&(Vi(Q)||Q[xs]))break e;if((U||M)&&(M=P.window===P?P:(M=P.ownerDocument)?M.defaultView||M.parentWindow:window,U?(Q=a.relatedTarget||a.toElement,U=A,Q=Q?Vi(Q):null,Q!==null&&(Fe=te(Q),se=Q.tag,Q!==Fe||se!==5&&se!==27&&se!==6)&&(Q=null)):(U=null,Q=A),U!==Q)){if(se=Pp,z="onMouseLeave",N="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(se=jp,z="onPointerLeave",N="onPointerEnter",C="pointer"),Fe=U==null?M:Hr(U),O=Q==null?M:Hr(Q),M=new se(z,C+"leave",U,a,P),M.target=Fe,M.relatedTarget=O,z=null,Vi(P)===A&&(se=new se(N,C+"enter",Q,a,P),se.target=O,se.relatedTarget=Fe,z=se),Fe=z,U&&Q)t:{for(se=U,N=Q,C=0,O=se;O;O=ar(O))C++;for(O=0,z=N;z;z=ar(z))O++;for(;0<C-O;)se=ar(se),C--;for(;0<O-C;)N=ar(N),O--;for(;C--;){if(se===N||N!==null&&se===N.alternate)break t;se=ar(se),N=ar(N)}se=null}else se=null;U!==null&&E_(j,M,U,se,!1),Q!==null&&Fe!==null&&E_(j,Fe,Q,se,!0)}}e:{if(M=A?Hr(A):window,U=M.nodeName&&M.nodeName.toLowerCase(),U==="select"||U==="input"&&M.type==="file")var W=Kp;else if(Gp(M))if(Wp)W=MS;else{W=DS;var fe=OS}else U=M.nodeName,!U||U.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?A&&sc(A.elementType)&&(W=Kp):W=IS;if(W&&(W=W(t,A))){Yp(j,W,a,P);break e}fe&&fe(t,M,A),t==="focusout"&&A&&M.type==="number"&&A.memoizedProps.value!=null&&ic(M,"number",M.value)}switch(fe=A?Hr(A):window,t){case"focusin":(Gp(fe)||fe.contentEditable==="true")&&(zs=fe,yc=A,Xr=null);break;case"focusout":Xr=yc=zs=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,nm(j,a,P);break;case"selectionchange":if(US)break;case"keydown":case"keyup":nm(j,a,P)}var X;if(pc)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Ps?Fp(t,a)&&(Z="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Z="onCompositionStart");Z&&(Bp&&a.locale!=="ko"&&(Ps||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Ps&&(X=Lp()):(oi=P,uc="value"in oi?oi.value:oi.textContent,Ps=!0)),fe=Co(A,Z),0<fe.length&&(Z=new zp(Z,t,null,a,P),j.push({event:Z,listeners:fe}),X?Z.data=X:(X=Vp(a),X!==null&&(Z.data=X)))),(X=CS?RS(t,a):AS(t,a))&&(Z=Co(A,"onBeforeInput"),0<Z.length&&(fe=new zp("onBeforeInput","beforeinput",null,a,P),j.push({event:fe,listeners:Z}),fe.data=X)),yT(j,t,A,a,P)}y_(j,s)})}function wa(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Co(t,s){for(var a=s+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=qr(t,a),c!=null&&o.unshift(wa(t,c,d)),c=qr(t,s),c!=null&&o.push(wa(t,c,d))),t=t.return}return o}function ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E_(t,s,a,o,c){for(var d=s._reactName,g=[];a!==null&&a!==o;){var v=a,b=v.alternate,A=v.stateNode;if(v=v.tag,b!==null&&b===o)break;v!==5&&v!==26&&v!==27||A===null||(b=A,c?(A=qr(a,d),A!=null&&g.unshift(wa(a,A,b))):c||(A=qr(a,d),A!=null&&g.push(wa(a,A,b)))),a=a.return}g.length!==0&&t.push({event:s,listeners:g})}var ST=/\r\n?/g,TT=/\u0000|\uFFFD/g;function b_(t){return(typeof t=="string"?t:""+t).replace(ST,`
`).replace(TT,"")}function S_(t,s){return s=b_(s),b_(t)===s}function Ro(){}function Re(t,s,a,o,c,d){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||ks(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&ks(t,""+o);break;case"className":Ml(t,"class",o);break;case"tabIndex":Ml(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(t,a,o);break;case"style":Ip(t,o,d);break;case"data":if(s!=="object"){Ml(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ul(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Re(t,s,"name",c.name,c,null),Re(t,s,"formEncType",c.formEncType,c,null),Re(t,s,"formMethod",c.formMethod,c,null),Re(t,s,"formTarget",c.formTarget,c,null)):(Re(t,s,"encType",c.encType,c,null),Re(t,s,"method",c.method,c,null),Re(t,s,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ul(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Ro);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ul(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ge("beforetoggle",t),ge("toggle",t),Il(t,"popover",o);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Il(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zb.get(a)||a,Il(t,a,o))}}function Ff(t,s,a,o,c,d){switch(a){case"style":Ip(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ks(t,o):(typeof o=="number"||typeof o=="bigint")&&ks(t,""+o);break;case"onScroll":o!=null&&ge("scroll",t);break;case"onScrollEnd":o!=null&&ge("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Ro);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),d=t[bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,c);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Il(t,a,o)}}}function ot(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",t),ge("load",t);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Re(t,s,d,g,a,null)}}c&&Re(t,s,"srcSet",a.srcSet,a,null),o&&Re(t,s,"src",a.src,a,null);return;case"input":ge("invalid",t);var v=d=g=c=null,b=null,A=null;for(o in a)if(a.hasOwnProperty(o)){var P=a[o];if(P!=null)switch(o){case"name":c=P;break;case"type":g=P;break;case"checked":b=P;break;case"defaultChecked":A=P;break;case"value":d=P;break;case"defaultValue":v=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,s));break;default:Re(t,s,o,P,a,null)}}Np(t,d,v,b,A,g,c,!1),kl(t);return;case"select":ge("invalid",t),o=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:Re(t,s,c,v,a,null)}s=d,a=g,t.multiple=!!o,s!=null?Ms(t,!!o,s,!1):a!=null&&Ms(t,!!o,a,!0);return;case"textarea":ge("invalid",t),d=c=o=null;for(g in a)if(a.hasOwnProperty(g)&&(v=a[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Re(t,s,g,v,a,null)}Op(t,o,c,d),kl(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Re(t,s,b,o,a,null)}return;case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":ge("load",t);break;case"video":case"audio":for(o=0;o<Ta.length;o++)ge(Ta[o],t);break;case"image":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"embed":case"source":case"link":ge("error",t),ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in a)if(a.hasOwnProperty(A)&&(o=a[A],o!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Re(t,s,A,o,a,null)}return;default:if(sc(s)){for(P in a)a.hasOwnProperty(P)&&(o=a[P],o!==void 0&&Ff(t,s,P,o,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(o=a[v],o!=null&&Re(t,s,v,o,a,null))}function wT(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,v=null,b=null,A=null,P=null;for(U in a){var j=a[U];if(a.hasOwnProperty(U)&&j!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=j;default:o.hasOwnProperty(U)||Re(t,s,U,null,o,j)}}for(var M in o){var U=o[M];if(j=a[M],o.hasOwnProperty(M)&&(U!=null||j!=null))switch(M){case"type":d=U;break;case"name":c=U;break;case"checked":A=U;break;case"defaultChecked":P=U;break;case"value":g=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,s));break;default:U!==j&&Re(t,s,M,U,o,j)}}nc(t,g,v,b,A,P,d,c);return;case"select":U=g=v=M=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":U=b;default:o.hasOwnProperty(d)||Re(t,s,d,null,o,b)}for(c in o)if(d=o[c],b=a[c],o.hasOwnProperty(c)&&(d!=null||b!=null))switch(c){case"value":M=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==b&&Re(t,s,c,d,o,b)}s=v,a=g,o=U,M!=null?Ms(t,!!a,M,!1):!!o!=!!a&&(s!=null?Ms(t,!!a,s,!0):Ms(t,!!a,a?[]:"",!1));return;case"textarea":U=M=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Re(t,s,v,null,o,c)}for(g in o)if(c=o[g],d=a[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":M=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Re(t,s,g,c,o,d)}xp(t,M,U);return;case"option":for(var Q in a)if(M=a[Q],a.hasOwnProperty(Q)&&M!=null&&!o.hasOwnProperty(Q))switch(Q){case"selected":t.selected=!1;break;default:Re(t,s,Q,null,o,M)}for(b in o)if(M=o[b],U=a[b],o.hasOwnProperty(b)&&M!==U&&(M!=null||U!=null))switch(b){case"selected":t.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Re(t,s,b,M,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)M=a[se],a.hasOwnProperty(se)&&M!=null&&!o.hasOwnProperty(se)&&Re(t,s,se,null,o,M);for(A in o)if(M=o[A],U=a[A],o.hasOwnProperty(A)&&M!==U&&(M!=null||U!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,s));break;default:Re(t,s,A,M,o,U)}return;default:if(sc(s)){for(var Fe in a)M=a[Fe],a.hasOwnProperty(Fe)&&M!==void 0&&!o.hasOwnProperty(Fe)&&Ff(t,s,Fe,void 0,o,M);for(P in o)M=o[P],U=a[P],!o.hasOwnProperty(P)||M===U||M===void 0&&U===void 0||Ff(t,s,P,M,o,U);return}}for(var N in a)M=a[N],a.hasOwnProperty(N)&&M!=null&&!o.hasOwnProperty(N)&&Re(t,s,N,null,o,M);for(j in o)M=o[j],U=a[j],!o.hasOwnProperty(j)||M===U||M==null&&U==null||Re(t,s,j,M,o,U)}var Vf=null,Gf=null;function Ao(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Yf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kf=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===Kf?!1:(Kf=t,!0):(Kf=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(NT)}:C_;function NT(t){setTimeout(function(){throw t})}function Wf(t,s){var a=s,o=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(o===0){t.removeChild(c),Ia(s);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=c}while(a);Ia(s)}function Qf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qf(a),tc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xT(t,s,a,o){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Br])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function OT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function en(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}function A_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function N_(t,s,a){switch(s=Ao(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Qt=new Map,x_=new Set;function No(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Bn=Y.d;Y.d={f:DT,r:IT,D:MT,C:kT,L:LT,m:UT,X:zT,S:PT,M:jT};function DT(){var t=Bn.f(),s=Eo();return t||s}function IT(t){var s=Os(t);s!==null&&s.tag===5&&s.type==="form"?ng(s):Bn.r(t)}var lr=typeof document>"u"?null:document;function O_(t,s,a){var o=lr;if(o&&typeof s=="string"&&s){var c=jt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),x_.has(c)||(x_.add(c),t={rel:t,crossOrigin:a,href:s},o.querySelector(c)===null&&(s=o.createElement("link"),ot(s,"link",t),Je(s),o.head.appendChild(s)))}}function MT(t){Bn.D(t),O_("dns-prefetch",t,null)}function kT(t,s){Bn.C(t,s),O_("preconnect",t,s)}function LT(t,s,a){Bn.L(t,s,a);var o=lr;if(o&&t&&s){var c='link[rel="preload"][as="'+jt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+jt(a.imageSizes)+'"]')):c+='[href="'+jt(t)+'"]';var d=c;switch(s){case"style":d=or(t);break;case"script":d=ur(t)}Qt.has(d)||(t=re({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Qt.set(d,t),o.querySelector(c)!==null||s==="style"&&o.querySelector(Ca(d))||s==="script"&&o.querySelector(Ra(d))||(s=o.createElement("link"),ot(s,"link",t),Je(s),o.head.appendChild(s)))}}function UT(t,s){Bn.m(t,s);var a=lr;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+jt(o)+'"][href="'+jt(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ur(t)}if(!Qt.has(d)&&(t=re({rel:"modulepreload",href:t},s),Qt.set(d,t),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ra(d)))return}o=a.createElement("link"),ot(o,"link",t),Je(o),a.head.appendChild(o)}}}function PT(t,s,a){Bn.S(t,s,a);var o=lr;if(o&&t){var c=Ds(o).hoistableStyles,d=or(t);s=s||"default";var g=c.get(d);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Ca(d)))v.loading=5;else{t=re({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Qt.get(d))&&Xf(t,a);var b=g=o.createElement("link");Je(b),ot(b,"link",t),b._p=new Promise(function(A,P){b.onload=A,b.onerror=P}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,xo(g,s,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(d,g)}}}function zT(t,s){Bn.X(t,s);var a=lr;if(a&&t){var o=Ds(a).hoistableScripts,c=ur(t),d=o.get(c);d||(d=a.querySelector(Ra(c)),d||(t=re({src:t,async:!0},s),(s=Qt.get(c))&&$f(t,s),d=a.createElement("script"),Je(d),ot(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function jT(t,s){Bn.M(t,s);var a=lr;if(a&&t){var o=Ds(a).hoistableScripts,c=ur(t),d=o.get(c);d||(d=a.querySelector(Ra(c)),d||(t=re({src:t,async:!0,type:"module"},s),(s=Qt.get(c))&&$f(t,s),d=a.createElement("script"),Je(d),ot(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function D_(t,s,a,o){var c=(c=ri.current)?No(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=or(a.href),a=Ds(c).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=or(a.href);var d=Ds(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(Ca(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(t,a),d||BT(c,t,a,g.state))),s&&o===null)throw Error(r(528,""));return g}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ur(a),a=Ds(c).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function or(t){return'href="'+jt(t)+'"'}function Ca(t){return'link[rel="stylesheet"]['+t+"]"}function I_(t){return re({},t,{"data-precedence":t.precedence,precedence:null})}function BT(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),ot(s,"link",a),Je(s),t.head.appendChild(s))}function ur(t){return'[src="'+jt(t)+'"]'}function Ra(t){return"script[async]"+t}function M_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+jt(a.href)+'"]');if(o)return s.instance=o,Je(o),o;var c=re({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Je(o),ot(o,"style",c),xo(o,a.precedence,t),s.instance=o;case"stylesheet":c=or(a.href);var d=t.querySelector(Ca(c));if(d)return s.state.loading|=4,s.instance=d,Je(d),d;o=I_(a),(c=Qt.get(c))&&Xf(o,c),d=(t.ownerDocument||t).createElement("link"),Je(d);var g=d;return g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),ot(d,"link",o),s.state.loading|=4,xo(d,a.precedence,t),s.instance=d;case"script":return d=ur(a.src),(c=t.querySelector(Ra(d)))?(s.instance=c,Je(c),c):(o=a,(c=Qt.get(d))&&(o=re({},a),$f(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),ot(c,"link",o),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,xo(o,a.precedence,t));return s.instance}function xo(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===s)d=v;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Xf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function $f(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Oo=null;function k_(t,s,a){if(Oo===null){var o=new Map,c=Oo=new Map;c.set(a,o)}else c=Oo,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[Br]||d[ct]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(s)||"";g=t+g;var v=o.get(g);v?v.push(d):o.set(g,[d])}}return o}function L_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function HT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function U_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Aa=null;function qT(){}function FT(t,s,a){if(Aa===null)throw Error(r(475));var o=Aa;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=or(a.href),d=t.querySelector(Ca(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Do.bind(o),t.then(o,o)),s.state.loading|=4,s.instance=d,Je(d);return}d=t.ownerDocument||t,a=I_(a),(c=Qt.get(c))&&Xf(a,c),d=d.createElement("link"),Je(d);var g=d;g._p=new Promise(function(v,b){g.onload=v,g.onerror=b}),ot(d,"link",a),s.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(o.count++,s=Do.bind(o),t.addEventListener("load",s),t.addEventListener("error",s))}}function VT(){if(Aa===null)throw Error(r(475));var t=Aa;return t.stylesheets&&t.count===0&&Zf(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Zf(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Do(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Io=null;function Zf(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Io=new Map,s.forEach(GT,t),Io=null,Do.call(t))}function GT(t,s){if(!(s.state.loading&4)){var a=Io.get(t);if(a)var o=a.get(null);else{a=new Map,Io.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}c=s.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||o,d===o&&a.set(null,c),a.set(g,c),this.count++,o=Do.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var Na={$$typeof:R,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function YT(t,s,a,o,c,d,g,v){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ju(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ju(0),this.hiddenUpdates=Ju(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function P_(t,s,a,o,c,d,g,v,b,A,P,j){return t=new YT(t,s,a,g,v,b,A,j),s=1,d===!0&&(s|=24),d=Kt(3,null,null,s),t.current=d,d.stateNode=t,s=xc(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:s},cf(d),t}function z_(t){return t?(t=Hs,t):Hs}function j_(t,s,a,o,c,d){c=z_(c),o.context===null?o.context=c:o.pendingContext=c,o=gi(s),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=_i(t,o,s),a!==null&&(yt(a,t,s),fa(a,t,s))}function B_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Jf(t,s){B_(t,s),(t=t.alternate)&&B_(t,s)}function H_(t){if(t.tag===13){var s=ui(t,67108864);s!==null&&yt(s,t,67108864),Jf(t,67108864)}}var Mo=!0;function KT(t,s,a,o){var c=G.T;G.T=null;var d=Y.p;try{Y.p=2,ed(t,s,a,o)}finally{Y.p=d,G.T=c}}function WT(t,s,a,o){var c=G.T;G.T=null;var d=Y.p;try{Y.p=8,ed(t,s,a,o)}finally{Y.p=d,G.T=c}}function ed(t,s,a,o){if(Mo){var c=td(o);if(c===null)qf(t,s,o,ko,a),F_(t,o);else if(XT(c,t,s,a,o))o.stopPropagation();else if(F_(t,o),s&4&&-1<QT.indexOf(t)){for(;c!==null;){var d=Os(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Fi(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var b=1<<31-Dt(g);v.entanglements[1]|=b,g&=~b}gn(d),(je&6)===0&&(_o=fn()+500,Sa(0))}}break;case 13:v=ui(d,2),v!==null&&yt(v,d,2),Eo(),Jf(d,2)}if(d=td(o),d===null&&qf(t,s,o,ko,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else qf(t,s,o,null,a)}}function td(t){return t=ac(t),nd(t)}var ko=null;function nd(t){if(ko=null,t=Vi(t),t!==null){var s=te(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=Oe(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ko=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kb()){case dp:return 2;case hp:return 8;case Nl:case Lb:return 32;case pp:return 268435456;default:return 32}default:return 32}}var id=!1,wi=null,Ci=null,Ri=null,xa=new Map,Oa=new Map,Ai=[],QT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(t,s){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":xa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(s.pointerId)}}function Da(t,s,a,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},s!==null&&(s=Os(s),s!==null&&H_(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function XT(t,s,a,o,c){switch(s){case"focusin":return wi=Da(wi,t,s,a,o,c),!0;case"dragenter":return Ci=Da(Ci,t,s,a,o,c),!0;case"mouseover":return Ri=Da(Ri,t,s,a,o,c),!0;case"pointerover":var d=c.pointerId;return xa.set(d,Da(xa.get(d)||null,t,s,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,Oa.set(d,Da(Oa.get(d)||null,t,s,a,o,c)),!0}return!1}function V_(t){var s=Vi(t.target);if(s!==null){var a=te(s);if(a!==null){if(s=a.tag,s===13){if(s=Oe(a),s!==null){t.blockedOn=s,Vb(t.priority,function(){if(a.tag===13){var o=Ut(),c=ui(a,o);c!==null&&yt(c,a,o),Jf(a,o)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=td(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);rc=o,a.target.dispatchEvent(o),rc=null}else return s=Os(a),s!==null&&H_(s),t.blockedOn=a,!1;s.shift()}return!0}function G_(t,s,a){Lo(t)&&a.delete(s)}function $T(){id=!1,wi!==null&&Lo(wi)&&(wi=null),Ci!==null&&Lo(Ci)&&(Ci=null),Ri!==null&&Lo(Ri)&&(Ri=null),xa.forEach(G_),Oa.forEach(G_)}function Uo(t,s){t.blockedOn===s&&(t.blockedOn=null,id||(id=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$T)))}var Po=null;function Y_(t){Po!==t&&(Po=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Po===t&&(Po=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],c=t[s+2];if(typeof o!="function"){if(nd(o||a)===null)continue;break}var d=Os(a);d!==null&&(t.splice(s,3),s-=3,Gc(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function Ia(t){function s(b){return Uo(b,t)}wi!==null&&Uo(wi,t),Ci!==null&&Uo(Ci,t),Ri!==null&&Uo(Ri,t),xa.forEach(s),Oa.forEach(s);for(var a=0;a<Ai.length;a++){var o=Ai[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ai.length&&(a=Ai[0],a.blockedOn===null);)V_(a),a.blockedOn===null&&Ai.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],g=c[bt]||null;if(typeof d=="function")g||Y_(a);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[bt]||null)v=g.formAction;else if(nd(c)!==null)continue}else v=g.action;typeof v=="function"?a[o+1]=v:(a.splice(o,3),o-=3),Y_(a)}}}function sd(t){this._internalRoot=t}zo.prototype.render=sd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Ut();j_(a,o,t,s,null,null)},zo.prototype.unmount=sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;t.tag===0&&sr(),j_(t.current,2,null,t,null,null),Eo(),s[xs]=null}};function zo(t){this._internalRoot=t}zo.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ep();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ai.length&&s!==0&&s<Ai[a].priority;a++);Ai.splice(a,0,t),a===0&&V_(t)}};var K_=e.version;if(K_!=="19.0.0")throw Error(r(527,K_,"19.0.0"));Y.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=B(s),t=t!==null?J(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Vi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Pr=jo.inject(ZT),Ot=jo}catch{}}return ka.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",c=cg,d=fg,g=dg,v=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(v=s.unstable_transitionCallbacks)),s=P_(t,1,!1,null,null,a,o,c,d,g,v,null),t[xs]=s.current,Hf(t.nodeType===8?t.parentNode:t),new sd(s)},ka.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,c="",d=cg,g=fg,v=dg,b=null,A=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(A=a.formState)),s=P_(t,1,!0,s,a??null,o,c,d,g,v,b,A),s.context=z_(null),a=s.current,o=Ut(),c=gi(o),c.callback=null,_i(a,c,o),s.current.lanes=o,jr(s,o),gn(s),t[xs]=s.current,Hf(t),new zo(s)},ka.version="19.0.0",ka}var iy;function ow(){if(iy)return ld.exports;iy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ld.exports=lw(),ld.exports}var uw=ow(),La={},sy;function cw(){if(sy)return La;sy=1,Object.defineProperty(La,"__esModule",{value:!0}),La.parse=f,La.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function f(E,R){const S=new u,D=E.length;if(D<2)return S;const I=(R==null?void 0:R.decode)||_;let L=0;do{const H=E.indexOf("=",L);if(H===-1)break;const q=E.indexOf(";",L),ie=q===-1?D:q;if(H>ie){L=E.lastIndexOf(";",H-1)+1;continue}const K=h(E,L,H),_e=p(E,H,K),we=E.slice(K,_e);if(S[we]===void 0){let Pe=h(E,H+1,ie),G=p(E,ie,Pe);const re=I(E.slice(Pe,G));S[we]=re}L=ie+1}while(L<D);return S}function h(E,R,S){do{const D=E.charCodeAt(R);if(D!==32&&D!==9)return R}while(++R<S);return S}function p(E,R,S){for(;R>S;){const D=E.charCodeAt(--R);if(D!==32&&D!==9)return R+1}return S}function m(E,R,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const I=D(R);if(!e.test(I))throw new TypeError(`argument val is invalid: ${R}`);let L=E+"="+I;if(!S)return L;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);L+="; Max-Age="+S.maxAge}if(S.domain){if(!i.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);L+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);L+="; Path="+S.path}if(S.expires){if(!y(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);L+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(L+="; HttpOnly"),S.secure&&(L+="; Secure"),S.partitioned&&(L+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return L}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function y(E){return l.call(E)==="[object Date]"}return La}cw();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ry="popstate";function fw(n={}){function e(l,u){let{pathname:f="/",search:h="",hash:p=""}=Rs(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Od("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let f=l.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof u=="string"?u:$a(u))}function r(l,u){an(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return hw(e,i,r,n)}function Be(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function an(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dw(){return Math.random().toString(36).substring(2,10)}function ay(n,e){return{usr:n.state,key:n.key,idx:e}}function Od(n,e,i=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:i,key:e&&e.key||r||dw()}}function $a({pathname:n="/",search:e="",hash:i=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Rs(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substring(i),n=n.substring(0,i));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hw(n,e,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,f=l.history,h="POP",p=null,m=_();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function _(){return(f.state||{idx:null}).idx}function y(){h="POP";let I=_(),L=I==null?null:I-m;m=I,p&&p({action:h,location:D.location,delta:L})}function E(I,L){h="PUSH";let H=Od(D.location,I,L);i&&i(H,I),m=_()+1;let q=ay(H,m),ie=D.createHref(H);try{f.pushState(q,"",ie)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;l.location.assign(ie)}u&&p&&p({action:h,location:D.location,delta:1})}function R(I,L){h="REPLACE";let H=Od(D.location,I,L);i&&i(H,I),m=_();let q=ay(H,m),ie=D.createHref(H);f.replaceState(q,"",ie),u&&p&&p({action:h,location:D.location,delta:0})}function S(I){let L=l.location.origin!=="null"?l.location.origin:l.location.href,H=typeof I=="string"?I:$a(I);return H=H.replace(/ $/,"%20"),Be(L,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,L)}let D={get action(){return h},get location(){return n(l,f)},listen(I){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(ry,y),p=I,()=>{l.removeEventListener(ry,y),p=null}},createHref(I){return e(l,I)},createURL:S,encodeLocation(I){let L=S(I);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:R,go(I){return f.go(I)}};return D}function kv(n,e,i="/"){return pw(n,e,i,!1)}function pw(n,e,i,r){let l=typeof e=="string"?Rs(e):e,u=Xn(l.pathname||"/",i);if(u==null)return null;let f=Lv(n);mw(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=Rw(u);h=ww(f[p],m,r)}return h}function Lv(n,e=[],i=[],r=""){let l=(u,f,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Be(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=Gn([r,p.relativePath]),_=i.concat(p);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Lv(u.children,e,_,m)),!(u.path==null&&!u.index)&&e.push({path:m,score:Sw(m,u.index),routesMeta:_})};return n.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,f);else for(let p of Uv(u.path))l(u,f,p)}),e}function Uv(n){let e=n.split("/");if(e.length===0)return[];let[i,...r]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let f=Uv(r.join("/")),h=[];return h.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&h.push(...f),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function mw(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:Tw(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var gw=/^:[\w-]+$/,_w=3,yw=2,vw=1,Ew=10,bw=-2,ly=n=>n==="*";function Sw(n,e){let i=n.split("/"),r=i.length;return i.some(ly)&&(r+=bw),e&&(r+=yw),i.filter(l=>!ly(l)).reduce((l,u)=>l+(gw.test(u)?_w:u===""?vw:Ew),r)}function Tw(n,e){return n.length===e.length&&n.slice(0,-1).every((r,l)=>r===e[l])?n[n.length-1]-e[e.length-1]:0}function ww(n,e,i=!1){let{routesMeta:r}=n,l={},u="/",f=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",y=eu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),E=p.route;if(!y&&m&&i&&!r[r.length-1].route.index&&(y=eu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:Gn([u,y.pathname]),pathnameBase:Ow(Gn([u,y.pathnameBase])),route:E}),y.pathnameBase!=="/"&&(u=Gn([u,y.pathnameBase]))}return f}function eu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,r]=Cw(n.path,n.caseSensitive,n.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:y},E)=>{if(_==="*"){let S=h[E]||"";f=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const R=h[E];return y&&!R?m[_]=void 0:m[_]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:n}}function Cw(n,e=!1,i=!0){an(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Rw(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return an(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xn(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=n.charAt(i);return r&&r!=="/"?null:n.slice(i)||"/"}function Aw(n,e="/"){let{pathname:i,search:r="",hash:l=""}=typeof n=="string"?Rs(n):n;return{pathname:i?i.startsWith("/")?i:Nw(i,e):e,search:Dw(r),hash:Iw(l)}}function Nw(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function fd(n,e,i,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xw(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Pv(n){let e=xw(n);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function zv(n,e,i,r=!1){let l;typeof n=="string"?l=Rs(n):(l={...n},Be(!l.pathname||!l.pathname.includes("?"),fd("?","pathname","search",l)),Be(!l.pathname||!l.pathname.includes("#"),fd("#","pathname","hash",l)),Be(!l.search||!l.search.includes("#"),fd("#","search","hash",l)));let u=n===""||l.pathname==="",f=u?"/":l.pathname,h;if(f==null)h=i;else{let y=e.length-1;if(!r&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),y-=1;l.pathname=E.join("/")}h=y>=0?e[y]:"/"}let p=Aw(l,h),m=f&&f!=="/"&&f.endsWith("/"),_=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var Gn=n=>n.join("/").replace(/\/\/+/g,"/"),Ow=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Dw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Iw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Mw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jv=["POST","PUT","PATCH","DELETE"];new Set(jv);var kw=["GET",...jv];new Set(kw);var Cr=x.createContext(null);Cr.displayName="DataRouter";var Ru=x.createContext(null);Ru.displayName="DataRouterState";var Bv=x.createContext({isTransitioning:!1});Bv.displayName="ViewTransition";var Lw=x.createContext(new Map);Lw.displayName="Fetchers";var Uw=x.createContext(null);Uw.displayName="Await";var En=x.createContext(null);En.displayName="Navigation";var cl=x.createContext(null);cl.displayName="Location";var ti=x.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var lh=x.createContext(null);lh.displayName="RouteError";function Pw(n,{relative:e}={}){Be(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=x.useContext(En),{hash:l,pathname:u,search:f}=dl(n,{relative:e}),h=u;return i!=="/"&&(h=u==="/"?i:Gn([i,u])),r.createHref({pathname:h,search:f,hash:l})}function fl(){return x.useContext(cl)!=null}function bn(){return Be(fl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(cl).location}var Hv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qv(n){x.useContext(En).static||x.useLayoutEffect(n)}function Au(){let{isDataRoute:n}=x.useContext(ti);return n?Xw():zw()}function zw(){Be(fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(Cr),{basename:e,navigator:i}=x.useContext(En),{matches:r}=x.useContext(ti),{pathname:l}=bn(),u=JSON.stringify(Pv(r)),f=x.useRef(!1);return qv(()=>{f.current=!0}),x.useCallback((p,m={})=>{if(an(f.current,Hv),!f.current)return;if(typeof p=="number"){i.go(p);return}let _=zv(p,JSON.parse(u),l,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Gn([e,_.pathname])),(m.replace?i.replace:i.push)(_,m.state,m)},[e,i,u,l,n])}x.createContext(null);function dl(n,{relative:e}={}){let{matches:i}=x.useContext(ti),{pathname:r}=bn(),l=JSON.stringify(Pv(i));return x.useMemo(()=>zv(n,JSON.parse(l),r,e==="path"),[n,l,r,e])}function jw(n,e){return Fv(n,e)}function Fv(n,e,i,r){var H;Be(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=x.useContext(En),{matches:f}=x.useContext(ti),h=f[f.length-1],p=h?h.params:{},m=h?h.pathname:"/",_=h?h.pathnameBase:"/",y=h&&h.route;{let q=y&&y.path||"";Vv(m,!y||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=bn(),R;if(e){let q=typeof e=="string"?Rs(e):e;Be(_==="/"||((H=q.pathname)==null?void 0:H.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=E;let S=R.pathname||"/",D=S;if(_!=="/"){let q=_.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(q.length).join("/")}let I=!u&&i&&i.matches&&i.matches.length>0?i.matches:kv(n,{pathname:D});an(y||I!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),an(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=Vw(I&&I.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Gn([_,l.encodeLocation?l.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Gn([_,l.encodeLocation?l.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),f,i,r);return e&&L?x.createElement(cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},L):L}function Bw(){let n=Qw(),e=Mw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),i?x.createElement("pre",{style:l},i):null,f)}var Hw=x.createElement(Bw,null),qw=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(ti.Provider,{value:this.props.routeContext},x.createElement(lh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fw({routeContext:n,match:e,children:i}){let r=x.useContext(Cr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(ti.Provider,{value:n},i)}function Vw(n,e=[],i=null,r=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let l=n,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Be(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:_,errors:y}=i,E=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||E){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,m,_)=>{let y,E=!1,R=null,S=null;i&&(y=u&&m.route.id?u[m.route.id]:void 0,R=m.route.errorElement||Hw,f&&(h<0&&_===0?(Vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):h===_&&(E=!0,S=m.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,_+1)),I=()=>{let L;return y?L=R:E?L=S:m.route.Component?L=x.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=p,x.createElement(Fw,{match:m,routeContext:{outlet:p,matches:D,isDataRoute:i!=null},children:L})};return i&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?x.createElement(qw,{location:i.location,revalidation:i.revalidation,component:R,error:y,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}function oh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(n){let e=x.useContext(Cr);return Be(e,oh(n)),e}function Yw(n){let e=x.useContext(Ru);return Be(e,oh(n)),e}function Kw(n){let e=x.useContext(ti);return Be(e,oh(n)),e}function uh(n){let e=Kw(n),i=e.matches[e.matches.length-1];return Be(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Ww(){return uh("useRouteId")}function Qw(){var r;let n=x.useContext(lh),e=Yw("useRouteError"),i=uh("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[i]}function Xw(){let{router:n}=Gw("useNavigate"),e=uh("useNavigate"),i=x.useRef(!1);return qv(()=>{i.current=!0}),x.useCallback(async(l,u={})=>{an(i.current,Hv),i.current&&(typeof l=="number"?n.navigate(l):await n.navigate(l,{fromRouteId:e,...u}))},[n,e])}var oy={};function Vv(n,e,i){!e&&!oy[n]&&(oy[n]=!0,an(!1,i))}x.memo($w);function $w({routes:n,future:e,state:i}){return Fv(n,void 0,i,e)}function qa(n){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Zw({basename:n="/",children:e=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){Be(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof i=="string"&&(i=Rs(i));let{pathname:p="/",search:m="",hash:_="",state:y=null,key:E="default"}=i,R=x.useMemo(()=>{let S=Xn(p,f);return S==null?null:{location:{pathname:S,search:m,hash:_,state:y,key:E},navigationType:r}},[f,p,m,_,y,E,r]);return an(R!=null,`<Router basename="${f}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:x.createElement(En.Provider,{value:h},x.createElement(cl.Provider,{children:e,value:R}))}function Jw({children:n,location:e}){return jw(Dd(n),e)}function Dd(n,e=[]){let i=[];return x.Children.forEach(n,(r,l)=>{if(!x.isValidElement(r))return;let u=[...e,l];if(r.type===x.Fragment){i.push.apply(i,Dd(r.props.children,u));return}Be(r.type===qa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Dd(r.props.children,u)),i.push(f)}),i}var Vo="get",Go="application/x-www-form-urlencoded";function Nu(n){return n!=null&&typeof n.tagName=="string"}function eC(n){return Nu(n)&&n.tagName.toLowerCase()==="button"}function tC(n){return Nu(n)&&n.tagName.toLowerCase()==="form"}function nC(n){return Nu(n)&&n.tagName.toLowerCase()==="input"}function iC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function sC(n,e){return n.button===0&&(!e||e==="_self")&&!iC(n)}var Bo=null;function rC(){if(Bo===null)try{new FormData(document.createElement("form"),0),Bo=!1}catch{Bo=!0}return Bo}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(n){return n!=null&&!aC.has(n)?(an(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Go}"`),null):n}function lC(n,e){let i,r,l,u,f;if(tC(n)){let h=n.getAttribute("action");r=h?Xn(h,e):null,i=n.getAttribute("method")||Vo,l=dd(n.getAttribute("enctype"))||Go,u=new FormData(n)}else if(eC(n)||nC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?Xn(p,e):null,i=n.getAttribute("formmethod")||h.getAttribute("method")||Vo,l=dd(n.getAttribute("formenctype"))||dd(h.getAttribute("enctype"))||Go,u=new FormData(h,n),!rC()){let{name:m,type:_,value:y}=n;if(_==="image"){let E=m?`${m}.`:"";u.append(`${E}x`,"0"),u.append(`${E}y`,"0")}else m&&u.append(m,y)}}else{if(Nu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Vo,r=null,l=Go,f=n}return u&&l==="text/plain"&&(f=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:f}}function ch(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oC(n,e){if(n.id in e)return e[n.id];try{let i=await import(n.module);return e[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cC(n,e,i){let r=await Promise.all(n.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await oC(u,i);return f.links?f.links():[]}return[]}));return pC(r.flat(1).filter(uC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function uy(n,e,i,r,l,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,h=(p,m)=>{var _;return i[m].pathname!==p.pathname||((_=i[m].route.path)==null?void 0:_.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,m)=>f(p,m)||h(p,m)):u==="data"?e.filter((p,m)=>{var y;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(f(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function fC(n,e,{includeHydrateFallback:i}={}){return dC(n.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function dC(n){return[...new Set(n)]}function hC(n){let e={},i=Object.keys(n).sort();for(let r of i)e[r]=n[r];return e}function pC(n,e){let i=new Set;return new Set(e),n.reduce((r,l)=>{let u=JSON.stringify(hC(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}function mC(n,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":e&&Xn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Gv(){let n=x.useContext(Cr);return ch(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gC(){let n=x.useContext(Ru);return ch(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fh=x.createContext(void 0);fh.displayName="FrameworkContext";function Yv(){let n=x.useContext(fh);return ch(n,"You must render this element inside a <HydratedRouter> element"),n}function _C(n,e){let i=x.useContext(fh),[r,l]=x.useState(!1),[u,f]=x.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:y}=e,E=x.useRef(null);x.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let D=L=>{L.forEach(H=>{f(H.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[n]),x.useEffect(()=>{if(r){let D=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(D)}}},[r]);let R=()=>{l(!0)},S=()=>{l(!1),f(!1)};return i?n!=="intent"?[u,E,{}]:[u,E,{onFocus:Ua(h,R),onBlur:Ua(p,S),onMouseEnter:Ua(m,R),onMouseLeave:Ua(_,S),onTouchStart:Ua(y,R)}]:[!1,E,{}]}function Ua(n,e){return i=>{n&&n(i),i.defaultPrevented||e(i)}}function yC({page:n,...e}){let{router:i}=Gv(),r=x.useMemo(()=>kv(i.routes,n,i.basename),[i.routes,n,i.basename]);return r?x.createElement(EC,{page:n,matches:r,...e}):null}function vC(n){let{manifest:e,routeModules:i}=Yv(),[r,l]=x.useState([]);return x.useEffect(()=>{let u=!1;return cC(n,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[n,e,i]),r}function EC({page:n,matches:e,...i}){let r=bn(),{manifest:l,routeModules:u}=Yv(),{basename:f}=Gv(),{loaderData:h,matches:p}=gC(),m=x.useMemo(()=>uy(n,e,p,l,r,"data"),[n,e,p,l,r]),_=x.useMemo(()=>uy(n,e,p,l,r,"assets"),[n,e,p,l,r]),y=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,D=!1;if(e.forEach(L=>{var q;let H=l.routes[L.route.id];!H||!H.hasLoader||(!m.some(ie=>ie.route.id===L.route.id)&&L.route.id in h&&((q=u[L.route.id])!=null&&q.shouldRevalidate)||H.hasClientLoader?D=!0:S.add(L.route.id))}),S.size===0)return[];let I=mC(n,f);return D&&S.size>0&&I.searchParams.set("_routes",e.filter(L=>S.has(L.route.id)).map(L=>L.route.id).join(",")),[I.pathname+I.search]},[f,h,r,l,m,e,n,u]),E=x.useMemo(()=>fC(_,l),[_,l]),R=vC(_);return x.createElement(x.Fragment,null,y.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),E.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),R.map(({key:S,link:D})=>x.createElement("link",{key:S,...D})))}function bC(...n){return e=>{n.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Kv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kv&&(window.__reactRouterVersion="7.4.0")}catch{}function SC({basename:n,children:e,window:i}){let r=x.useRef();r.current==null&&(r.current=fw({window:i,v5Compat:!0}));let l=r.current,[u,f]=x.useState({action:l.action,location:l.location}),h=x.useCallback(p=>{x.startTransition(()=>f(p))},[f]);return x.useLayoutEffect(()=>l.listen(h),[l,h]),x.createElement(Zw,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l})}var Wv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qv=x.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:f,state:h,target:p,to:m,preventScrollReset:_,viewTransition:y,...E},R){let{basename:S}=x.useContext(En),D=typeof m=="string"&&Wv.test(m),I,L=!1;if(typeof m=="string"&&D&&(I=m,Kv))try{let G=new URL(window.location.href),re=m.startsWith("//")?new URL(G.protocol+m):new URL(m),mt=Xn(re.pathname,S);re.origin===G.origin&&mt!=null?m=mt+re.search+re.hash:L=!0}catch{an(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Pw(m,{relative:l}),[q,ie,K]=_C(r,E),_e=RC(m,{replace:f,state:h,target:p,preventScrollReset:_,relative:l,viewTransition:y});function we(G){e&&e(G),G.defaultPrevented||_e(G)}let Pe=x.createElement("a",{...E,...K,href:I||H,onClick:L||u?e:we,ref:bC(R,ie),target:p,"data-discover":!D&&i==="render"?"true":void 0});return q&&!D?x.createElement(x.Fragment,null,Pe,x.createElement(yC,{page:H})):Pe});Qv.displayName="Link";var TC=x.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:f,viewTransition:h,children:p,...m},_){let y=dl(f,{relative:m.relative}),E=bn(),R=x.useContext(Ru),{navigator:S,basename:D}=x.useContext(En),I=R!=null&&DC(y)&&h===!0,L=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,H=E.pathname,q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(H=H.toLowerCase(),q=q?q.toLowerCase():null,L=L.toLowerCase()),q&&D&&(q=Xn(q,D)||q);const ie=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let K=H===L||!l&&H.startsWith(L)&&H.charAt(ie)==="/",_e=q!=null&&(q===L||!l&&q.startsWith(L)&&q.charAt(L.length)==="/"),we={isActive:K,isPending:_e,isTransitioning:I},Pe=K?e:void 0,G;typeof r=="function"?G=r(we):G=[r,K?"active":null,_e?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let re=typeof u=="function"?u(we):u;return x.createElement(Qv,{...m,"aria-current":Pe,className:G,ref:_,style:re,to:f,viewTransition:h},typeof p=="function"?p(we):p)});TC.displayName="NavLink";var wC=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:l,state:u,method:f=Vo,action:h,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:y,...E},R)=>{let S=xC(),D=OC(h,{relative:m}),I=f.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&Wv.test(h),H=q=>{if(p&&p(q),q.defaultPrevented)return;q.preventDefault();let ie=q.nativeEvent.submitter,K=(ie==null?void 0:ie.getAttribute("formmethod"))||f;S(ie||q.currentTarget,{fetcherKey:e,method:K,navigate:i,replace:l,state:u,relative:m,preventScrollReset:_,viewTransition:y})};return x.createElement("form",{ref:R,method:I,action:D,onSubmit:r?p:H,...E,"data-discover":!L&&n==="render"?"true":void 0})});wC.displayName="Form";function CC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xv(n){let e=x.useContext(Cr);return Be(e,CC(n)),e}function RC(n,{target:e,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:f}={}){let h=Au(),p=bn(),m=dl(n,{relative:u});return x.useCallback(_=>{if(sC(_,e)){_.preventDefault();let y=i!==void 0?i:$a(p)===$a(m);h(n,{replace:y,state:r,preventScrollReset:l,relative:u,viewTransition:f})}},[p,h,m,i,r,e,n,l,u,f])}var AC=0,NC=()=>`__${String(++AC)}__`;function xC(){let{router:n}=Xv("useSubmit"),{basename:e}=x.useContext(En),i=Ww();return x.useCallback(async(r,l={})=>{let{action:u,method:f,encType:h,formData:p,body:m}=lC(r,e);if(l.navigate===!1){let _=l.fetcherKey||NC();await n.fetch(_,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await n.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,e,i])}function OC(n,{relative:e}={}){let{basename:i}=x.useContext(En),r=x.useContext(ti);Be(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...dl(n||".",{relative:e})},f=bn();if(n==null){u.search=f.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let _=h.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Gn([i,u.pathname])),$a(u)}function DC(n,e={}){let i=x.useContext(Bv);Be(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xv("useViewTransitionState"),l=dl(n,{relative:e.relative});if(!i.isTransitioning)return!1;let u=Xn(i.currentLocation.pathname,r)||i.currentLocation.pathname,f=Xn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return eu(l.pathname,f)!=null||eu(l.pathname,u)!=null}new TextEncoder;const IC=()=>{};var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(n,e){if(!n)throw Rr(e)},Rr=function(n){return new Error("Firebase Database ("+$v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(n){const e=[];let i=0;for(let r=0;r<n.length;r++){let l=n.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},MC=function(n){const e=[];let i=0,r=0;for(;i<n.length;){const l=n[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=n[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=n[i++],f=n[i++],h=n[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=n[i++],f=n[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},dh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<n.length;l+=3){const u=n[l],f=l+1<n.length,h=f?n[l+1]:0,p=l+2<n.length,m=p?n[l+2]:0,_=u>>2,y=(u&3)<<4|h>>4;let E=(h&15)<<2|m>>6,R=m&63;p||(R=64,f||(E=64)),r.push(i[_],i[y],i[E],i[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<n.length;){const u=i[n.charAt(l++)],h=l<n.length?i[n.charAt(l)]:0;++l;const m=l<n.length?i[n.charAt(l)]:64;++l;const y=l<n.length?i[n.charAt(l)]:64;if(++l,u==null||h==null||m==null||y==null)throw new kC;const E=u<<2|h>>4;if(r.push(E),m!==64){const R=h<<4&240|m>>2;if(r.push(R),y!==64){const S=m<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jv=function(n){const e=Zv(n);return dh.encodeByteArray(e,!0)},tu=function(n){return Jv(n).replace(/\./g,"")},nu=function(n){try{return dh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(n){return e0(void 0,n)}function e0(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!UC(i)||(n[i]=e0(n[i],e[i]));return n}function UC(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=()=>PC().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof cy>"u")return;const n=cy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nu(n[1]);return e&&JSON.parse(e)},hh=()=>{try{return IC()||zC()||jC()||BC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},t0=n=>{var e,i;return(i=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},HC=n=>{const e=t0(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},n0=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},i0=n=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[tu(JSON.stringify(i)),tu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ph(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function FC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function s0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GC(){const n=vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YC(){return $v.NODE_ADMIN===!0}function KC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((n,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),n(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="FirebaseError";class Bi extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=QC,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?XC(u,r):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new Bi(l,h,r)}}function XC(n,e){return n.replace($C,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const $C=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n){return JSON.parse(n)}function rt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(n){let e={},i={},r={},l="";try{const u=n.split(".");e=Za(nu(u[0])||""),i=Za(nu(u[1])||""),l=u[2],r=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:r,signature:l}},ZC=function(n){const e=r0(n),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},JC=function(n){const e=r0(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Er(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Id(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function iu(n,e,i){const r={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=e.call(i,n[l],l,n));return r}function _s(n,e){if(n===e)return!0;const i=Object.keys(n),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=n[l],f=e[l];if(fy(u)&&fy(f)){if(!_s(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function fy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n){const e=[];for(const[i,r]of Object.entries(n))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Va(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const r=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)r[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)r[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const E=r[y-3]^r[y-8]^r[y-14]^r[y-16];r[y]=(E<<1|E>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,_;for(let y=0;y<80;y++){y<40?y<20?(m=h^u&(f^h),_=1518500249):(m=u^f^h,_=1859775393):y<60?(m=u&f|h&(u|f),_=2400959708):(m=u^f^h,_=3395469782);const E=(l<<5|l>>>27)+m+p+_+r[y]&4294967295;p=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=E}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const r=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=r;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let r=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[l]>>u&255,++r;return e}}function tR(n,e){const i=new nR(n,e);return i.subscribe.bind(i)}class nR{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=hd),l.error===void 0&&(l.error=hd),l.complete===void 0&&(l.complete=hd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function hd(){}function mh(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=function(n){const e=[];let i=0;for(let r=0;r<n.length;r++){let l=n.charCodeAt(r);if(l>=55296&&l<=56319){const u=l-55296;r++,F(r<n.length,"Surrogate pair missing trail surrogate.");const f=n.charCodeAt(r)-56320;l=65536+(u<<10)+f}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Ou=function(n){let e=0;for(let i=0;i<n.length;i++){const r=n.charCodeAt(i);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n){return n&&n._delegate?n._delegate:n}class ys{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new xu;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&f.resolve(l)}return l}onInit(e,i){var r;const l=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(l))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(n){return n===fs?void 0:n}function lR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new rR(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ae||(Ae={}));const uR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},cR=Ae.INFO,fR={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},dR=(n,e,...i)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),l=fR[e];if(l)console[l](`[${r}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gh{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const hR=(n,e)=>e.some(i=>n instanceof i);let dy,hy;function pR(){return dy||(dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mR(){return hy||(hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a0=new WeakMap,Md=new WeakMap,l0=new WeakMap,pd=new WeakMap,_h=new WeakMap;function gR(n){const e=new Promise((i,r)=>{const l=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{i(ki(n.result)),l()},f=()=>{r(n.error),l()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&a0.set(i,n)}).catch(()=>{}),_h.set(e,n),e}function _R(n){if(Md.has(n))return;const e=new Promise((i,r)=>{const l=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Md.set(n,e)}let kd={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Md.get(n);if(e==="objectStoreNames")return n.objectStoreNames||l0.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ki(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yR(n){kd=n(kd)}function vR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=n.call(md(this),e,...i);return l0.set(r,e.sort?e.sort():[e]),ki(r)}:mR().includes(n)?function(...e){return n.apply(md(this),e),ki(a0.get(this))}:function(...e){return ki(n.apply(md(this),e))}}function ER(n){return typeof n=="function"?vR(n):(n instanceof IDBTransaction&&_R(n),hR(n,pR())?new Proxy(n,kd):n)}function ki(n){if(n instanceof IDBRequest)return gR(n);if(pd.has(n))return pd.get(n);const e=ER(n);return e!==n&&(pd.set(n,e),_h.set(e,n)),e}const md=n=>_h.get(n);function bR(n,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(n,e),h=ki(f);return r&&f.addEventListener("upgradeneeded",p=>{r(ki(f.result),p.oldVersion,p.newVersion,ki(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),h.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const SR=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],gd=new Map;function py(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gd.get(e))return gd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=TR.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||SR.includes(i)))return;const u=async function(f,...h){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[i](...h),l&&p.done]))[0]};return gd.set(e,u),u}yR(n=>({...n,get:(e,i,r)=>py(e,i)||n.get(e,i,r),has:(e,i)=>!!py(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CR(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function CR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ld="@firebase/app",my="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new gh("@firebase/app"),RR="@firebase/app-compat",AR="@firebase/analytics-compat",NR="@firebase/analytics",xR="@firebase/app-check-compat",OR="@firebase/app-check",DR="@firebase/auth",IR="@firebase/auth-compat",MR="@firebase/database",kR="@firebase/data-connect",LR="@firebase/database-compat",UR="@firebase/functions",PR="@firebase/functions-compat",zR="@firebase/installations",jR="@firebase/installations-compat",BR="@firebase/messaging",HR="@firebase/messaging-compat",qR="@firebase/performance",FR="@firebase/performance-compat",VR="@firebase/remote-config",GR="@firebase/remote-config-compat",YR="@firebase/storage",KR="@firebase/storage-compat",WR="@firebase/firestore",QR="@firebase/vertexai",XR="@firebase/firestore-compat",$R="firebase",ZR="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]",JR={[Ld]:"fire-core",[RR]:"fire-core-compat",[NR]:"fire-analytics",[AR]:"fire-analytics-compat",[OR]:"fire-app-check",[xR]:"fire-app-check-compat",[DR]:"fire-auth",[IR]:"fire-auth-compat",[MR]:"fire-rtdb",[kR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[UR]:"fire-fn",[PR]:"fire-fn-compat",[zR]:"fire-iid",[jR]:"fire-iid-compat",[BR]:"fire-fcm",[HR]:"fire-fcm-compat",[qR]:"fire-perf",[FR]:"fire-perf-compat",[VR]:"fire-rc",[GR]:"fire-rc-compat",[YR]:"fire-gcs",[KR]:"fire-gcs-compat",[WR]:"fire-fst",[XR]:"fire-fst-compat",[QR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,e1=new Map,Pd=new Map;function gy(n,e){try{n.container.addComponent(e)}catch(i){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function br(n){const e=n.name;if(Pd.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,n);for(const i of su.values())gy(i,n);for(const i of e1.values())gy(i,n);return!0}function yh(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Xt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new hl("app","Firebase",t1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=ZR;function o0(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ud,automaticDataCollectionEnabled:!1},e),l=r.name;if(typeof l!="string"||!l)throw Li.create("bad-app-name",{appName:String(l)});if(i||(i=n0()),!i)throw Li.create("no-options");const u=su.get(l);if(u){if(_s(i,u.options)&&_s(r,u.config))return u;throw Li.create("duplicate-app",{appName:l})}const f=new oR(l);for(const p of Pd.values())f.addComponent(p);const h=new n1(i,r,f);return su.set(l,h),h}function u0(n=Ud){const e=su.get(n);if(!e&&n===Ud&&n0())return o0();if(!e)throw Li.create("no-app",{appName:n});return e}function Ui(n,e,i){var r;let l=(r=JR[n])!==null&&r!==void 0?r:n;i&&(l+=`-${i}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${l}" with version "${e}":`];u&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(h.join(" "));return}br(new ys(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebase-heartbeat-database",s1=1,Ja="firebase-heartbeat-store";let _d=null;function c0(){return _d||(_d=bR(i1,s1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ja)}catch(i){console.warn(i)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),_d}async function r1(n){try{const i=(await c0()).transaction(Ja),r=await i.objectStore(Ja).get(f0(n));return await i.done,r}catch(e){if(e instanceof Bi)$n.warn(e.message);else{const i=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$n.warn(i.message)}}}async function _y(n,e){try{const r=(await c0()).transaction(Ja,"readwrite");await r.objectStore(Ja).put(e,f0(n)),await r.done}catch(i){if(i instanceof Bi)$n.warn(i.message);else{const r=Li.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});$n.warn(r.message)}}}function f0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=1024,l1=30;class o1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new c1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=yy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>l1){const f=f1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$n.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=yy(),{heartbeatsToSend:r,unsentEntries:l}=u1(this._heartbeatsCache.heartbeats),u=tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return $n.warn(i),""}}}function yy(){return new Date().toISOString().substring(0,10)}function u1(n,e=a1){const i=[];let r=n.slice();for(const l of n){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),vy(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),vy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class c1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await r1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function vy(n){return tu(JSON.stringify({version:2,heartbeats:n})).length}function f1(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n){br(new ys("platform-logger",e=>new wR(e),"PRIVATE")),br(new ys("heartbeat",e=>new o1(e),"PRIVATE")),Ui(Ld,my,n),Ui(Ld,my,"esm2017"),Ui("fire-js","")}d1("");function vh(n,e){var i={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(i[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(i[r[l]]=n[r[l]]);return i}function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h1=d0,h0=new hl("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new gh("@firebase/auth");function p1(n,...e){ru.logLevel<=Ae.WARN&&ru.warn(`Auth (${Nr}): ${n}`,...e)}function Yo(n,...e){ru.logLevel<=Ae.ERROR&&ru.error(`Auth (${Nr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,...e){throw Eh(n,...e)}function yn(n,...e){return Eh(n,...e)}function p0(n,e,i){const r=Object.assign(Object.assign({},h1()),{[e]:i});return new hl("auth","Firebase",r).create(e,{appName:n.name})}function Yn(n){return p0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eh(n,...e){if(typeof n!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(i,...r)}return h0.create(n,...e)}function ee(n,e,...i){if(!n)throw Eh(e,...i)}function Hn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Yo(e),new Error(e)}function Zn(n,e){n||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function m1(){return Ey()==="http:"||Ey()==="https:"}function Ey(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m1()||VC()||"connection"in navigator)?navigator.onLine:!0}function _1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Zn(i>e,"Short delay should be less than long delay!"),this.isMobile=ph()||s0()}get(){return g1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n,e){Zn(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new pl(3e4,6e4);function ii(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function si(n,e,i,r,l={}){return g0(n,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const h=Ar(Object.assign({key:n.config.apiKey},f)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},u);return FC()||(m.referrerPolicy="no-referrer"),m0.fetch()(_0(n,n.config.apiHost,i,h),m)})}async function g0(n,e,i){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},y1),e);try{const l=new b1(n),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ho(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ho(n,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ho(n,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ho(n,"user-disabled",f);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw p0(n,_,m);ln(n,_)}}catch(l){if(l instanceof Bi)throw l;ln(n,"network-request-failed",{message:String(l)})}}async function ml(n,e,i,r,l={}){const u=await si(n,e,i,r,l);return"mfaPendingCredential"in u&&ln(n,"multi-factor-auth-required",{_serverResponse:u}),u}function _0(n,e,i,r){const l=`${e}${i}?${r}`;return n.config.emulator?bh(n.config,l):`${n.config.apiScheme}://${l}`}function E1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),v1.get())})}}function Ho(n,e,i){const r={appName:n.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=yn(n,e,r);return l.customData._tokenResponse=i,l}function by(n){return n!==void 0&&n.enterprise!==void 0}class S1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return E1(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T1(n,e){return si(n,"GET","/v2/recaptchaConfig",ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(n,e){return si(n,"POST","/v1/accounts:delete",e)}async function y0(n,e){return si(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C1(n,e=!1){const i=xt(n),r=await i.getIdToken(e),l=Sh(r);ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:r,authTime:Ga(yd(l.auth_time)),issuedAtTime:Ga(yd(l.iat)),expirationTime:Ga(yd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function yd(n){return Number(n)*1e3}function Sh(n){const[e,i,r]=n.split(".");if(e===void 0||i===void 0||r===void 0)return Yo("JWT malformed, contained fewer than 3 sections"),null;try{const l=nu(i);return l?JSON.parse(l):(Yo("Failed to decode base64 JWT payload"),null)}catch(l){return Yo("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Sy(n){const e=Sh(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof Bi&&R1(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function R1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(n){var e;const i=n.auth,r=await n.getIdToken(),l=await el(n,y0(i,{idToken:r}));ee(l==null?void 0:l.users.length,i,"internal-error");const u=l.users[0];n._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?v0(u.providerUserInfo):[],h=x1(n.providerData,f),p=n.isAnonymous,m=!(n.email&&u.passwordHash)&&!(h!=null&&h.length),_=p?m:!1,y={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new jd(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(n,y)}async function N1(n){const e=xt(n);await au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x1(n,e){return[...n.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function v0(n){return n.map(e=>{var{providerId:i}=e,r=vh(e,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(n,e){const i=await g0(n,{},async()=>{const r=Ar({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=n.config,f=_0(n,l,"/v1/token",`key=${u}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",m0.fetch()(f,{method:"POST",headers:h,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function D1(n,e){return si(n,"POST","/v2/accounts:revokeToken",ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const i=Sy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await O1(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,f=new hr;return r&&(ee(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hr,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:i,auth:r,stsTokenManager:l}=e,u=vh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new jd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const i=await el(this,this.stsTokenManager.getToken(this.auth,e));return ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return C1(this,e)}reload(){return N1(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await au(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xt(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await el(this,w1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var r,l,u,f,h,p,m,_;const y=(r=i.displayName)!==null&&r!==void 0?r:void 0,E=(l=i.email)!==null&&l!==void 0?l:void 0,R=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,S=(f=i.photoURL)!==null&&f!==void 0?f:void 0,D=(h=i.tenantId)!==null&&h!==void 0?h:void 0,I=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,L=(m=i.createdAt)!==null&&m!==void 0?m:void 0,H=(_=i.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:q,emailVerified:ie,isAnonymous:K,providerData:_e,stsTokenManager:we}=i;ee(q&&we,e,"internal-error");const Pe=hr.fromJSON(this.name,we);ee(typeof q=="string",e,"internal-error"),xi(y,e.name),xi(E,e.name),ee(typeof ie=="boolean",e,"internal-error"),ee(typeof K=="boolean",e,"internal-error"),xi(R,e.name),xi(S,e.name),xi(D,e.name),xi(I,e.name),xi(L,e.name),xi(H,e.name);const G=new qn({uid:q,auth:e,email:E,emailVerified:ie,displayName:y,isAnonymous:K,photoURL:S,phoneNumber:R,tenantId:D,stsTokenManager:Pe,createdAt:L,lastLoginAt:H});return _e&&Array.isArray(_e)&&(G.providerData=_e.map(re=>Object.assign({},re))),I&&(G._redirectEventId=I),G}static async _fromIdTokenResponse(e,i,r=!1){const l=new hr;l.updateFromServerResponse(i);const u=new qn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await au(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?v0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),h=new hr;h.updateFromIdToken(r);const p=new qn({uid:l.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;function Fn(n){Zn(n instanceof Function,"Expected a class definition");let e=Ty.get(n);return e?(Zn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ty.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}E0.type="NONE";const wy=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(n,e,i){return`firebase:${n}:${e}:${i}`}class pr{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Ko(this.userKey,l.apiKey,u),this.fullPersistenceKey=Ko("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new pr(Fn(wy),e,r);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Fn(wy);const f=Ko(r,e.config.apiKey,e.name);let h=null;for(const m of i)try{const _=await m._get(f);if(_){const y=qn._fromJSON(e,_);m!==u&&(h=y),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new pr(u,e,r):(u=p[0],h&&await u._set(f,h.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new pr(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(A0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||T0(e))&&!e.includes("edge/"))return"Chrome";if(C0(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b0(n=vt()){return/firefox\//i.test(n)}function S0(n=vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T0(n=vt()){return/crios\//i.test(n)}function w0(n=vt()){return/iemobile/i.test(n)}function C0(n=vt()){return/android/i.test(n)}function R0(n=vt()){return/blackberry/i.test(n)}function A0(n=vt()){return/webos/i.test(n)}function Th(n=vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function I1(n=vt()){var e;return Th(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M1(){return GC()&&document.documentMode===10}function N0(n=vt()){return Th(n)||C0(n)||A0(n)||R0(n)||/windows phone/i.test(n)||w0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e=[]){let i;switch(n){case"Browser":i=Cy(vt());break;case"Worker":i=`${Cy(vt())}-${n}`;break;default:i=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Nr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((f,h)=>{try{const p=e(u);f(p)}catch(p){h(p)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(n,e={}){return si(n,"GET","/v2/passwordPolicy",ii(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=6;class P1{constructor(e){var i,r,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=f.minPasswordLength)!==null&&i!==void 0?i:U1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,r,l,u,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ry(this),this.idTokenSubscription=new Ry(this),this.beforeStateQueue=new k1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Fn(i)),this._initializationPromise=this.queue(async()=>{var r,l;if(!this._deleted&&(this.persistenceManager=await pr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await y0(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let l=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,h=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await au(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xt(this.app))return Promise.reject(Yn(this));const i=e?xt(e):null;return i&&ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xt(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xt(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L1(this),i=new P1(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await D1(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Fn(e)||this._popupRedirectResolver;ee(i,this,"argument-error"),this.redirectPersistenceManager=await pr.create(this,[Fn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&p1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Hi(n){return xt(n)}class Ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=tR(i=>this.observer=i)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j1(n){Du=n}function O0(n){return Du.loadJS(n)}function B1(){return Du.recaptchaEnterpriseScript}function H1(){return Du.gapiScript}function q1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class F1{constructor(){this.enterprise=new V1}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class V1{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const G1="recaptcha-enterprise",D0="NO_RECAPTCHA";class Y1{constructor(e){this.type=G1,this.auth=Hi(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,h)=>{T1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new S1(p);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function l(u,f,h){const p=window.grecaptcha;by(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(m=>{f(m)}).catch(()=>{f(D0)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(h=>{if(!i&&by(window.grecaptcha))l(h,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=B1();p.length!==0&&(p+=h),O0(p).then(()=>{l(h,u,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function Ay(n,e,i,r=!1,l=!1){const u=new Y1(n);let f;if(l)f=D0;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const h=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function lu(n,e,i,r,l){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Ay(n,e,i,i==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Ay(n,e,i,i==="getOobCode");return r(n,h)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n,e){const i=yh(n,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(_s(u,e??{}))return l;ln(l,"already-initialized")}return i.initialize({options:e})}function W1(n,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(Fn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Q1(n,e,i){const r=Hi(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=I0(e),{host:f,port:h}=X1(e),p=h===null?"":`:${h}`,m={url:`${u}//${f}${p}/`},_=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(_s(m,r.config.emulator)&&_s(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,$1()}function I0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function X1(n){const e=I0(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Ny(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Ny(f)}}}function Ny(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function $1(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,i){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function Z1(n,e){return si(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(n,e){return ml(n,"POST","/v1/accounts:signInWithPassword",ii(n,e))}async function eA(n,e){return si(n,"POST","/v1/accounts:sendOobCode",ii(n,e))}async function tA(n,e){return eA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n,e){return ml(n,"POST","/v1/accounts:signInWithEmailLink",ii(n,e))}async function iA(n,e){return ml(n,"POST","/v1/accounts:signInWithEmailLink",ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends wh{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new tl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new tl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lu(e,i,"signInWithPassword",J1);case"emailLink":return nA(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lu(e,r,"signUpPassword",Z1);case"emailLink":return iA(e,{idToken:i,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mr(n,e){return ml(n,"POST","/v1/accounts:signInWithIdp",ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="http://localhost";class vs extends wh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l}=i,u=vh(i,["providerId","signInMethod"]);if(!r||!l)return null;const f=new vs(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return mr(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,mr(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,mr(e,i)}buildRequest(){const e={requestUri:sA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ar(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aA(n){const e=Fa(Va(n)).link,i=e?Fa(Va(e)).deep_link_id:null,r=Fa(Va(n)).deep_link_id;return(r?Fa(Va(r)).link:null)||r||i||e||n}class Ch{constructor(e){var i,r,l,u,f,h;const p=Fa(Va(e)),m=(i=p.apiKey)!==null&&i!==void 0?i:null,_=(r=p.oobCode)!==null&&r!==void 0?r:null,y=rA((l=p.mode)!==null&&l!==void 0?l:null);ee(m&&_&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const i=aA(e);try{return new Ch(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.providerId=xr.PROVIDER_ID}static credential(e,i){return tl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Ch.parseLink(i);return ee(r,"argument-error"),tl._fromEmailAndCode(e,r.code,r.tenantId)}}xr.PROVIDER_ID="password";xr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends gl{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return vs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Di.credential(i,r)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends gl{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends gl{constructor(){super("twitter.com")}static credential(e,i){return vs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Mi.credential(i,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(n,e){return ml(n,"POST","/v1/accounts:signUp",ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await qn._fromIdTokenResponse(e,r,l),f=xy(r);return new Es({user:u,providerId:f,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=xy(r);return new Es({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function xy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Bi{constructor(e,i,r,l){var u;super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,ou.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new ou(e,i,r,l)}}function k0(n,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ou._fromErrorAndOperation(n,u,e,r):u})}async function oA(n,e,i=!1){const r=await el(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Es._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(n,e,i=!1){const{auth:r}=n;if(Xt(r.app))return Promise.reject(Yn(r));const l="reauthenticate";try{const u=await el(n,k0(r,l,e,n),i);ee(u.idToken,r,"internal-error");const f=Sh(u.idToken);ee(f,r,"internal-error");const{sub:h}=f;return ee(n.uid===h,r,"user-mismatch"),Es._forOperation(n,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(n,e,i=!1){if(Xt(n.app))return Promise.reject(Yn(n));const r="signIn",l=await k0(n,r,e),u=await Es._fromIdTokenResponse(n,r,l);return i||await n._updateCurrentUser(u.user),u}async function cA(n,e){return L0(Hi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(n){const e=Hi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fA(n,e,i){const r=Hi(n);await lu(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tA)}async function dA(n,e,i){if(Xt(n.app))return Promise.reject(Yn(n));const r=Hi(n),f=await lu(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&U0(n),p}),h=await Es._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(h.user),h}function hA(n,e,i){return Xt(n.app)?Promise.reject(Yn(n)):cA(xt(n),xr.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U0(n),r})}function pA(n,e,i,r){return xt(n).onIdTokenChanged(e,i,r)}function mA(n,e,i){return xt(n).beforeAuthStateChanged(e,i)}function gA(n,e,i,r){return xt(n).onAuthStateChanged(e,i,r)}function _A(n){return xt(n).signOut()}const uu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=1e3,vA=10;class z0 extends P0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=N0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);M1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,vA):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},yA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}z0.type="LOCAL";const EA=z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends P0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}j0.type="SESSION";const B0=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Iu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const h=Array.from(f).map(async m=>m(i.origin,u)),p=await bA(h);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((h,p)=>{const m=Rh("",20);l.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(E.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return window}function TA(n){vn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}async function wA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function RA(){return H0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",AA=1,cu="firebaseLocalStorage",F0="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Mu(n,e){return n.transaction([cu],e?"readwrite":"readonly").objectStore(cu)}function NA(){const n=indexedDB.deleteDatabase(q0);return new _l(n).toPromise()}function Bd(){const n=indexedDB.open(q0,AA);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(cu,{keyPath:F0})}catch(l){i(l)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(cu)?e(r):(r.close(),await NA(),e(await Bd()))})})}async function Oy(n,e,i){const r=Mu(n,!0).put({[F0]:e,value:i});return new _l(r).toPromise()}async function xA(n,e){const i=Mu(n,!1).get(e),r=await new _l(i).toPromise();return r===void 0?null:r.value}function Dy(n,e){const i=Mu(n,!0).delete(e);return new _l(i).toPromise()}const OA=800,DA=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>DA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iu._getInstance(RA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await wA(),!this.activeServiceWorker)return;this.sender=new SA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bd();return await Oy(e,uu,"1"),await Dy(e,uu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Oy(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>xA(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Mu(l,!1).getAll();return new _l(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const IA=V0;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,e){return e?Fn(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends wh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mr(e,this._buildIdpRequest())}_linkToIdToken(e,i){return mr(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return mr(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function kA(n){return L0(n.auth,new Ah(n),n.bypassAuthState)}function LA(n){const{auth:e,user:i}=n;return ee(i,e,"internal-error"),uA(i,new Ah(n),n.bypassAuthState)}async function UA(n){const{auth:e,user:i}=n;return ee(i,e,"internal-error"),oA(i,new Ah(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kA;case"linkViaPopup":case"linkViaRedirect":return UA;case"reauthViaPopup":case"reauthViaRedirect":return LA;default:ln(this.auth,"internal-error")}}resolve(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new pl(2e3,1e4);class fr extends G0{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,fr.currentPopupAction&&fr.currentPopupAction.cancel(),fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const e=Rh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PA.get())};e()}}fr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="pendingRedirect",Wo=new Map;class jA extends G0{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Wo.get(this.auth._key());if(!e){try{const r=await BA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Wo.set(this.auth._key(),e)}return this.bypassAuthState||Wo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BA(n,e){const i=FA(e),r=qA(n);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function HA(n,e){Wo.set(n._key(),e)}function qA(n){return Fn(n._redirectPersistence)}function FA(n){return Ko(zA,n.config.apiKey,n.name)}async function VA(n,e,i=!1){if(Xt(n.app))return Promise.reject(Yn(n));const r=Hi(n),l=MA(r,e),f=await new jA(r,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=10*60*1e3;class YA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!Y0(e)){const l=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(yn(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iy(e))}saveEventToCache(e){this.cachedEventUids.add(Iy(e)),this.lastProcessedEventTime=Date.now()}}function Iy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Y0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e={}){return si(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XA=/^https?/;async function $A(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WA(n);for(const i of e)try{if(ZA(i))return}catch{}ln(n,"unauthorized-domain")}function ZA(n){const e=zd(),{protocol:i,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===r}if(!XA.test(i))return!1;if(QA.test(n))return r===n;const l=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new pl(3e4,6e4);function My(){const n=vn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function eN(n){return new Promise((e,i)=>{var r,l,u;function f(){My(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{My(),i(yn(n,"network-request-failed"))},timeout:JA.get()})}if(!((l=(r=vn().gapi)===null||r===void 0?void 0:r.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=vn().gapi)===null||u===void 0)&&u.load)f();else{const h=q1("iframefcb");return vn()[h]=()=>{gapi.load?f():i(yn(n,"network-request-failed"))},O0(`${H1()}?onload=${h}`).catch(p=>i(p))}}).catch(e=>{throw Qo=null,e})}let Qo=null;function tN(n){return Qo=Qo||eN(n),Qo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new pl(5e3,15e3),iN="__/auth/iframe",sN="emulator/auth/iframe",rN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(n){const e=n.config;ee(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?bh(e,sN):`https://${n.config.authDomain}/${iN}`,r={apiKey:e.apiKey,appName:n.name,v:Nr},l=aN.get(n.config.apiHost);l&&(r.eid=l);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Ar(r).slice(1)}`}async function oN(n){const e=await tN(n),i=vn().gapi;return ee(i,n,"internal-error"),e.open({where:document.body,url:lN(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=yn(n,"network-request-failed"),h=vn().setTimeout(()=>{u(f)},nN.get());function p(){vn().clearTimeout(h),l(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cN=500,fN=600,dN="_blank",hN="http://localhost";class ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pN(n,e,i,r=cN,l=fN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},uN),{width:r.toString(),height:l.toString(),top:u,left:f}),m=vt().toLowerCase();i&&(h=T0(m)?dN:i),b0(m)&&(e=e||hN,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[R,S])=>`${E}${R}=${S},`,"");if(I1(m)&&h!=="_self")return mN(e||"",h),new ky(null);const y=window.open(e||"",h,_);ee(y,n,"popup-blocked");try{y.focus()}catch{}return new ky(y)}function mN(n,e){const i=document.createElement("a");i.href=n,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__/auth/handler",_N="emulator/auth/handler",yN=encodeURIComponent("fac");async function Ly(n,e,i,r,l,u){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:r,v:Nr,eventId:l};if(e instanceof M0){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",Id(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))f[_]=y}if(e instanceof gl){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(f.scopes=_.join(","))}n.tenantId&&(f.tid=n.tenantId);const h=f;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),m=p?`#${yN}=${encodeURIComponent(p)}`:"";return`${vN(n)}?${Ar(h).slice(1)}${m}`}function vN({config:n}){return n.emulator?bh(n,_N):`https://${n.authDomain}/${gN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="webStorageSupport";class EN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B0,this._completeRedirectFn=VA,this._overrideRedirectResult=HA}async _openPopup(e,i,r,l){var u;Zn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Ly(e,i,r,zd(),l);return pN(e,f,Rh())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await Ly(e,i,r,zd(),l);return TA(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(Zn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await oN(e),r=new YA(e);return i.register("authEvent",l=>(ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(vd,{type:vd},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[vd];f!==void 0&&i(!!f),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$A(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return N0()||S0()||Th()}}const bN=EN;var Uy="@firebase/auth",Py="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(n){br(new ys("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=r.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(n)},m=new z1(r,l,u,p);return W1(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),br(new ys("auth-internal",e=>{const i=Hi(e.getProvider("auth").getImmediate());return(r=>new SN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(Uy,Py,TN(n)),Ui(Uy,Py,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=5*60,RN=i0("authIdTokenMaxAge")||CN;let zy=null;const AN=n=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>RN)return;const l=i==null?void 0:i.token;zy!==l&&(zy=l,await fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nl(n=u0()){const e=yh(n,"auth");if(e.isInitialized())return e.getImmediate();const i=K1(n,{popupRedirectResolver:bN,persistence:[IA,EA,B0]}),r=i0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=AN(u.toString());mA(i,f,()=>f(i.currentUser)),pA(i,h=>f(h))}}const l=t0("auth");return l&&Q1(i,`http://${l}`),i}function NN(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}j1({loadJS(n){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=l=>{const u=yn("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",NN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");function xN(n){const e=x.useContext(Lr),{setUser:i}={...n},r=Au(),[l,u]=x.useState(!0),[f,h]=x.useState(!1),p=x.useRef(null);x.useEffect(()=>{const S=nl();gA(S,D=>{D!=null&&i(D),u(!1)})},[]);function m(){r("/")}function _(){document.getElementById("loginDialog").showModal()}function y(){document.getElementById("signupDialog").showModal()}async function E(){document.getElementById("settingPasswordDialog").showModal()}async function R(S){S.preventDefault();const D=nl();await _A(D),i(null),h(!0),p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{h(!1)},5e3)}return T.jsxs(T.Fragment,{children:[T.jsx("header",{className:"fixed z-[99] top-0 left-0 right-0 h-12 bg-slate-200/80 backdrop-blur-lg",children:T.jsxs("div",{className:"sectionWrapper flex justify-between py-2",children:[T.jsx("h1",{className:"md:text-base font-bold text-slate-800",children:T.jsx("button",{onClick:m,children:"Summarized Wiki"})}),T.jsx("div",{className:"group relative flex justify-end grow "+(l&&"hidden"),children:e?T.jsxs(T.Fragment,{children:[T.jsx("button",{id:"userIcon",className:"block w-8 h-8 p-1 ml-auto mr-0 bg-slate-500 rounded-full overflow-hidden focus:ring-1 ring-cyan-600",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"8.75",viewBox:"0 0 448 512",className:"w-full h-full fill-slate-50",children:T.jsx("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"})})}),T.jsxs("div",{className:"absolute top-full right-0 bg-white px-4 py-4 border border-slate-300 rounded transition pointer-events-none group-focus-within:pointer-events-auto group-focus:translate-y-2 group-focus-within:opacity-100 translate-y-0 opacity-0",children:[T.jsx("p",{className:"mb-4",children:e.email}),T.jsx("button",{onClick:E,className:"block py-0.5 ml-auto mr-0 rounded font-bold text-sm md:text-base text-slate-800 mb-4 ",children:""}),T.jsx("button",{onClick:R,className:"block w-20 py-0.5 ml-auto mr-0 rounded font-bold text-sm md:text-base bg-slate-600 text-slate-50 ",children:""})]})]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:_,className:"w-20 py-0.5 rounded font-bold text-sm md:text-base bg-slate-600 text-slate-50 mr-2 md:mr-4",children:""}),T.jsx("button",{onClick:y,className:"w-20 py-0.5 rounded font-bold text-sm md:text-base text-slate-800",children:""})]})})]})}),T.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:T.jsx("p",{children:""})})]})}var ON="firebase",DN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(ON,DN,"app");var jy={};const By="@firebase/database",Hy="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0="";function IN(n){K0=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:Za(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MN(e)}}catch{}return new kN},hs=W0("localStorage"),LN=W0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new gh("@firebase/database"),UN=function(){let n=1;return function(){return n++}}(),Q0=function(n){const e=sR(n),i=new eR;i.update(e);const r=i.digest();return dh.encodeByteArray(r)},yl=function(...n){let e="";for(let i=0;i<n.length;i++){const r=n[i];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yl.apply(null,r):typeof r=="object"?e+=rt(r):e+=r,e+=" "}return e};let Ya=null,qy=!0;const PN=function(n,e){F(!0,"Can't turn on custom loggers persistently."),gr.logLevel=Ae.VERBOSE,Ya=gr.log.bind(gr)},ht=function(...n){if(qy===!0&&(qy=!1,Ya===null&&LN.get("logging_enabled")===!0&&PN()),Ya){const e=yl.apply(null,n);Ya(e)}},vl=function(n){return function(...e){ht(n,...e)}},Hd=function(...n){const e="FIREBASE INTERNAL ERROR: "+yl(...n);gr.error(e)},Jn=function(...n){const e=`FIREBASE FATAL ERROR: ${yl(...n)}`;throw gr.error(e),new Error(e)},Rt=function(...n){const e="FIREBASE WARNING: "+yl(...n);gr.warn(e)},zN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},X0=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},jN=function(n){if(document.readyState==="complete")n();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Sr="[MIN_NAME]",bs="[MAX_NAME]",Or=function(n,e){if(n===e)return 0;if(n===Sr||e===bs)return-1;if(e===Sr||n===bs)return 1;{const i=Fy(n),r=Fy(e);return i!==null?r!==null?i-r===0?n.length-e.length:i-r:-1:r!==null?1:n<e?-1:1}},BN=function(n,e){return n===e?0:n<e?-1:1},Pa=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+rt(e))},Nh=function(n){if(typeof n!="object"||n===null)return rt(n);const e=[];for(const r in n)e.push(r);e.sort();let i="{";for(let r=0;r<e.length;r++)r!==0&&(i+=","),i+=rt(e[r]),i+=":",i+=Nh(n[e[r]]);return i+="}",i},$0=function(n,e){const i=n.length;if(i<=e)return[n];const r=[];for(let l=0;l<i;l+=e)l+e>i?r.push(n.substring(l,i)):r.push(n.substring(l,l+e));return r};function Nt(n,e){for(const i in n)n.hasOwnProperty(i)&&e(i,n[i])}const Z0=function(n){F(!X0(n),"Invalid JSON number");const e=11,i=52,r=(1<<e-1)-1;let l,u,f,h,p;n===0?(u=0,f=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=h+r,f=Math.round(n*Math.pow(2,i-h)-Math.pow(2,i))):(u=0,f=Math.round(n/Math.pow(2,1-r-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},HN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FN(n,e){let i="Unknown Error";n==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?i="Client doesn't have permission to access the desired data.":n==="unavailable"&&(i="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+i);return r.code=n.toUpperCase(),r}const VN=new RegExp("^-?(0*)\\d{1,10}$"),GN=-2147483648,YN=2147483647,Fy=function(n){if(VN.test(n)){const e=Number(n);if(e>=GN&&e<=YN)return e}return null},Dr=function(n){try{n()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Rt("Exception was thrown by user callback.",i),e},Math.floor(0))}},KN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ka=function(n,e){const i=setTimeout(n,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,Xt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,i,r){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(ht("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,r):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}}class Xo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="5",J0="v",eE="s",tE="r",nE="f",iE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sE="ls",rE="p",qd="ac",aE="websocket",lE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,i,r,l,u=!1,f="",h=!1,p=!1,m=null){this.secure=i,this.namespace=r,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&hs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function XN(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function uE(n,e,i){F(typeof e=="string","typeof type must == string"),F(typeof i=="object","typeof params must == object");let r;if(e===aE)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===lE)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);XN(n)&&(i.ns=n.namespace);const l=[];return Nt(i,(u,f)=>{l.push(u+"="+f)}),r+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.counters_={}}incrementCounter(e,i=1){ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return LC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed={},bd={};function Oh(n){const e=n.toString();return Ed[e]||(Ed[e]=new $N),Ed[e]}function ZN(n,e){const i=n.toString();return bd[i]||(bd[i]=e()),bd[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<r.length;++l)r[l]&&Dr(()=>{this.onMessage_(r[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="start",ex="close",tx="pLPCommand",nx="pRTLPCB",cE="id",fE="pw",dE="ser",ix="cb",sx="seg",rx="ts",ax="d",lx="dframe",hE=1870,pE=30,ox=hE-pE,ux=25e3,cx=3e4;class dr{constructor(e,i,r,l,u,f,h){this.connId=e,this.repoInfo=i,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vl(e),this.stats_=Oh(i),this.urlFn=p=>(this.appCheckToken&&(p[qd]=this.appCheckToken),uE(i,lE,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new JN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cx)),jN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dh((...u)=>{const[f,h,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Vy)this.id=h,this.password=p;else if(f===ex)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Vy]="t",r[dE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ix]=this.scriptTagHolder.uniqueCallbackIdentifier),r[J0]=xh,this.transportSessionId&&(r[eE]=this.transportSessionId),this.lastSessionId&&(r[sE]=this.lastSessionId),this.applicationId&&(r[rE]=this.applicationId),this.appCheckToken&&(r[qd]=this.appCheckToken),typeof location<"u"&&location.hostname&&iE.test(location.hostname)&&(r[tE]=nE);const l=this.urlFn(r);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dr.forceAllow_=!0}static forceDisallow(){dr.forceDisallow_=!0}static isAvailable(){return dr.forceAllow_?!0:!dr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HN()&&!qN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=rt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Jv(i),l=$0(r,ox);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const r={};r[lx]="t",r[cE]=e,r[fE]=i,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=rt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Dh{constructor(e,i,r,l){this.onDisconnect=r,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UN(),window[tx+this.uniqueCallbackIdentifier]=e,window[nx+this.uniqueCallbackIdentifier]=i,this.myIFrame=Dh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){ht("frame writing exception"),h.stack&&ht(h.stack),ht(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ht("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[cE]=this.myID,e[fE]=this.myPW,e[dE]=this.currentSerial;let i=this.urlFn(e),r="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pE+r.length<=hE;){const f=this.pendingSegs.shift();r=r+"&"+sx+l+"="+f.seg+"&"+rx+l+"="+f.ts+"&"+ax+l+"="+f.d,l++}return i=i+r,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,r){this.pendingSegs.push({seg:e,ts:i,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const r=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(r,Math.floor(ux)),u=()=>{clearTimeout(l),r()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const l=r.readyState;(!l||l==="loaded"||l==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),i())},r.onerror=()=>{ht("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=16384,dx=45e3;let fu=null;typeof MozWebSocket<"u"?fu=MozWebSocket:typeof WebSocket<"u"&&(fu=WebSocket);class tn{constructor(e,i,r,l,u,f,h){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vl(this.connId),this.stats_=Oh(i),this.connURL=tn.connectionURL_(i,f,h,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l,u){const f={};return f[J0]=xh,typeof location<"u"&&location.hostname&&iE.test(location.hostname)&&(f[tE]=nE),i&&(f[eE]=i),r&&(f[sE]=r),l&&(f[qd]=l),u&&(f[rE]=u),uE(e,aE,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hs.set("previous_websocket_failure",!0);try{let r;YC(),this.mySock=new fu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&fu!==null&&!tn.forceDisallow_}static previouslyFailed(){return hs.isInMemoryStorage||hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){hs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Za(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=rt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=$0(i,fx);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dx))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static get ALL_TRANSPORTS(){return[dr,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=tn&&tn.isAvailable();let r=i&&!tn.previouslyFailed();if(e.webSocketOnly&&(i||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const l=this.transports_=[];for(const u of il.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);il.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}il.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=6e4,px=5e3,mx=10*1024,gx=100*1024,Sd="t",Gy="d",_x="s",Yy="r",yx="e",Ky="o",Wy="a",Qy="n",Xy="p",vx="h";class Ex{constructor(e,i,r,l,u,f,h,p,m,_){this.id=e,this.repoInfo_=i,this.applicationId_=r,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vl("c:"+this.id+":"),this.transportManager_=new il(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,r)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ka(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sd in e){const i=e[Sd];i===Wy?this.upgradeIfSecondaryHealthy_():i===Yy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Ky&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Pa("t",e),r=Pa("d",e);if(i==="c")this.onSecondaryControl_(r);else if(i==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Xy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Qy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Pa("t",e),r=Pa("d",e);i==="c"?this.onControl_(r):i==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Pa(Sd,e);if(Gy in e){const r=e[Gy];if(i===vx){const l=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===Qy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===_x?this.onConnectionShutdown_(r):i===Yy?this.onReset_(r):i===yx?Hd("Server Error: "+r):i===Ky?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hd("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,r=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),xh!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,r),Ka(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ka(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(px))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Xy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{put(e,i,r,l){}merge(e,i,r,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,r){}onDisconnectMerge(e,i,r){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let l=0;l<r.length;l++)r[l].callback.apply(r[l].context,i)}}on(e,i,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:r});const l=this.getInitialEvent(e);l&&i.apply(r,l)}off(e,i,r){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!r||r===l[u].context)){l.splice(u,1);return}}validateEventType_(e){F(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends gE{static getInstance(){return new du}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ph()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=32,Zy=768;class xe{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let r=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[r]=this.pieces_[l],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Se(){return new xe("")}function de(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function zi(n){return n.pieces_.length-n.pieceNum_}function Me(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function _E(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bx(n){let e="";for(let i=n.pieceNum_;i<n.pieces_.length;i++)n.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[i])));return e||"/"}function yE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function vE(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let i=n.pieceNum_;i<n.pieces_.length-1;i++)e.push(n.pieces_[i]);return new xe(e,0)}function Ze(n,e){const i=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)i.push(n.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)i.push(e.pieces_[r]);else{const r=e.split("/");for(let l=0;l<r.length;l++)r[l].length>0&&i.push(r[l])}return new xe(i,0)}function me(n){return n.pieceNum_>=n.pieces_.length}function wt(n,e){const i=de(n),r=de(e);if(i===null)return e;if(i===r)return wt(Me(n),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Ih(n,e){if(zi(n)!==zi(e))return!1;for(let i=n.pieceNum_,r=e.pieceNum_;i<=n.pieces_.length;i++,r++)if(n.pieces_[i]!==e.pieces_[r])return!1;return!0}function nn(n,e){let i=n.pieceNum_,r=e.pieceNum_;if(zi(n)>zi(e))return!1;for(;i<n.pieces_.length;){if(n.pieces_[i]!==e.pieces_[r])return!1;++i,++r}return!0}class Sx{constructor(e,i){this.errorPrefix_=i,this.parts_=yE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ou(this.parts_[r]);EE(this)}}function Tx(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ou(e),EE(n)}function wx(n){const e=n.parts_.pop();n.byteLength_-=Ou(e),n.parts_.length>0&&(n.byteLength_-=1)}function EE(n){if(n.byteLength_>Zy)throw new Error(n.errorPrefix_+"has a key path longer than "+Zy+" bytes ("+n.byteLength_+").");if(n.parts_.length>$y)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$y+") or object contains a cycle "+ds(n))}function ds(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends gE{static getInstance(){return new Mh}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=1e3,Cx=60*5*1e3,Jy=30*1e3,Rx=1.3,Ax=3e4,Nx="server_kill",ev=3;class Kn extends mE{constructor(e,i,r,l,u,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=Kn.nextPersistentConnectionId_++,this.log_=vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=za,this.maxReconnectDelay_=Cx,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&du.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(rt(u)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new xu,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?i.resolve(h):i.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,r,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const p=h.d,m=h.s;Kn.warnOnListenWarnings_(p,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&ni(e,"w")){const r=Er(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||JC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=ZC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";l&&(u.q=r,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const u={p:i,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,u){this.initConnection_();const f={p:i,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Hd("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=za,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=za,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ax&&(this.reconnectDelay_=za),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Rx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Kn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,r())},m=function(y){F(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?ht("getToken() completed but was canceled"):(ht("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,h=new Ex(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,r,R=>{Rt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(Nx)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Rt(y),p())}}}interrupt(e){ht("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ht("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Id(this.interruptReasons_)&&(this.reconnectDelay_=za,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;i?r=i.map(u=>Nh(u)).join("$"):r="default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new xe(e).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){ht("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ev&&(this.reconnectDelay_=Jy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ht("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ev&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+K0.replace(/\./g,"-")]=1,ph()?e["framework.cordova"]=1:s0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=du.getInstance().currentlyOnline();return Id(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new he(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const r=new he(Sr,e),l=new he(Sr,i);return this.compare(r,l)!==0}minPost(){return he.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo;class bE extends ku{static get __EMPTY_NODE(){return qo}static set __EMPTY_NODE(e){qo=e}compare(e,i){return Or(e.name,i.name)}isDefinedOn(e){throw Rr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return he.MIN}maxPost(){return new he(bs,qo)}makePost(e,i){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new he(e,qo)}toString(){return".key"}}const _r=new bE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i,r,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?r(e.key,i):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??st.RED,this.left=l??Ct.EMPTY_NODE,this.right=u??Ct.EMPTY_NODE}copy(e,i,r,l,u){return new st(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(e,r.key)===0){if(r.right.isEmpty())return Ct.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class xx{copy(e,i,r,l,u){return this}insert(e,i,r){return new st(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ct{constructor(e,i=Ct.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new Ct(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new Ct(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let i,r=this.root_;for(;!r.isEmpty();){if(i=this.comparator_(e,r.key),i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}getPredecessorKey(e){let i,r=this.root_,l=null;for(;!r.isEmpty();)if(i=this.comparator_(e,r.key),i===0){if(r.left.isEmpty())return l?l.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else i<0?r=r.left:i>0&&(l=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Fo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Fo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}Ct.EMPTY_NODE=new xx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n,e){return Or(n.name,e.name)}function kh(n,e){return Or(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;function Dx(n){Fd=n}const SE=function(n){return typeof n=="number"?"number:"+Z0(n):"string:"+n},TE=function(n){if(n.isLeafNode()){const e=n.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ni(e,".sv"),"Priority must be a string or number.")}else F(n===Fd||n.isEmpty(),"priority of unexpected type.");F(n===Fd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tv;class it{static set __childrenNodeConstructor(e){tv=e}static get __childrenNodeConstructor(){return tv}constructor(e,i=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return me(e)?this:de(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=de(e);return r===null?i:i.isEmpty()&&r!==".priority"?this:(F(r!==".priority"||zi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=Z0(this.value_):e+=this.value_,this.lazyHash_=Q0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=it.VALUE_TYPE_ORDER.indexOf(i),u=it.VALUE_TYPE_ORDER.indexOf(r);return F(l>=0,"Unknown leaf type: "+i),F(u>=0,"Unknown leaf type: "+r),l===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wE,CE;function Ix(n){wE=n}function Mx(n){CE=n}class kx extends ku{compare(e,i){const r=e.node.getPriority(),l=i.node.getPriority(),u=r.compareTo(l);return u===0?Or(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return he.MIN}maxPost(){return new he(bs,new it("[PRIORITY-POST]",CE))}makePost(e,i){const r=wE(e);return new he(i,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ve=new kx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=Math.log(2);class Ux{constructor(e){const i=u=>parseInt(Math.log(u)/Lx,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=r(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hu=function(n,e,i,r){n.sort(e);const l=function(p,m){const _=m-p;let y,E;if(_===0)return null;if(_===1)return y=n[p],E=i?i(y):y,new st(E,y.node,st.BLACK,null,null);{const R=parseInt(_/2,10)+p,S=l(p,R),D=l(R+1,m);return y=n[R],E=i?i(y):y,new st(E,y.node,st.BLACK,S,D)}},u=function(p){let m=null,_=null,y=n.length;const E=function(S,D){const I=y-S,L=y;y-=S;const H=l(I+1,L),q=n[I],ie=i?i(q):q;R(new st(ie,q.node,D,null,H))},R=function(S){m?(m.left=S,m=S):(_=S,m=S)};for(let S=0;S<p.count;++S){const D=p.nextBitIsOne(),I=Math.pow(2,p.count-(S+1));D?E(I,st.BLACK):(E(I,st.BLACK),E(I,st.RED))}return _},f=new Ux(n.length),h=u(f);return new Ct(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td;const cr={};class Vn{static get Default(){return F(cr&&Ve,"ChildrenNode.ts has not been loaded"),Td=Td||new Vn({".priority":cr},{".priority":Ve}),Td}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=Er(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof Ct?i:null}hasIndex(e){return ni(this.indexSet_,e.toString())}addIndex(e,i){F(e!==_r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let l=!1;const u=i.getIterator(he.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let h;l?h=hu(r,e.getCompare()):h=cr;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const _=Object.assign({},this.indexes_);return _[p]=h,new Vn(_,m)}addToIndexes(e,i){const r=iu(this.indexes_,(l,u)=>{const f=Er(this.indexSet_,u);if(F(f,"Missing index implementation for "+u),l===cr)if(f.isDefinedOn(e.node)){const h=[],p=i.getIterator(he.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),hu(h,f.getCompare())}else return cr;else{const h=i.get(e.name);let p=l;return h&&(p=p.remove(new he(e.name,h))),p.insert(e,e.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(e,i){const r=iu(this.indexes_,l=>{if(l===cr)return l;{const u=i.get(e.name);return u?l.remove(new he(e.name,u)):l}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja;class ne{static get EMPTY_NODE(){return ja||(ja=new ne(new Ct(kh),null,Vn.Default))}constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&TE(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ja}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?ja:i}}getChild(e){const i=de(e);return i===null?this:this.getImmediateChild(i).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(F(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const r=new he(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(r,this.children_));const f=l.isEmpty()?ja:this.priorityNode_;return new ne(l,f,u)}}updateChild(e,i){const r=de(e);if(r===null)return i;{F(de(e)!==".priority"||zi(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(Me(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,u=!0;if(this.forEachChild(Ve,(f,h)=>{i[f]=h.val(e),r++,u&&ne.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*r){const f=[];for(const h in i)f[h]=i[h];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+SE(this.getPriority().val())+":"),this.forEachChild(Ve,(i,r)=>{const l=r.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":Q0(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new he(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new he(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new he(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,he.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,he.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===El?-1:0}withIndex(e){if(e===_r||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_r||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ve),l=i.getIterator(Ve);let u=r.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===_r?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Px extends ne{constructor(){super(new Ct(kh),ne.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const El=new Px;Object.defineProperties(he,{MIN:{value:new he(Sr,ne.EMPTY_NODE)},MAX:{value:new he(bs,El)}});bE.__EMPTY_NODE=ne.EMPTY_NODE;it.__childrenNodeConstructor=ne;Dx(El);Mx(El);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=!0;function ut(n,e=null){if(n===null)return ne.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const i=n;return new it(i,ut(e))}if(!(n instanceof Array)&&zx){const i=[];let r=!1;if(Nt(n,(f,h)=>{if(f.substring(0,1)!=="."){const p=ut(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),i.push(new he(f,p)))}}),i.length===0)return ne.EMPTY_NODE;const u=hu(i,Ox,f=>f.name,kh);if(r){const f=hu(i,Ve.getCompare());return new ne(u,ut(e),new Vn({".priority":f},{".priority":Ve}))}else return new ne(u,ut(e),Vn.Default)}else{let i=ne.EMPTY_NODE;return Nt(n,(r,l)=>{if(ni(n,r)&&r.substring(0,1)!=="."){const u=ut(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(r,u))}}),i.updatePriority(ut(e))}}Ix(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends ku{constructor(e){super(),this.indexPath_=e,F(!me(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const r=this.extractChild(e.node),l=this.extractChild(i.node),u=r.compareTo(l);return u===0?Or(e.name,i.name):u}makePost(e,i){const r=ut(e),l=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new he(i,l)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,El);return new he(bs,e)}toString(){return yE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends ku{compare(e,i){const r=e.node.compareTo(i.node);return r===0?Or(e.name,i.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return he.MIN}maxPost(){return he.MAX}makePost(e,i){const r=ut(e);return new he(i,r)}toString(){return".value"}}const Hx=new Bx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){return{type:"value",snapshotNode:n}}function Tr(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function sl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function rl(n,e,i){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:i}}function qx(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.index_=e}updateChild(e,i,r,l,u,f){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(i);return h.getChild(l).equals(r.getChild(l))&&h.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(i)?f.trackChildChange(sl(i,h)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(Tr(i,r)):f.trackChildChange(rl(i,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(i,r).withIndex(this.index_)}updateFullNode(e,i,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ve,(l,u)=>{i.hasChild(l)||r.trackChildChange(sl(l,u))}),i.isLeafNode()||i.forEachChild(Ve,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||r.trackChildChange(rl(l,u,f))}else r.trackChildChange(Tr(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.indexedFilter_=new Lh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=al.getStartPost_(e),this.endPost_=al.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&r}updateChild(e,i,r,l,u,f){return this.matches(new he(i,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,r,l,u,f)}updateFullNode(e,i,r){i.isLeafNode()&&(i=ne.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(ne.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(f,h)=>{u.matches(new he(f,h))||(l=l.updateImmediateChild(f,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=i=>{const r=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new al(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,r,l,u,f){return this.rangedFilter_.matches(new he(i,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(i).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,r,l,u,f):this.fullLimitUpdateChild_(e,i,r,u,f)}updateFullNode(e,i,r){let l;if(i.isLeafNode()||i.isEmpty())l=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=ne.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(ne.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,r)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,r,l,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,R)=>y(R,E)}else f=this.index_.getCompare();const h=e;F(h.numChildren()===this.limit_,"");const p=new he(i,r),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(h.hasChild(i)){const y=h.getImmediateChild(i);let E=l.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===i||h.hasChild(E.name));)E=l.getChildAfterChild(this.index_,E,this.reverse_);const R=E==null?1:f(E,p);if(_&&!r.isEmpty()&&R>=0)return u!=null&&u.trackChildChange(rl(i,r,y)),h.updateImmediateChild(i,r);{u!=null&&u.trackChildChange(sl(i,y));const D=h.updateImmediateChild(i,ne.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u!=null&&u.trackChildChange(Tr(E.name,E.node)),D.updateImmediateChild(E.name,E.node)):D}}else return r.isEmpty()?e:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(sl(m.name,m.node)),u.trackChildChange(Tr(i,r))),h.updateImmediateChild(i,r).updateImmediateChild(m.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sr}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new Uh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Vx(n){return n.loadsAllData()?new Lh(n.getIndex()):n.hasLimit()?new Fx(n):new al(n)}function nv(n){const e={};if(n.isDefault())return e;let i;if(n.index_===Ve?i="$priority":n.index_===Hx?i="$value":n.index_===_r?i="$key":(F(n.index_ instanceof jx,"Unrecognized index type!"),i=n.index_.toString()),e.orderBy=rt(i),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=rt(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+rt(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=rt(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+rt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function iv(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let i=n.viewFrom_;i===""&&(n.isViewFromLeft()?i="l":i="r"),e.vf=i}return n.index_!==Ve&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends mE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,r,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=r,this.appCheckTokenProvider_=l,this.log_=vl("p:rest:"),this.listens_={}}listen(e,i,r,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=pu.getListenId_(e,r),h={};this.listens_[f]=h;const p=nv(e._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,r),Er(this.listens_,f)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",l(E,null)}})}unlisten(e,i){const r=pu.getListenId_(e,i);delete this.listens_[r]}get(e){const i=nv(e._queryParams),r=e._path.toString(),l=new xu;return this.restRequest_(r+".json",i,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},r){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ar(i);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=Za(h.responseText)}catch{Rt("Failed to parse JSON response for "+f+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&Rt("Got unsuccessful REST response for "+f+" Status: "+h.status),r(h.status);r=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(){return{value:null,children:new Map}}function AE(n,e,i){if(me(e))n.value=i,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,i);else{const r=de(e);n.children.has(r)||n.children.set(r,mu());const l=n.children.get(r);e=Me(e),AE(l,e,i)}}function Vd(n,e,i){n.value!==null?i(e,n.value):Yx(n,(r,l)=>{const u=new xe(e.toString()+"/"+r);Vd(l,u,i)})}function Yx(n,e){n.children.forEach((i,r)=>{e(r,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&Nt(this.last_,(r,l)=>{i[r]=i[r]-l}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=10*1e3,Wx=30*1e3,Qx=5*60*1e3;class Xx{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Kx(e);const r=sv+(Wx-sv)*Math.random();Ka(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),i={};let r=!1;Nt(e,(l,u)=>{u>0&&ni(this.statsToReport_,l)&&(i[l]=u,r=!0)}),r&&this.server_.reportStats(i),Ka(this.reportStats_.bind(this),Math.floor(Math.random()*2*Qx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function NE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ph(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zh(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,i,r){this.path=e,this.affectedTree=i,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=NE()}operationForChild(e){if(me(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new xe(e));return new gu(Se(),i,this.revert)}}else return F(de(this.path)===e,"operationForChild called for unrelated child."),new gu(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,i){this.source=e,this.path=i,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return me(this.path)?new ll(this.source,Se()):new ll(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,i,r){this.source=e,this.path=i,this.snap=r,this.type=sn.OVERWRITE}operationForChild(e){return me(this.path)?new Ss(this.source,Se(),this.snap.getImmediateChild(e)):new Ss(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,i,r){this.source=e,this.path=i,this.children=r,this.type=sn.MERGE}operationForChild(e){if(me(this.path)){const i=this.children.subtree(new xe(e));return i.isEmpty()?null:i.value?new Ss(this.source,Se(),i.value):new ol(this.source,Se(),i)}else return F(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ol(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i,r){this.node_=e,this.fullyInitialized_=i,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(me(e))return this.isFullyInitialized()&&!this.filtered_;const i=de(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zx(n,e,i,r){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(qx(f.childName,f.snapshotNode))}),Ba(n,l,"child_removed",e,r,i),Ba(n,l,"child_added",e,r,i),Ba(n,l,"child_moved",u,r,i),Ba(n,l,"child_changed",e,r,i),Ba(n,l,"value",e,r,i),l}function Ba(n,e,i,r,l,u){const f=r.filter(h=>h.type===i);f.sort((h,p)=>eO(n,h,p)),f.forEach(h=>{const p=Jx(n,h,u);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function Jx(n,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function eO(n,e,i){if(e.childName==null||i.childName==null)throw Rr("Should only compare child_ events.");const r=new he(e.childName,e.snapshotNode),l=new he(i.childName,i.snapshotNode);return n.index_.compare(r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(n,e){return{eventCache:n,serverCache:e}}function Wa(n,e,i,r){return Lu(new Ts(e,i,r),n.serverCache)}function xE(n,e,i,r){return Lu(n.eventCache,new Ts(e,i,r))}function Gd(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ws(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd;const tO=()=>(wd||(wd=new Ct(BN)),wd);class Le{static fromObject(e){let i=new Le(null);return Nt(e,(r,l)=>{i=i.set(new xe(r),l)}),i}constructor(e,i=tO()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Se(),value:this.value};if(me(e))return null;{const r=de(e),l=this.children.get(r);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Me(e),i);return u!=null?{path:Ze(new xe(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(me(e))return this;{const i=de(e),r=this.children.get(i);return r!==null?r.subtree(Me(e)):new Le(null)}}set(e,i){if(me(e))return new Le(i,this.children);{const r=de(e),u=(this.children.get(r)||new Le(null)).set(Me(e),i),f=this.children.insert(r,u);return new Le(this.value,f)}}remove(e){if(me(e))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const i=de(e),r=this.children.get(i);if(r){const l=r.remove(Me(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new Le(null):new Le(this.value,u)}else return this}}get(e){if(me(e))return this.value;{const i=de(e),r=this.children.get(i);return r?r.get(Me(e)):null}}setTree(e,i){if(me(e))return i;{const r=de(e),u=(this.children.get(r)||new Le(null)).setTree(Me(e),i);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new Le(this.value,f)}}fold(e){return this.fold_(Se(),e)}fold_(e,i){const r={};return this.children.inorderTraversal((l,u)=>{r[l]=u.fold_(Ze(e,l),i)}),i(e,this.value,r)}findOnPath(e,i){return this.findOnPath_(e,Se(),i)}findOnPath_(e,i,r){const l=this.value?r(i,this.value):!1;if(l)return l;if(me(e))return null;{const u=de(e),f=this.children.get(u);return f?f.findOnPath_(Me(e),Ze(i,u),r):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Se(),i)}foreachOnPath_(e,i,r){if(me(e))return this;{this.value&&r(i,this.value);const l=de(e),u=this.children.get(l);return u?u.foreachOnPath_(Me(e),Ze(i,l),r):new Le(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,i){this.children.inorderTraversal((r,l)=>{l.foreach_(Ze(e,r),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,r)=>{r.value&&e(i,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new Le(null))}}function Qa(n,e,i){if(me(e))return new rn(new Le(i));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const l=r.path;let u=r.value;const f=wt(l,e);return u=u.updateChild(f,i),new rn(n.writeTree_.set(l,u))}else{const l=new Le(i),u=n.writeTree_.setTree(e,l);return new rn(u)}}}function rv(n,e,i){let r=n;return Nt(i,(l,u)=>{r=Qa(r,Ze(e,l),u)}),r}function av(n,e){if(me(e))return rn.empty();{const i=n.writeTree_.setTree(e,new Le(null));return new rn(i)}}function Yd(n,e){return As(n,e)!=null}function As(n,e){const i=n.writeTree_.findRootMostValueAndPath(e);return i!=null?n.writeTree_.get(i.path).getChild(wt(i.path,e)):null}function lv(n){const e=[],i=n.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(r,l)=>{e.push(new he(r,l))}):n.writeTree_.children.inorderTraversal((r,l)=>{l.value!=null&&e.push(new he(r,l.value))}),e}function Pi(n,e){if(me(e))return n;{const i=As(n,e);return i!=null?new rn(new Le(i)):new rn(n.writeTree_.subtree(e))}}function Kd(n){return n.writeTree_.isEmpty()}function wr(n,e){return OE(Se(),n.writeTree_,e)}function OE(n,e,i){if(e.value!=null)return i.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(F(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):i=OE(Ze(n,l),u,i)}),!i.getChild(n).isEmpty()&&r!==null&&(i=i.updateChild(Ze(n,".priority"),r)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n,e){return kE(e,n)}function nO(n,e,i,r,l){F(r>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:i,writeId:r,visible:l}),l&&(n.visibleWrites=Qa(n.visibleWrites,e,i)),n.lastWriteId=r}function iO(n,e){for(let i=0;i<n.allWrites.length;i++){const r=n.allWrites[i];if(r.writeId===e)return r}return null}function sO(n,e){const i=n.allWrites.findIndex(h=>h.writeId===e);F(i>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[i];n.allWrites.splice(i,1);let l=r.visible,u=!1,f=n.allWrites.length-1;for(;l&&f>=0;){const h=n.allWrites[f];h.visible&&(f>=i&&rO(h,r.path)?l=!1:nn(r.path,h.path)&&(u=!0)),f--}if(l){if(u)return aO(n),!0;if(r.snap)n.visibleWrites=av(n.visibleWrites,r.path);else{const h=r.children;Nt(h,p=>{n.visibleWrites=av(n.visibleWrites,Ze(r.path,p))})}return!0}else return!1}function rO(n,e){if(n.snap)return nn(n.path,e);for(const i in n.children)if(n.children.hasOwnProperty(i)&&nn(Ze(n.path,i),e))return!0;return!1}function aO(n){n.visibleWrites=DE(n.allWrites,lO,Se()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function lO(n){return n.visible}function DE(n,e,i){let r=rn.empty();for(let l=0;l<n.length;++l){const u=n[l];if(e(u)){const f=u.path;let h;if(u.snap)nn(i,f)?(h=wt(i,f),r=Qa(r,h,u.snap)):nn(f,i)&&(h=wt(f,i),r=Qa(r,Se(),u.snap.getChild(h)));else if(u.children){if(nn(i,f))h=wt(i,f),r=rv(r,h,u.children);else if(nn(f,i))if(h=wt(f,i),me(h))r=rv(r,Se(),u.children);else{const p=Er(u.children,de(h));if(p){const m=p.getChild(Me(h));r=Qa(r,Se(),m)}}}else throw Rr("WriteRecord should have .snap or .children")}}return r}function IE(n,e,i,r,l){if(!r&&!l){const u=As(n.visibleWrites,e);if(u!=null)return u;{const f=Pi(n.visibleWrites,e);if(Kd(f))return i;if(i==null&&!Yd(f,Se()))return null;{const h=i||ne.EMPTY_NODE;return wr(f,h)}}}else{const u=Pi(n.visibleWrites,e);if(!l&&Kd(u))return i;if(!l&&i==null&&!Yd(u,Se()))return null;{const f=function(m){return(m.visible||l)&&(!r||!~r.indexOf(m.writeId))&&(nn(m.path,e)||nn(e,m.path))},h=DE(n.allWrites,f,e),p=i||ne.EMPTY_NODE;return wr(h,p)}}}function oO(n,e,i){let r=ne.EMPTY_NODE;const l=As(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ve,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(i){const u=Pi(n.visibleWrites,e);return i.forEachChild(Ve,(f,h)=>{const p=wr(Pi(u,new xe(f)),h);r=r.updateImmediateChild(f,p)}),lv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=Pi(n.visibleWrites,e);return lv(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function uO(n,e,i,r,l){F(r||l,"Either existingEventSnap or existingServerSnap must exist");const u=Ze(e,i);if(Yd(n.visibleWrites,u))return null;{const f=Pi(n.visibleWrites,u);return Kd(f)?l.getChild(i):wr(f,l.getChild(i))}}function cO(n,e,i,r){const l=Ze(e,i),u=As(n.visibleWrites,l);if(u!=null)return u;if(r.isCompleteForChild(i)){const f=Pi(n.visibleWrites,l);return wr(f,r.getNode().getImmediateChild(i))}else return null}function fO(n,e){return As(n.visibleWrites,e)}function dO(n,e,i,r,l,u,f){let h;const p=Pi(n.visibleWrites,e),m=As(p,Se());if(m!=null)h=m;else if(i!=null)h=wr(p,i);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const _=[],y=f.getCompare(),E=u?h.getReverseIteratorFrom(r,f):h.getIteratorFrom(r,f);let R=E.getNext();for(;R&&_.length<l;)y(R,r)!==0&&_.push(R),R=E.getNext();return _}else return[]}function hO(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function _u(n,e,i,r){return IE(n.writeTree,n.treePath,e,i,r)}function Bh(n,e){return oO(n.writeTree,n.treePath,e)}function ov(n,e,i,r){return uO(n.writeTree,n.treePath,e,i,r)}function yu(n,e){return fO(n.writeTree,Ze(n.treePath,e))}function pO(n,e,i,r,l,u){return dO(n.writeTree,n.treePath,e,i,r,l,u)}function Hh(n,e,i){return cO(n.writeTree,n.treePath,e,i)}function ME(n,e){return kE(Ze(n.treePath,e),n.writeTree)}function kE(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,r=e.childName;F(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),F(r!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(r);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(r,rl(r,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(r,sl(r,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(r,Tr(r,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(r,rl(r,e.snapshotNode,l.oldSnap));else throw Rr("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{getCompleteChild(e){return null}getChildAfterChild(e,i,r){return null}}const LE=new gO;class qh{constructor(e,i,r=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=r}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hh(this.writes_,e,r)}}getChildAfterChild(e,i,r){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ws(this.viewCache_),u=pO(this.writes_,l,i,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){return{filter:n}}function yO(n,e){F(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function vO(n,e,i,r,l){const u=new mO;let f,h;if(i.type===sn.OVERWRITE){const m=i;m.source.fromUser?f=Wd(n,e,m.path,m.snap,r,l,u):(F(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!me(m.path),f=vu(n,e,m.path,m.snap,r,l,h,u))}else if(i.type===sn.MERGE){const m=i;m.source.fromUser?f=bO(n,e,m.path,m.children,r,l,u):(F(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=Qd(n,e,m.path,m.children,r,l,h,u))}else if(i.type===sn.ACK_USER_WRITE){const m=i;m.revert?f=wO(n,e,m.path,r,l,u):f=SO(n,e,m.path,m.affectedTree,r,l,u)}else if(i.type===sn.LISTEN_COMPLETE)f=TO(n,e,i.path,r,u);else throw Rr("Unknown operation type: "+i.type);const p=u.getChanges();return EO(e,f,p),{viewCache:f,changes:p}}function EO(n,e,i){const r=e.eventCache;if(r.isFullyInitialized()){const l=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Gd(n);(i.length>0||!n.eventCache.isFullyInitialized()||l&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&i.push(RE(Gd(e)))}}function UE(n,e,i,r,l,u){const f=e.eventCache;if(yu(r,i)!=null)return e;{let h,p;if(me(i))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ws(e),_=m instanceof ne?m:ne.EMPTY_NODE,y=Bh(r,_);h=n.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=_u(r,ws(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=de(i);if(m===".priority"){F(zi(i)===1,"Can't have a priority with additional path components");const _=f.getNode();p=e.serverCache.getNode();const y=ov(r,i,_,p);y!=null?h=n.filter.updatePriority(_,y):h=f.getNode()}else{const _=Me(i);let y;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const E=ov(r,i,f.getNode(),p);E!=null?y=f.getNode().getImmediateChild(m).updateChild(_,E):y=f.getNode().getImmediateChild(m)}else y=Hh(r,m,e.serverCache);y!=null?h=n.filter.updateChild(f.getNode(),m,y,_,l,u):h=f.getNode()}}return Wa(e,h,f.isFullyInitialized()||me(i),n.filter.filtersNodes())}}function vu(n,e,i,r,l,u,f,h){const p=e.serverCache;let m;const _=f?n.filter:n.filter.getIndexedFilter();if(me(i))m=_.updateFullNode(p.getNode(),r,null);else if(_.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(i,r);m=_.updateFullNode(p.getNode(),R,null)}else{const R=de(i);if(!p.isCompleteForPath(i)&&zi(i)>1)return e;const S=Me(i),I=p.getNode().getImmediateChild(R).updateChild(S,r);R===".priority"?m=_.updatePriority(p.getNode(),I):m=_.updateChild(p.getNode(),R,I,S,LE,null)}const y=xE(e,m,p.isFullyInitialized()||me(i),_.filtersNodes()),E=new qh(l,y,u);return UE(n,y,i,l,E,h)}function Wd(n,e,i,r,l,u,f){const h=e.eventCache;let p,m;const _=new qh(l,e,u);if(me(i))m=n.filter.updateFullNode(e.eventCache.getNode(),r,f),p=Wa(e,m,!0,n.filter.filtersNodes());else{const y=de(i);if(y===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),r),p=Wa(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=Me(i),R=h.getNode().getImmediateChild(y);let S;if(me(E))S=r;else{const D=_.getCompleteChild(y);D!=null?_E(E)===".priority"&&D.getChild(vE(E)).isEmpty()?S=D:S=D.updateChild(E,r):S=ne.EMPTY_NODE}if(R.equals(S))p=e;else{const D=n.filter.updateChild(h.getNode(),y,S,E,_,f);p=Wa(e,D,h.isFullyInitialized(),n.filter.filtersNodes())}}}return p}function uv(n,e){return n.eventCache.isCompleteForChild(e)}function bO(n,e,i,r,l,u,f){let h=e;return r.foreach((p,m)=>{const _=Ze(i,p);uv(e,de(_))&&(h=Wd(n,h,_,m,l,u,f))}),r.foreach((p,m)=>{const _=Ze(i,p);uv(e,de(_))||(h=Wd(n,h,_,m,l,u,f))}),h}function cv(n,e,i){return i.foreach((r,l)=>{e=e.updateChild(r,l)}),e}function Qd(n,e,i,r,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;me(i)?m=r:m=new Le(null).setTree(i,r);const _=e.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(_.hasChild(y)){const R=e.serverCache.getNode().getImmediateChild(y),S=cv(n,R,E);p=vu(n,p,new xe(y),S,l,u,f,h)}}),m.children.inorderTraversal((y,E)=>{const R=!e.serverCache.isCompleteForChild(y)&&E.value===null;if(!_.hasChild(y)&&!R){const S=e.serverCache.getNode().getImmediateChild(y),D=cv(n,S,E);p=vu(n,p,new xe(y),D,l,u,f,h)}}),p}function SO(n,e,i,r,l,u,f){if(yu(l,i)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(me(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return vu(n,e,i,p.getNode().getChild(i),l,u,h,f);if(me(i)){let m=new Le(null);return p.getNode().forEachChild(_r,(_,y)=>{m=m.set(new xe(_),y)}),Qd(n,e,i,m,l,u,h,f)}else return e}else{let m=new Le(null);return r.foreach((_,y)=>{const E=Ze(i,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),Qd(n,e,i,m,l,u,h,f)}}function TO(n,e,i,r,l){const u=e.serverCache,f=xE(e,u.getNode(),u.isFullyInitialized()||me(i),u.isFiltered());return UE(n,f,i,r,LE,l)}function wO(n,e,i,r,l,u){let f;if(yu(r,i)!=null)return e;{const h=new qh(r,e,l),p=e.eventCache.getNode();let m;if(me(i)||de(i)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=_u(r,ws(e));else{const y=e.serverCache.getNode();F(y instanceof ne,"serverChildren would be complete if leaf node"),_=Bh(r,y)}_=_,m=n.filter.updateFullNode(p,_,u)}else{const _=de(i);let y=Hh(r,_,e.serverCache);y==null&&e.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=n.filter.updateChild(p,_,y,Me(i),h,u):e.eventCache.getNode().hasChild(_)?m=n.filter.updateChild(p,_,ne.EMPTY_NODE,Me(i),h,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=_u(r,ws(e)),f.isLeafNode()&&(m=n.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||yu(r,Se())!=null,Wa(e,m,f,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,l=new Lh(r.getIndex()),u=Vx(r);this.processor_=_O(u);const f=i.serverCache,h=i.eventCache,p=l.updateFullNode(ne.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(ne.EMPTY_NODE,h.getNode(),null),_=new Ts(p,f.isFullyInitialized(),l.filtersNodes()),y=new Ts(m,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Lu(y,_),this.eventGenerator_=new $x(this.query_)}get query(){return this.query_}}function RO(n){return n.viewCache_.serverCache.getNode()}function AO(n,e){const i=ws(n.viewCache_);return i&&(n.query._queryParams.loadsAllData()||!me(e)&&!i.getImmediateChild(de(e)).isEmpty())?i.getChild(e):null}function fv(n){return n.eventRegistrations_.length===0}function NO(n,e){n.eventRegistrations_.push(e)}function dv(n,e,i){const r=[];if(i){F(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&r.push(f)})}if(e){let l=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(u+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return r}function hv(n,e,i,r){e.type===sn.MERGE&&e.source.queryId!==null&&(F(ws(n.viewCache_),"We should always have a full cache before handling merges"),F(Gd(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,u=vO(n.processor_,l,e,i,r);return yO(n.processor_,u.viewCache),F(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,PE(n,u.changes,u.viewCache.eventCache.getNode(),null)}function xO(n,e){const i=n.viewCache_.eventCache,r=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,f)=>{r.push(Tr(u,f))}),i.isFullyInitialized()&&r.push(RE(i.getNode())),PE(n,r,i.getNode(),e)}function PE(n,e,i,r){const l=r?[r]:n.eventRegistrations_;return Zx(n.eventGenerator_,e,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu;class OO{constructor(){this.views=new Map}}function DO(n){F(!Eu,"__referenceConstructor has already been defined"),Eu=n}function IO(){return F(Eu,"Reference.ts has not been loaded"),Eu}function MO(n){return n.views.size===0}function Fh(n,e,i,r){const l=e.source.queryId;if(l!==null){const u=n.views.get(l);return F(u!=null,"SyncTree gave us an op for an invalid query."),hv(u,e,i,r)}else{let u=[];for(const f of n.views.values())u=u.concat(hv(f,e,i,r));return u}}function kO(n,e,i,r,l){const u=e._queryIdentifier,f=n.views.get(u);if(!f){let h=_u(i,l?r:null),p=!1;h?p=!0:r instanceof ne?(h=Bh(i,r),p=!1):(h=ne.EMPTY_NODE,p=!1);const m=Lu(new Ts(h,p,!1),new Ts(r,l,!1));return new CO(e,m)}return f}function LO(n,e,i,r,l,u){const f=kO(n,e,r,l,u);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,f),NO(f,i),xO(f,i)}function UO(n,e,i,r){const l=e._queryIdentifier,u=[];let f=[];const h=ji(n);if(l==="default")for(const[p,m]of n.views.entries())f=f.concat(dv(m,i,r)),fv(m)&&(n.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=n.views.get(l);p&&(f=f.concat(dv(p,i,r)),fv(p)&&(n.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return h&&!ji(n)&&u.push(new(IO())(e._repo,e._path)),{removed:u,events:f}}function zE(n){const e=[];for(const i of n.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function yr(n,e){let i=null;for(const r of n.views.values())i=i||AO(r,e);return i}function jE(n,e){if(e._queryParams.loadsAllData())return Uu(n);{const r=e._queryIdentifier;return n.views.get(r)}}function BE(n,e){return jE(n,e)!=null}function ji(n){return Uu(n)!=null}function Uu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;function PO(n){F(!bu,"__referenceConstructor has already been defined"),bu=n}function zO(){return F(bu,"Reference.ts has not been loaded"),bu}let jO=1;class pv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=hO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HE(n,e,i,r,l){return nO(n.pendingWriteTree_,e,i,r,l),l?bl(n,new Ss(NE(),e,i)):[]}function ps(n,e,i=!1){const r=iO(n.pendingWriteTree_,e);if(sO(n.pendingWriteTree_,e)){let u=new Le(null);return r.snap!=null?u=u.set(Se(),!0):Nt(r.children,f=>{u=u.set(new xe(f),!0)}),bl(n,new gu(r.path,u,i))}else return[]}function Pu(n,e,i){return bl(n,new Ss(Ph(),e,i))}function BO(n,e,i){const r=Le.fromObject(i);return bl(n,new ol(Ph(),e,r))}function HO(n,e){return bl(n,new ll(Ph(),e))}function qO(n,e,i){const r=Gh(n,i);if(r){const l=Yh(r),u=l.path,f=l.queryId,h=wt(u,e),p=new ll(zh(f),h);return Kh(n,u,p)}else return[]}function Xd(n,e,i,r,l=!1){const u=e._path,f=n.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||BE(f,e))){const p=UO(f,e,i,r);MO(f)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const m=p.removed;if(h=p.events,!l){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(u,(E,R)=>ji(R));if(_&&!y){const E=n.syncPointTree_.subtree(u);if(!E.isEmpty()){const R=GO(E);for(let S=0;S<R.length;++S){const D=R[S],I=D.query,L=VE(n,D);n.listenProvider_.startListening(Xa(I),Su(n,I),L.hashFn,L.onComplete)}}}!y&&m.length>0&&!r&&(_?n.listenProvider_.stopListening(Xa(e),null):m.forEach(E=>{const R=n.queryToTagMap.get(zu(E));n.listenProvider_.stopListening(Xa(E),R)}))}YO(n,m)}return h}function FO(n,e,i,r){const l=Gh(n,r);if(l!=null){const u=Yh(l),f=u.path,h=u.queryId,p=wt(f,e),m=new Ss(zh(h),p,i);return Kh(n,f,m)}else return[]}function VO(n,e,i,r){const l=Gh(n,r);if(l){const u=Yh(l),f=u.path,h=u.queryId,p=wt(f,e),m=Le.fromObject(i),_=new ol(zh(h),p,m);return Kh(n,f,_)}else return[]}function mv(n,e,i,r=!1){const l=e._path;let u=null,f=!1;n.syncPointTree_.foreachOnPath(l,(E,R)=>{const S=wt(E,l);u=u||yr(R,S),f=f||ji(R)});let h=n.syncPointTree_.get(l);h?(f=f||ji(h),u=u||yr(h,Se())):(h=new OO,n.syncPointTree_=n.syncPointTree_.set(l,h));let p;u!=null?p=!0:(p=!1,u=ne.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((R,S)=>{const D=yr(S,Se());D&&(u=u.updateImmediateChild(R,D))}));const m=BE(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=zu(e);F(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const R=KO();n.queryToTagMap.set(E,R),n.tagToQueryMap.set(R,E)}const _=jh(n.pendingWriteTree_,l);let y=LO(h,e,i,_,u,p);if(!m&&!f&&!r){const E=jE(h,e);y=y.concat(WO(n,e,E))}return y}function Vh(n,e,i){const l=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(e,(f,h)=>{const p=wt(f,e),m=yr(h,p);if(m)return m});return IE(l,e,u,i,!0)}function bl(n,e){return qE(e,n.syncPointTree_,null,jh(n.pendingWriteTree_,Se()))}function qE(n,e,i,r){if(me(n.path))return FE(n,e,i,r);{const l=e.get(Se());i==null&&l!=null&&(i=yr(l,Se()));let u=[];const f=de(n.path),h=n.operationForChild(f),p=e.children.get(f);if(p&&h){const m=i?i.getImmediateChild(f):null,_=ME(r,f);u=u.concat(qE(h,p,m,_))}return l&&(u=u.concat(Fh(l,n,r,i))),u}}function FE(n,e,i,r){const l=e.get(Se());i==null&&l!=null&&(i=yr(l,Se()));let u=[];return e.children.inorderTraversal((f,h)=>{const p=i?i.getImmediateChild(f):null,m=ME(r,f),_=n.operationForChild(f);_&&(u=u.concat(FE(_,h,p,m)))}),l&&(u=u.concat(Fh(l,n,r,i))),u}function VE(n,e){const i=e.query,r=Su(n,i);return{hashFn:()=>(RO(e)||ne.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return r?qO(n,i._path,r):HO(n,i._path);{const u=FN(l,i);return Xd(n,i,null,u)}}}}function Su(n,e){const i=zu(e);return n.queryToTagMap.get(i)}function zu(n){return n._path.toString()+"$"+n._queryIdentifier}function Gh(n,e){return n.tagToQueryMap.get(e)}function Yh(n){const e=n.indexOf("$");return F(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function Kh(n,e,i){const r=n.syncPointTree_.get(e);F(r,"Missing sync point for query tag that we're tracking");const l=jh(n.pendingWriteTree_,e);return Fh(r,i,l,null)}function GO(n){return n.fold((e,i,r)=>{if(i&&ji(i))return[Uu(i)];{let l=[];return i&&(l=zE(i)),Nt(r,(u,f)=>{l=l.concat(f)}),l}})}function Xa(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(zO())(n._repo,n._path):n}function YO(n,e){for(let i=0;i<e.length;++i){const r=e[i];if(!r._queryParams.loadsAllData()){const l=zu(r),u=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(u)}}}function KO(){return jO++}function WO(n,e,i){const r=e._path,l=Su(n,e),u=VE(n,i),f=n.listenProvider_.startListening(Xa(e),l,u.hashFn,u.onComplete),h=n.syncPointTree_.subtree(r);if(l)F(!ji(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((m,_,y)=>{if(!me(m)&&_&&ji(_))return[Uu(_).query];{let E=[];return _&&(E=E.concat(zE(_).map(R=>R.query))),Nt(y,(R,S)=>{E=E.concat(S)}),E}});for(let m=0;m<p.length;++m){const _=p[m];n.listenProvider_.stopListening(Xa(_),Su(n,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Wh(i)}node(){return this.node_}}class Qh{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ze(this.path_,e);return new Qh(this.syncTree_,i)}node(){return Vh(this.syncTree_,this.path_)}}const QO=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},gv=function(n,e,i){if(!n||typeof n!="object")return n;if(F(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return XO(n[".sv"],e,i);if(typeof n[".sv"]=="object")return $O(n[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},XO=function(n,e,i){switch(n){case"timestamp":return i.timestamp;default:F(!1,"Unexpected server value: "+n)}},$O=function(n,e,i){n.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&F(!1,"Unexpected increment value: "+r);const l=e.node();if(F(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return r;const f=l.getValue();return typeof f!="number"?r:f+r},ZO=function(n,e,i,r){return Xh(e,new Qh(i,n),r)},GE=function(n,e,i){return Xh(n,new Wh(e),i)};function Xh(n,e,i){const r=n.getPriority().val(),l=gv(r,e.getImmediateChild(".priority"),i);let u;if(n.isLeafNode()){const f=n,h=gv(f.getValue(),e,i);return h!==f.getValue()||l!==f.getPriority().val()?new it(h,ut(l)):n}else{const f=n;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new it(l))),f.forEachChild(Ve,(h,p)=>{const m=Xh(p,e.getImmediateChild(h),i);m!==p&&(u=u.updateImmediateChild(h,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e="",i=null,r={children:{},childCount:0}){this.name=e,this.parent=i,this.node=r}}function Zh(n,e){let i=e instanceof xe?e:new xe(e),r=n,l=de(i);for(;l!==null;){const u=Er(r.node.children,l)||{children:{},childCount:0};r=new $h(l,r,u),i=Me(i),l=de(i)}return r}function Ir(n){return n.node.value}function YE(n,e){n.node.value=e,$d(n)}function KE(n){return n.node.childCount>0}function JO(n){return Ir(n)===void 0&&!KE(n)}function ju(n,e){Nt(n.node.children,(i,r)=>{e(new $h(i,n,r))})}function WE(n,e,i,r){i&&e(n),ju(n,l=>{WE(l,e,!0)})}function eD(n,e,i){let r=n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Sl(n){return new xe(n.parent===null?n.name:Sl(n.parent)+"/"+n.name)}function $d(n){n.parent!==null&&tD(n.parent,n.name,n)}function tD(n,e,i){const r=JO(i),l=ni(n.node.children,e);r&&l?(delete n.node.children[e],n.node.childCount--,$d(n)):!r&&!l&&(n.node.children[e]=i.node,n.node.childCount++,$d(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/[\[\].#$\/\u0000-\u001F\u007F]/,iD=/[\[\].#$\u0000-\u001F\u007F]/,Cd=10*1024*1024,QE=function(n){return typeof n=="string"&&n.length!==0&&!nD.test(n)},XE=function(n){return typeof n=="string"&&n.length!==0&&!iD.test(n)},sD=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XE(n)},rD=function(n,e,i,r){Jh(mh(n,"value"),e,i)},Jh=function(n,e,i){const r=i instanceof xe?new Sx(i,n):i;if(e===void 0)throw new Error(n+"contains undefined "+ds(r));if(typeof e=="function")throw new Error(n+"contains a function "+ds(r)+" with contents = "+e.toString());if(X0(e))throw new Error(n+"contains "+e.toString()+" "+ds(r));if(typeof e=="string"&&e.length>Cd/3&&Ou(e)>Cd)throw new Error(n+"contains a string greater than "+Cd+" utf8 bytes "+ds(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Nt(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!QE(f)))throw new Error(n+" contains an invalid key ("+f+") "+ds(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Tx(r,f),Jh(n,h,r),wx(r)}),l&&u)throw new Error(n+' contains ".value" child '+ds(r)+" in addition to actual children.")}},$E=function(n,e,i,r){if(!XE(i))throw new Error(mh(n,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aD=function(n,e,i,r){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),$E(n,e,i)},ZE=function(n,e){if(de(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},lD=function(n,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!QE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!sD(i))throw new Error(mh(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ep(n,e){let i=null;for(let r=0;r<e.length;r++){const l=e[r],u=l.getPath();i!==null&&!Ih(u,i.path)&&(n.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&n.eventLists_.push(i)}function JE(n,e,i){ep(n,i),eb(n,r=>Ih(r,e))}function ei(n,e,i){ep(n,i),eb(n,r=>nn(r,e)||nn(e,r))}function eb(n,e){n.recursionDepth_++;let i=!0;for(let r=0;r<n.eventLists_.length;r++){const l=n.eventLists_[r];if(l){const u=l.path;e(u)?(uD(n.eventLists_[r]),n.eventLists_[r]=null):i=!1}}i&&(n.eventLists_=[]),n.recursionDepth_--}function uD(n){for(let e=0;e<n.events.length;e++){const i=n.events[e];if(i!==null){n.events[e]=null;const r=i.getEventRunner();Ya&&ht("event: "+i.toString()),Dr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="repo_interrupt",fD=25;class dD{constructor(e,i,r,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=r,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mu(),this.transactionQueueTree_=new $h,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hD(n,e,i){if(n.stats_=Oh(n.repoInfo_),n.forceRestClient_||KN())n.server_=new pu(n.repoInfo_,(r,l,u,f)=>{_v(n,r,l,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>yv(n,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(i)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Kn(n.repoInfo_,e,(r,l,u,f)=>{_v(n,r,l,u,f)},r=>{yv(n,r)},r=>{mD(n,r)},n.authTokenProvider_,n.appCheckProvider_,i),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=ZN(n.repoInfo_,()=>new Xx(n.stats_,n.server_)),n.infoData_=new Gx,n.infoSyncTree_=new pv({startListening:(r,l,u,f)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=Pu(n.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),np(n,"connected",!1),n.serverSyncTree_=new pv({startListening:(r,l,u,f)=>(n.server_.listen(r,u,l,(h,p)=>{const m=f(h,p);ei(n.eventQueue_,r._path,m)}),[]),stopListening:(r,l)=>{n.server_.unlisten(r,l)}})}function pD(n){const i=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function tp(n){return QO({timestamp:pD(n)})}function _v(n,e,i,r,l){n.dataUpdateCount++;const u=new xe(e);i=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,i):i;let f=[];if(l)if(r){const p=iu(i,m=>ut(m));f=VO(n.serverSyncTree_,u,p,l)}else{const p=ut(i);f=FO(n.serverSyncTree_,u,p,l)}else if(r){const p=iu(i,m=>ut(m));f=BO(n.serverSyncTree_,u,p)}else{const p=ut(i);f=Pu(n.serverSyncTree_,u,p)}let h=u;f.length>0&&(h=Bu(n,u)),ei(n.eventQueue_,h,f)}function yv(n,e){np(n,"connected",e),e===!1&&_D(n)}function mD(n,e){Nt(e,(i,r)=>{np(n,i,r)})}function np(n,e,i){const r=new xe("/.info/"+e),l=ut(i);n.infoData_.updateSnapshot(r,l);const u=Pu(n.infoSyncTree_,r,l);ei(n.eventQueue_,r,u)}function tb(n){return n.nextWriteId_++}function gD(n,e,i,r,l){ip(n,"set",{path:e.toString(),value:i,priority:r});const u=tp(n),f=ut(i,r),h=Vh(n.serverSyncTree_,e),p=GE(f,h,u),m=tb(n),_=HE(n.serverSyncTree_,e,p,m,!0);ep(n.eventQueue_,_),n.server_.put(e.toString(),f.val(!0),(E,R)=>{const S=E==="ok";S||Rt("set at "+e+" failed: "+E);const D=ps(n.serverSyncTree_,m,!S);ei(n.eventQueue_,e,D),bD(n,l,E,R)});const y=ab(n,e);Bu(n,y),ei(n.eventQueue_,y,[])}function _D(n){ip(n,"onDisconnectEvents");const e=tp(n),i=mu();Vd(n.onDisconnect_,Se(),(l,u)=>{const f=ZO(l,u,n.serverSyncTree_,e);AE(i,l,f)});let r=[];Vd(i,Se(),(l,u)=>{r=r.concat(Pu(n.serverSyncTree_,l,u));const f=ab(n,l);Bu(n,f)}),n.onDisconnect_=mu(),ei(n.eventQueue_,Se(),r)}function yD(n,e,i){let r;de(e._path)===".info"?r=mv(n.infoSyncTree_,e,i):r=mv(n.serverSyncTree_,e,i),JE(n.eventQueue_,e._path,r)}function vD(n,e,i){let r;de(e._path)===".info"?r=Xd(n.infoSyncTree_,e,i):r=Xd(n.serverSyncTree_,e,i),JE(n.eventQueue_,e._path,r)}function ED(n){n.persistentConnection_&&n.persistentConnection_.interrupt(cD)}function ip(n,...e){let i="";n.persistentConnection_&&(i=n.persistentConnection_.id+":"),ht(i,...e)}function bD(n,e,i,r){e&&Dr(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;r&&(u+=": "+r);const f=new Error(u);f.code=l,e(f)}})}function nb(n,e,i){return Vh(n.serverSyncTree_,e,i)||ne.EMPTY_NODE}function sp(n,e=n.transactionQueueTree_){if(e||Hu(n,e),Ir(e)){const i=sb(n,e);F(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&SD(n,Sl(e),i)}else KE(e)&&ju(e,i=>{sp(n,i)})}function SD(n,e,i){const r=i.map(m=>m.currentWriteId),l=nb(n,e,r);let u=l;const f=l.hash();for(let m=0;m<i.length;m++){const _=i[m];F(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=wt(e,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const h=u.val(!0),p=e;n.server_.put(p.toString(),h,m=>{ip(n,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let E=0;E<i.length;E++)i[E].status=2,_=_.concat(ps(n.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&y.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Hu(n,Zh(n.transactionQueueTree_,e)),sp(n,n.transactionQueueTree_),ei(n.eventQueue_,e,_);for(let E=0;E<y.length;E++)Dr(y[E])}else{if(m==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Rt("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=m}Bu(n,e)}},f)}function Bu(n,e){const i=ib(n,e),r=Sl(i),l=sb(n,i);return TD(n,l,r),r}function TD(n,e,i){if(e.length===0)return;const r=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=wt(i,p.path);let _=!1,y;if(F(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,l=l.concat(ps(n.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=fD)_=!0,y="maxretry",l=l.concat(ps(n.serverSyncTree_,p.currentWriteId,!0));else{const E=nb(n,p.path,f);p.currentInputSnapshot=E;const R=e[h].update(E.val());if(R!==void 0){Jh("transaction failed: Data returned ",R,p.path);let S=ut(R);typeof R=="object"&&R!=null&&ni(R,".priority")||(S=S.updatePriority(E.getPriority()));const I=p.currentWriteId,L=tp(n),H=GE(S,E,L);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=H,p.currentWriteId=tb(n),f.splice(f.indexOf(I),1),l=l.concat(HE(n.serverSyncTree_,p.path,H,p.currentWriteId,p.applyLocally)),l=l.concat(ps(n.serverSyncTree_,I,!0))}else _=!0,y="nodata",l=l.concat(ps(n.serverSyncTree_,p.currentWriteId,!0))}ei(n.eventQueue_,i,l),l=[],_&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(y),!1,null))))}Hu(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Dr(r[h]);sp(n,n.transactionQueueTree_)}function ib(n,e){let i,r=n.transactionQueueTree_;for(i=de(e);i!==null&&Ir(r)===void 0;)r=Zh(r,i),e=Me(e),i=de(e);return r}function sb(n,e){const i=[];return rb(n,e,i),i.sort((r,l)=>r.order-l.order),i}function rb(n,e,i){const r=Ir(e);if(r)for(let l=0;l<r.length;l++)i.push(r[l]);ju(e,l=>{rb(n,l,i)})}function Hu(n,e){const i=Ir(e);if(i){let r=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[r]=i[l],r++);i.length=r,YE(e,i.length>0?i:void 0)}ju(e,r=>{Hu(n,r)})}function ab(n,e){const i=Sl(ib(n,e)),r=Zh(n.transactionQueueTree_,e);return eD(r,l=>{Rd(n,l)}),Rd(n,r),WE(r,l=>{Rd(n,l)}),i}function Rd(n,e){const i=Ir(e);if(i){const r=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(F(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(F(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(ps(n.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&r.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?YE(e,void 0):i.length=u+1,ei(n.eventQueue_,Sl(e),l);for(let f=0;f<r.length;f++)Dr(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n){let e="";const i=n.split("/");for(let r=0;r<i.length;r++)if(i[r].length>0){let l=i[r];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function CD(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const i of n.split("&")){if(i.length===0)continue;const r=i.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${i}' in query '${n}'`)}return e}const vv=function(n,e){const i=RD(n),r=i.namespace;i.domain==="firebase.com"&&Jn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&i.domain!=="localhost"&&Jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||zN();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new oE(i.host,i.secure,r,l,e,"",r!==i.subdomain),path:new xe(i.pathString)}},RD=function(n){let e="",i="",r="",l="",u="",f=!0,h="https",p=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let _=n.indexOf("/");_===-1&&(_=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(_,y)),_<y&&(l=wD(n.substring(_,y)));const E=CD(n.substring(Math.min(n.length,y)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const R=e.slice(0,m);if(R.toLowerCase()==="localhost")i="localhost";else if(R.split(".").length<=2)i=R;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),i=e.substring(S+1),u=r}"ns"in E&&(u=E.ns)}return{host:e,port:p,domain:i,subdomain:r,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,i,r,l){this.eventType=e,this.eventRegistration=i,this.snapshot=r,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class ND{constructor(e,i,r){this.eventRegistration=e,this.error=i,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,i,r,l){this._repo=e,this._path=i,this._queryParams=r,this._orderByCalled=l}get key(){return me(this._path)?null:_E(this._path)}get ref(){return new qi(this._repo,this._path)}get _queryIdentifier(){const e=iv(this._queryParams),i=Nh(e);return i==="{}"?"default":i}get _queryObject(){return iv(this._queryParams)}isEqual(e){if(e=xt(e),!(e instanceof rp))return!1;const i=this._repo===e._repo,r=Ih(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&r&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+bx(this._path)}}class qi extends rp{constructor(e,i){super(e,i,new Uh,!1)}get parent(){const e=vE(this._path);return e===null?null:new qi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Tu{constructor(e,i,r){this._node=e,this.ref=i,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new xe(e),r=Zd(this.ref,e);return new Tu(this._node.getChild(i),r,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,l)=>e(new Tu(l,Zd(this.ref,r),Ve)))}hasChild(e){const i=new xe(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wn(n,e){return n=xt(n),n._checkNotDeleted("ref"),e!==void 0?Zd(n._root,e):n._root}function Zd(n,e){return n=xt(n),de(n._path)===null?aD("child","path",e):$E("child","path",e),new qi(n._repo,Ze(n._path,e))}function ap(n){return ZE("remove",n._path),qu(n,null)}function qu(n,e){n=xt(n),ZE("set",n._path),rD("set",e,n._path);const i=new xu;return gD(n._repo,n._path,e,null,i.wrapCallback(()=>{})),i.promise}class lp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const r=i._queryParams.getIndex();return new AD("value",this,new Tu(e.snapshotNode,new qi(i._repo,i._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new ND(this,e,i):null}matches(e){return e instanceof lp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function OD(n,e,i,r,l){const u=new xD(i,void 0),f=new lp(u);return yD(n._repo,n,f),()=>vD(n._repo,n,f)}function op(n,e,i,r){return OD(n,"value",e)}DO(qi);PO(qi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="FIREBASE_DATABASE_EMULATOR_HOST",Jd={};let ID=!1;function MD(n,e,i,r){n.repoInfo_=new oE(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,i),r&&(n.authTokenProvider_=r)}function kD(n,e,i,r,l){let u=r||n.options.databaseURL;u===void 0&&(n.options.projectId||Jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ht("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f=vv(u,l),h=f.repoInfo,p;typeof process<"u"&&jy&&(p=jy[DD]),p?(u=`http://${p}?ns=${h.namespace}`,f=vv(u,l),h=f.repoInfo):f.repoInfo.secure;const m=new QN(n.name,n.options,e);lD("Invalid Firebase Database URL",f),me(f.path)||Jn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=UD(h,n,m,new WN(n,i));return new PD(_,n)}function LD(n,e){const i=Jd[e];(!i||i[n.key]!==n)&&Jn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),ED(n),delete i[n.key]}function UD(n,e,i,r){let l=Jd[e.name];l||(l={},Jd[e.name]=l);let u=l[n.toURLString()];return u&&Jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new dD(n,ID,i,r),l[n.toURLString()]=u,u}class PD{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qi(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Jn("Cannot call "+e+" on a deleted database.")}}function zD(n=u0(),e){const i=yh(n,"database").getImmediate({identifier:e});if(!i._instanceStarted){const r=HC("database");r&&jD(i,...r)}return i}function jD(n,e,i,r={}){n=xt(n),n._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&_s(r,u.repoInfo_.emulatorOptions))return;Jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&Jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Xo(Xo.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:qC(r.mockUserToken,n.app.options.projectId);f=new Xo(h)}MD(u,l,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n){IN(Nr),br(new ys("database",(e,{instanceIdentifier:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return kD(r,l,u,i)},"PUBLIC").setMultipleInstances(!0)),Ui(By,Hy,n),Ui(By,Hy,"esm2017")}Kn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Kn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};BD();const HD={apiKey:"AIzaSyBOtSmM02cVwW8BH29UqXeQP-GoFWvmNqo",authDomain:"summarywiki-32605.firebaseapp.com",databaseURL:"https://summarywiki-32605-default-rtdb.firebaseio.com",projectId:"summarywiki-32605",storageBucket:"summarywiki-32605.firebasestorage.app",messagingSenderId:"1009942867972",appId:"1:1009942867972:web:7493cedaef3851c71e0551",measurementId:"G-9SBCNB4RS5"},qD=o0(HD),Qn=zD(qD);function FD(n){const{resultAry:e}={...n},[i,r]=x.useState([]),[l,u]=x.useState(""),f=x.useRef(null),h=x.useContext(Lr),p=Wn(Qn,"users/"+(h==null?void 0:h.uid)+"/bookMark");x.useEffect(()=>{op(p,_=>{_.exists()&&r(Object.keys(_.val()))})},[h]);async function m(_,y,E){if(h!=null){if(i.includes(y))ap(Wn(Qn,"users/"+h.uid+"/bookMark/"+y));else{const R=new Date,S={id:_,title:y,year:R.getFullYear(),month:R.getMonth()+1,date:R.getDate(),extract:E};qu(Wn(Qn,"users/"+h.uid+"/bookMark/"+y),S)}u(y),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u("")},5e3)}}return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"",children:e.map(_=>_.extract&&T.jsxs("div",{className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow",children:[T.jsxs("div",{className:"flex justify-between mb-6",children:[T.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:T.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+_.title,className:"fadeIn",children:_.title})}),T.jsx("button",{onClick:()=>m(_.id,_.title,_.extract),className:h?"w-8 h-8 p-1 rounded-full":"hidden",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full "+(i.includes(_.title)?"fill-cyan-600":"fill-slate-300"),children:T.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),T.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:_.extract}})]},_.id))}),T.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l==""?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:T.jsxs("p",{className:l==""?"opacity-0":"",children:["",T.jsx("span",{children:l}),""]})})]})}function lb(n,e){return function(){return n.apply(e,arguments)}}const{toString:VD}=Object.prototype,{getPrototypeOf:up}=Object,Fu=(n=>e=>{const i=VD.call(e);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),on=n=>(n=n.toLowerCase(),e=>Fu(e)===n),Vu=n=>e=>typeof e===n,{isArray:Mr}=Array,ul=Vu("undefined");function GD(n){return n!==null&&!ul(n)&&n.constructor!==null&&!ul(n.constructor)&&Pt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ob=on("ArrayBuffer");function YD(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ob(n.buffer),e}const KD=Vu("string"),Pt=Vu("function"),ub=Vu("number"),Gu=n=>n!==null&&typeof n=="object",WD=n=>n===!0||n===!1,$o=n=>{if(Fu(n)!=="object")return!1;const e=up(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},QD=on("Date"),XD=on("File"),$D=on("Blob"),ZD=on("FileList"),JD=n=>Gu(n)&&Pt(n.pipe),eI=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Pt(n.append)&&((e=Fu(n))==="formdata"||e==="object"&&Pt(n.toString)&&n.toString()==="[object FormData]"))},tI=on("URLSearchParams"),[nI,iI,sI,rI]=["ReadableStream","Request","Response","Headers"].map(on),aI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tl(n,e,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let r,l;if(typeof n!="object"&&(n=[n]),Mr(n))for(r=0,l=n.length;r<l;r++)e.call(null,n[r],r,n);else{const u=i?Object.getOwnPropertyNames(n):Object.keys(n),f=u.length;let h;for(r=0;r<f;r++)h=u[r],e.call(null,n[h],h,n)}}function cb(n,e){e=e.toLowerCase();const i=Object.keys(n);let r=i.length,l;for(;r-- >0;)if(l=i[r],e===l.toLowerCase())return l;return null}const ms=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fb=n=>!ul(n)&&n!==ms;function eh(){const{caseless:n}=fb(this)&&this||{},e={},i=(r,l)=>{const u=n&&cb(e,l)||l;$o(e[u])&&$o(r)?e[u]=eh(e[u],r):$o(r)?e[u]=eh({},r):Mr(r)?e[u]=r.slice():e[u]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&Tl(arguments[r],i);return e}const lI=(n,e,i,{allOwnKeys:r}={})=>(Tl(e,(l,u)=>{i&&Pt(l)?n[u]=lb(l,i):n[u]=l},{allOwnKeys:r}),n),oI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),uI=(n,e,i,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),i&&Object.assign(n.prototype,i)},cI=(n,e,i,r)=>{let l,u,f;const h={};if(e=e||{},n==null)return e;do{for(l=Object.getOwnPropertyNames(n),u=l.length;u-- >0;)f=l[u],(!r||r(f,n,e))&&!h[f]&&(e[f]=n[f],h[f]=!0);n=i!==!1&&up(n)}while(n&&(!i||i(n,e))&&n!==Object.prototype);return e},fI=(n,e,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=e.length;const r=n.indexOf(e,i);return r!==-1&&r===i},dI=n=>{if(!n)return null;if(Mr(n))return n;let e=n.length;if(!ub(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=n[e];return i},hI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&up(Uint8Array)),pI=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=r.next())&&!l.done;){const u=l.value;e.call(n,u[0],u[1])}},mI=(n,e)=>{let i;const r=[];for(;(i=n.exec(e))!==null;)r.push(i);return r},gI=on("HTMLFormElement"),_I=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,l){return r.toUpperCase()+l}),Ev=(({hasOwnProperty:n})=>(e,i)=>n.call(e,i))(Object.prototype),yI=on("RegExp"),db=(n,e)=>{const i=Object.getOwnPropertyDescriptors(n),r={};Tl(i,(l,u)=>{let f;(f=e(l,u,n))!==!1&&(r[u]=f||l)}),Object.defineProperties(n,r)},vI=n=>{db(n,(e,i)=>{if(Pt(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=n[i];if(Pt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},EI=(n,e)=>{const i={},r=l=>{l.forEach(u=>{i[u]=!0})};return Mr(n)?r(n):r(String(n).split(e)),i},bI=()=>{},SI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function TI(n){return!!(n&&Pt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const wI=n=>{const e=new Array(10),i=(r,l)=>{if(Gu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[l]=r;const u=Mr(r)?[]:{};return Tl(r,(f,h)=>{const p=i(f,l+1);!ul(p)&&(u[h]=p)}),e[l]=void 0,u}}return r};return i(n,0)},CI=on("AsyncFunction"),RI=n=>n&&(Gu(n)||Pt(n))&&Pt(n.then)&&Pt(n.catch),hb=((n,e)=>n?setImmediate:e?((i,r)=>(ms.addEventListener("message",({source:l,data:u})=>{l===ms&&u===i&&r.length&&r.shift()()},!1),l=>{r.push(l),ms.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Pt(ms.postMessage)),AI=typeof queueMicrotask<"u"?queueMicrotask.bind(ms):typeof process<"u"&&process.nextTick||hb,k={isArray:Mr,isArrayBuffer:ob,isBuffer:GD,isFormData:eI,isArrayBufferView:YD,isString:KD,isNumber:ub,isBoolean:WD,isObject:Gu,isPlainObject:$o,isReadableStream:nI,isRequest:iI,isResponse:sI,isHeaders:rI,isUndefined:ul,isDate:QD,isFile:XD,isBlob:$D,isRegExp:yI,isFunction:Pt,isStream:JD,isURLSearchParams:tI,isTypedArray:hI,isFileList:ZD,forEach:Tl,merge:eh,extend:lI,trim:aI,stripBOM:oI,inherits:uI,toFlatObject:cI,kindOf:Fu,kindOfTest:on,endsWith:fI,toArray:dI,forEachEntry:pI,matchAll:mI,isHTMLForm:gI,hasOwnProperty:Ev,hasOwnProp:Ev,reduceDescriptors:db,freezeMethods:vI,toObjectSet:EI,toCamelCase:_I,noop:bI,toFiniteNumber:SI,findKey:cb,global:ms,isContextDefined:fb,isSpecCompliantForm:TI,toJSONObject:wI,isAsyncFn:CI,isThenable:RI,setImmediate:hb,asap:AI};function le(n,e,i,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}k.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const pb=le.prototype,mb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mb[n]={value:n}});Object.defineProperties(le,mb);Object.defineProperty(pb,"isAxiosError",{value:!0});le.from=(n,e,i,r,l,u)=>{const f=Object.create(pb);return k.toFlatObject(n,f,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),le.call(f,n.message,e,i,r,l),f.cause=n,f.name=n.name,u&&Object.assign(f,u),f};const NI=null;function th(n){return k.isPlainObject(n)||k.isArray(n)}function gb(n){return k.endsWith(n,"[]")?n.slice(0,-2):n}function bv(n,e,i){return n?n.concat(e).map(function(l,u){return l=gb(l),!i&&u?"["+l+"]":l}).join(i?".":""):e}function xI(n){return k.isArray(n)&&!n.some(th)}const OI=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function Yu(n,e,i){if(!k.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,i=k.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,I){return!k.isUndefined(I[D])});const r=i.metaTokens,l=i.visitor||_,u=i.dots,f=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(l))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(k.isDate(S))return S.toISOString();if(!p&&k.isBlob(S))throw new le("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(S)||k.isTypedArray(S)?p&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function _(S,D,I){let L=S;if(S&&!I&&typeof S=="object"){if(k.endsWith(D,"{}"))D=r?D:D.slice(0,-2),S=JSON.stringify(S);else if(k.isArray(S)&&xI(S)||(k.isFileList(S)||k.endsWith(D,"[]"))&&(L=k.toArray(S)))return D=gb(D),L.forEach(function(q,ie){!(k.isUndefined(q)||q===null)&&e.append(f===!0?bv([D],ie,u):f===null?D:D+"[]",m(q))}),!1}return th(S)?!0:(e.append(bv(I,D,u),m(S)),!1)}const y=[],E=Object.assign(OI,{defaultVisitor:_,convertValue:m,isVisitable:th});function R(S,D){if(!k.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(S),k.forEach(S,function(L,H){(!(k.isUndefined(L)||L===null)&&l.call(e,L,k.isString(H)?H.trim():H,D,E))===!0&&R(L,D?D.concat(H):[H])}),y.pop()}}if(!k.isObject(n))throw new TypeError("data must be an object");return R(n),e}function Sv(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function cp(n,e){this._pairs=[],n&&Yu(n,this,e)}const _b=cp.prototype;_b.append=function(e,i){this._pairs.push([e,i])};_b.toString=function(e){const i=e?function(r){return e.call(this,r,Sv)}:Sv;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function DI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yb(n,e,i){if(!e)return n;const r=i&&i.encode||DI;k.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let u;if(l?u=l(e,i):u=k.isURLSearchParams(e)?e.toString():new cp(e,i).toString(r),u){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class Tv{constructor(){this.handlers=[]}use(e,i,r){return this.handlers.push({fulfilled:e,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},II=typeof URLSearchParams<"u"?URLSearchParams:cp,MI=typeof FormData<"u"?FormData:null,kI=typeof Blob<"u"?Blob:null,LI={isBrowser:!0,classes:{URLSearchParams:II,FormData:MI,Blob:kI},protocols:["http","https","file","blob","url","data"]},fp=typeof window<"u"&&typeof document<"u",nh=typeof navigator=="object"&&navigator||void 0,UI=fp&&(!nh||["ReactNative","NativeScript","NS"].indexOf(nh.product)<0),PI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zI=fp&&window.location.href||"http://localhost",jI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fp,hasStandardBrowserEnv:UI,hasStandardBrowserWebWorkerEnv:PI,navigator:nh,origin:zI},Symbol.toStringTag,{value:"Module"})),pt={...jI,...LI};function BI(n,e){return Yu(n,new pt.classes.URLSearchParams,Object.assign({visitor:function(i,r,l,u){return pt.isNode&&k.isBuffer(i)?(this.append(r,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function HI(n){return k.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qI(n){const e={},i=Object.keys(n);let r;const l=i.length;let u;for(r=0;r<l;r++)u=i[r],e[u]=n[u];return e}function Eb(n){function e(i,r,l,u){let f=i[u++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),p=u>=i.length;return f=!f&&k.isArray(l)?l.length:f,p?(k.hasOwnProp(l,f)?l[f]=[l[f],r]:l[f]=r,!h):((!l[f]||!k.isObject(l[f]))&&(l[f]=[]),e(i,r,l[f],u)&&k.isArray(l[f])&&(l[f]=qI(l[f])),!h)}if(k.isFormData(n)&&k.isFunction(n.entries)){const i={};return k.forEachEntry(n,(r,l)=>{e(HI(r),l,i,0)}),i}return null}function FI(n,e,i){if(k.isString(n))try{return(e||JSON.parse)(n),k.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(n)}const wl={transitional:vb,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const r=i.getContentType()||"",l=r.indexOf("application/json")>-1,u=k.isObject(e);if(u&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return l?JSON.stringify(Eb(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return BI(e,this.formSerializer).toString();if((h=k.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Yu(h?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||l?(i.setContentType("application/json",!1),FI(e)):e}],transformResponse:[function(e){const i=this.transitional||wl.transitional,r=i&&i.forcedJSONParsing,l=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(r&&!this.responseType||l)){const f=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(e)}catch(h){if(f)throw h.name==="SyntaxError"?le.from(h,le.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pt.classes.FormData,Blob:pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],n=>{wl.headers[n]={}});const VI=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GI=n=>{const e={};let i,r,l;return n&&n.split(`
`).forEach(function(f){l=f.indexOf(":"),i=f.substring(0,l).trim().toLowerCase(),r=f.substring(l+1).trim(),!(!i||e[i]&&VI[i])&&(i==="set-cookie"?e[i]?e[i].push(r):e[i]=[r]:e[i]=e[i]?e[i]+", "+r:r)}),e},wv=Symbol("internals");function Ha(n){return n&&String(n).trim().toLowerCase()}function Zo(n){return n===!1||n==null?n:k.isArray(n)?n.map(Zo):String(n)}function YI(n){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(n);)e[r[1]]=r[2];return e}const KI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ad(n,e,i,r,l){if(k.isFunction(r))return r.call(this,e,i);if(l&&(e=i),!!k.isString(e)){if(k.isString(r))return e.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(e)}}function WI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,r)=>i.toUpperCase()+r)}function QI(n,e){const i=k.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+i,{value:function(l,u,f){return this[r].call(this,e,l,u,f)},configurable:!0})})}let At=class{constructor(e){e&&this.set(e)}set(e,i,r){const l=this;function u(h,p,m){const _=Ha(p);if(!_)throw new Error("header name must be a non-empty string");const y=k.findKey(l,_);(!y||l[y]===void 0||m===!0||m===void 0&&l[y]!==!1)&&(l[y||p]=Zo(h))}const f=(h,p)=>k.forEach(h,(m,_)=>u(m,_,p));if(k.isPlainObject(e)||e instanceof this.constructor)f(e,i);else if(k.isString(e)&&(e=e.trim())&&!KI(e))f(GI(e),i);else if(k.isHeaders(e))for(const[h,p]of e.entries())u(p,h,r);else e!=null&&u(i,e,r);return this}get(e,i){if(e=Ha(e),e){const r=k.findKey(this,e);if(r){const l=this[r];if(!i)return l;if(i===!0)return YI(l);if(k.isFunction(i))return i.call(this,l,r);if(k.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=Ha(e),e){const r=k.findKey(this,e);return!!(r&&this[r]!==void 0&&(!i||Ad(this,this[r],r,i)))}return!1}delete(e,i){const r=this;let l=!1;function u(f){if(f=Ha(f),f){const h=k.findKey(r,f);h&&(!i||Ad(r,r[h],h,i))&&(delete r[h],l=!0)}}return k.isArray(e)?e.forEach(u):u(e),l}clear(e){const i=Object.keys(this);let r=i.length,l=!1;for(;r--;){const u=i[r];(!e||Ad(this,this[u],u,e,!0))&&(delete this[u],l=!0)}return l}normalize(e){const i=this,r={};return k.forEach(this,(l,u)=>{const f=k.findKey(r,u);if(f){i[f]=Zo(l),delete i[u];return}const h=e?WI(u):String(u).trim();h!==u&&delete i[u],i[h]=Zo(l),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return k.forEach(this,(r,l)=>{r!=null&&r!==!1&&(i[l]=e&&k.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const r=new this(e);return i.forEach(l=>r.set(l)),r}static accessor(e){const r=(this[wv]=this[wv]={accessors:{}}).accessors,l=this.prototype;function u(f){const h=Ha(f);r[h]||(QI(l,f),r[h]=!0)}return k.isArray(e)?e.forEach(u):u(e),this}};At.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(At.prototype,({value:n},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[i]=r}}});k.freezeMethods(At);function Nd(n,e){const i=this||wl,r=e||i,l=At.from(r.headers);let u=r.data;return k.forEach(n,function(h){u=h.call(i,u,l.normalize(),e?e.status:void 0)}),l.normalize(),u}function bb(n){return!!(n&&n.__CANCEL__)}function kr(n,e,i){le.call(this,n??"canceled",le.ERR_CANCELED,e,i),this.name="CanceledError"}k.inherits(kr,le,{__CANCEL__:!0});function Sb(n,e,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?n(i):e(new le("Request failed with status code "+i.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function XI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function $I(n,e){n=n||10;const i=new Array(n),r=new Array(n);let l=0,u=0,f;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),_=r[u];f||(f=m),i[l]=p,r[l]=m;let y=u,E=0;for(;y!==l;)E+=i[y++],y=y%n;if(l=(l+1)%n,l===u&&(u=(u+1)%n),m-f<e)return;const R=_&&m-_;return R?Math.round(E*1e3/R):void 0}}function ZI(n,e){let i=0,r=1e3/e,l,u;const f=(m,_=Date.now())=>{i=_,l=null,u&&(clearTimeout(u),u=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),y=_-i;y>=r?f(m,_):(l=m,u||(u=setTimeout(()=>{u=null,f(l)},r-y)))},()=>l&&f(l)]}const wu=(n,e,i=3)=>{let r=0;const l=$I(50,250);return ZI(u=>{const f=u.loaded,h=u.lengthComputable?u.total:void 0,p=f-r,m=l(p),_=f<=h;r=f;const y={loaded:f,total:h,progress:h?f/h:void 0,bytes:p,rate:m||void 0,estimated:m&&h&&_?(h-f)/m:void 0,event:u,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(y)},i)},Cv=(n,e)=>{const i=n!=null;return[r=>e[0]({lengthComputable:i,total:n,loaded:r}),e[1]]},Rv=n=>(...e)=>k.asap(()=>n(...e)),JI=pt.hasStandardBrowserEnv?((n,e)=>i=>(i=new URL(i,pt.origin),n.protocol===i.protocol&&n.host===i.host&&(e||n.port===i.port)))(new URL(pt.origin),pt.navigator&&/(msie|trident)/i.test(pt.navigator.userAgent)):()=>!0,eM=pt.hasStandardBrowserEnv?{write(n,e,i,r,l,u){const f=[n+"="+encodeURIComponent(e)];k.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),k.isString(r)&&f.push("path="+r),k.isString(l)&&f.push("domain="+l),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tM(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nM(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Tb(n,e,i){let r=!tM(e);return n&&r||i==!1?nM(n,e):e}const Av=n=>n instanceof At?{...n}:n;function Cs(n,e){e=e||{};const i={};function r(m,_,y,E){return k.isPlainObject(m)&&k.isPlainObject(_)?k.merge.call({caseless:E},m,_):k.isPlainObject(_)?k.merge({},_):k.isArray(_)?_.slice():_}function l(m,_,y,E){if(k.isUndefined(_)){if(!k.isUndefined(m))return r(void 0,m,y,E)}else return r(m,_,y,E)}function u(m,_){if(!k.isUndefined(_))return r(void 0,_)}function f(m,_){if(k.isUndefined(_)){if(!k.isUndefined(m))return r(void 0,m)}else return r(void 0,_)}function h(m,_,y){if(y in e)return r(m,_);if(y in n)return r(void 0,m)}const p={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(m,_,y)=>l(Av(m),Av(_),y,!0)};return k.forEach(Object.keys(Object.assign({},n,e)),function(_){const y=p[_]||l,E=y(n[_],e[_],_);k.isUndefined(E)&&y!==h||(i[_]=E)}),i}const wb=n=>{const e=Cs({},n);let{data:i,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:u,headers:f,auth:h}=e;e.headers=f=At.from(f),e.url=yb(Tb(e.baseURL,e.url),n.params,n.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(k.isFormData(i)){if(pt.hasStandardBrowserEnv||pt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((p=f.getContentType())!==!1){const[m,..._]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];f.setContentType([m||"multipart/form-data",..._].join("; "))}}if(pt.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(e)),r||r!==!1&&JI(e.url))){const m=l&&u&&eM.read(u);m&&f.set(l,m)}return e},iM=typeof XMLHttpRequest<"u",sM=iM&&function(n){return new Promise(function(i,r){const l=wb(n);let u=l.data;const f=At.from(l.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:m}=l,_,y,E,R,S;function D(){R&&R(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(_),l.signal&&l.signal.removeEventListener("abort",_)}let I=new XMLHttpRequest;I.open(l.method.toUpperCase(),l.url,!0),I.timeout=l.timeout;function L(){if(!I)return;const q=At.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),K={data:!h||h==="text"||h==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:q,config:n,request:I};Sb(function(we){i(we),D()},function(we){r(we),D()},K),I=null}"onloadend"in I?I.onloadend=L:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(L)},I.onabort=function(){I&&(r(new le("Request aborted",le.ECONNABORTED,n,I)),I=null)},I.onerror=function(){r(new le("Network Error",le.ERR_NETWORK,n,I)),I=null},I.ontimeout=function(){let ie=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const K=l.transitional||vb;l.timeoutErrorMessage&&(ie=l.timeoutErrorMessage),r(new le(ie,K.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,n,I)),I=null},u===void 0&&f.setContentType(null),"setRequestHeader"in I&&k.forEach(f.toJSON(),function(ie,K){I.setRequestHeader(K,ie)}),k.isUndefined(l.withCredentials)||(I.withCredentials=!!l.withCredentials),h&&h!=="json"&&(I.responseType=l.responseType),m&&([E,S]=wu(m,!0),I.addEventListener("progress",E)),p&&I.upload&&([y,R]=wu(p),I.upload.addEventListener("progress",y),I.upload.addEventListener("loadend",R)),(l.cancelToken||l.signal)&&(_=q=>{I&&(r(!q||q.type?new kr(null,n,I):q),I.abort(),I=null)},l.cancelToken&&l.cancelToken.subscribe(_),l.signal&&(l.signal.aborted?_():l.signal.addEventListener("abort",_)));const H=XI(l.url);if(H&&pt.protocols.indexOf(H)===-1){r(new le("Unsupported protocol "+H+":",le.ERR_BAD_REQUEST,n));return}I.send(u||null)})},rM=(n,e)=>{const{length:i}=n=n?n.filter(Boolean):[];if(e||i){let r=new AbortController,l;const u=function(m){if(!l){l=!0,h();const _=m instanceof Error?m:this.reason;r.abort(_ instanceof le?_:new kr(_ instanceof Error?_.message:_))}};let f=e&&setTimeout(()=>{f=null,u(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const h=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(u):m.removeEventListener("abort",u)}),n=null)};n.forEach(m=>m.addEventListener("abort",u));const{signal:p}=r;return p.unsubscribe=()=>k.asap(h),p}},aM=function*(n,e){let i=n.byteLength;if(i<e){yield n;return}let r=0,l;for(;r<i;)l=r+e,yield n.slice(r,l),r=l},lM=async function*(n,e){for await(const i of oM(n))yield*aM(i,e)},oM=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:i,value:r}=await e.read();if(i)break;yield r}}finally{await e.cancel()}},Nv=(n,e,i,r)=>{const l=lM(n,e);let u=0,f,h=p=>{f||(f=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:m,value:_}=await l.next();if(m){h(),p.close();return}let y=_.byteLength;if(i){let E=u+=y;i(E)}p.enqueue(new Uint8Array(_))}catch(m){throw h(m),m}},cancel(p){return h(p),l.return()}},{highWaterMark:2})},Ku=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Cb=Ku&&typeof ReadableStream=="function",uM=Ku&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Rb=(n,...e)=>{try{return!!n(...e)}catch{return!1}},cM=Cb&&Rb(()=>{let n=!1;const e=new Request(pt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),xv=64*1024,ih=Cb&&Rb(()=>k.isReadableStream(new Response("").body)),Cu={stream:ih&&(n=>n.body)};Ku&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cu[e]&&(Cu[e]=k.isFunction(n[e])?i=>i[e]():(i,r)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,r)})})})(new Response);const fM=async n=>{if(n==null)return 0;if(k.isBlob(n))return n.size;if(k.isSpecCompliantForm(n))return(await new Request(pt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(k.isArrayBufferView(n)||k.isArrayBuffer(n))return n.byteLength;if(k.isURLSearchParams(n)&&(n=n+""),k.isString(n))return(await uM(n)).byteLength},dM=async(n,e)=>{const i=k.toFiniteNumber(n.getContentLength());return i??fM(e)},hM=Ku&&(async n=>{let{url:e,method:i,data:r,signal:l,cancelToken:u,timeout:f,onDownloadProgress:h,onUploadProgress:p,responseType:m,headers:_,withCredentials:y="same-origin",fetchOptions:E}=wb(n);m=m?(m+"").toLowerCase():"text";let R=rM([l,u&&u.toAbortSignal()],f),S;const D=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let I;try{if(p&&cM&&i!=="get"&&i!=="head"&&(I=await dM(_,r))!==0){let K=new Request(e,{method:"POST",body:r,duplex:"half"}),_e;if(k.isFormData(r)&&(_e=K.headers.get("content-type"))&&_.setContentType(_e),K.body){const[we,Pe]=Cv(I,wu(Rv(p)));r=Nv(K.body,xv,we,Pe)}}k.isString(y)||(y=y?"include":"omit");const L="credentials"in Request.prototype;S=new Request(e,{...E,signal:R,method:i.toUpperCase(),headers:_.normalize().toJSON(),body:r,duplex:"half",credentials:L?y:void 0});let H=await fetch(S);const q=ih&&(m==="stream"||m==="response");if(ih&&(h||q&&D)){const K={};["status","statusText","headers"].forEach(G=>{K[G]=H[G]});const _e=k.toFiniteNumber(H.headers.get("content-length")),[we,Pe]=h&&Cv(_e,wu(Rv(h),!0))||[];H=new Response(Nv(H.body,xv,we,()=>{Pe&&Pe(),D&&D()}),K)}m=m||"text";let ie=await Cu[k.findKey(Cu,m)||"text"](H,n);return!q&&D&&D(),await new Promise((K,_e)=>{Sb(K,_e,{data:ie,headers:At.from(H.headers),status:H.status,statusText:H.statusText,config:n,request:S})})}catch(L){throw D&&D(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,n,S),{cause:L.cause||L}):le.from(L,L&&L.code,n,S)}}),sh={http:NI,xhr:sM,fetch:hM};k.forEach(sh,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Ov=n=>`- ${n}`,pM=n=>k.isFunction(n)||n===null||n===!1,Ab={getAdapter:n=>{n=k.isArray(n)?n:[n];const{length:e}=n;let i,r;const l={};for(let u=0;u<e;u++){i=n[u];let f;if(r=i,!pM(i)&&(r=sh[(f=String(i)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${f}'`);if(r)break;l[f||"#"+u]=r}if(!r){const u=Object.entries(l).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=e?u.length>1?`since :
`+u.map(Ov).join(`
`):" "+Ov(u[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return r},adapters:sh};function xd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new kr(null,n)}function Dv(n){return xd(n),n.headers=At.from(n.headers),n.data=Nd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ab.getAdapter(n.adapter||wl.adapter)(n).then(function(r){return xd(n),r.data=Nd.call(n,n.transformResponse,r),r.headers=At.from(r.headers),r},function(r){return bb(r)||(xd(n),r&&r.response&&(r.response.data=Nd.call(n,n.transformResponse,r.response),r.response.headers=At.from(r.response.headers))),Promise.reject(r)})}const Nb="1.8.2",Wu={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Wu[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Iv={};Wu.transitional=function(e,i,r){function l(u,f){return"[Axios v"+Nb+"] Transitional option '"+u+"'"+f+(r?". "+r:"")}return(u,f,h)=>{if(e===!1)throw new le(l(f," has been removed"+(i?" in "+i:"")),le.ERR_DEPRECATED);return i&&!Iv[f]&&(Iv[f]=!0,console.warn(l(f," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(u,f,h):!0}};Wu.spelling=function(e){return(i,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function mM(n,e,i){if(typeof n!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let l=r.length;for(;l-- >0;){const u=r[l],f=e[u];if(f){const h=n[u],p=h===void 0||f(h,u,n);if(p!==!0)throw new le("option "+u+" must be "+p,le.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new le("Unknown option "+u,le.ERR_BAD_OPTION)}}const Jo={assertOptions:mM,validators:Wu},_n=Jo.validators;let gs=class{constructor(e){this.defaults=e,this.interceptors={request:new Tv,response:new Tv}}async request(e,i){try{return await this._request(e,i)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Cs(this.defaults,i);const{transitional:r,paramsSerializer:l,headers:u}=i;r!==void 0&&Jo.assertOptions(r,{silentJSONParsing:_n.transitional(_n.boolean),forcedJSONParsing:_n.transitional(_n.boolean),clarifyTimeoutError:_n.transitional(_n.boolean)},!1),l!=null&&(k.isFunction(l)?i.paramsSerializer={serialize:l}:Jo.assertOptions(l,{encode:_n.function,serialize:_n.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Jo.assertOptions(i,{baseUrl:_n.spelling("baseURL"),withXsrfToken:_n.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=u&&k.merge(u.common,u[i.method]);u&&k.forEach(["delete","get","head","post","put","patch","common"],S=>{delete u[S]}),i.headers=At.concat(f,u);const h=[];let p=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(i)===!1||(p=p&&D.synchronous,h.unshift(D.fulfilled,D.rejected))});const m=[];this.interceptors.response.forEach(function(D){m.push(D.fulfilled,D.rejected)});let _,y=0,E;if(!p){const S=[Dv.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),E=S.length,_=Promise.resolve(i);y<E;)_=_.then(S[y++],S[y++]);return _}E=h.length;let R=i;for(y=0;y<E;){const S=h[y++],D=h[y++];try{R=S(R)}catch(I){D.call(this,I);break}}try{_=Dv.call(this,R)}catch(S){return Promise.reject(S)}for(y=0,E=m.length;y<E;)_=_.then(m[y++],m[y++]);return _}getUri(e){e=Cs(this.defaults,e);const i=Tb(e.baseURL,e.url,e.allowAbsoluteUrls);return yb(i,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){gs.prototype[e]=function(i,r){return this.request(Cs(r||{},{method:e,url:i,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(e){function i(r){return function(u,f,h){return this.request(Cs(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}gs.prototype[e]=i(),gs.prototype[e+"Form"]=i(!0)});let gM=class xb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const r=this;this.promise.then(l=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](l);r._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(h=>{r.subscribe(h),u=h}).then(l);return f.cancel=function(){r.unsubscribe(u)},f},e(function(u,f,h){r.reason||(r.reason=new kr(u,f,h),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=r=>{e.abort(r)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new xb(function(l){e=l}),cancel:e}}};function _M(n){return function(i){return n.apply(null,i)}}function yM(n){return k.isObject(n)&&n.isAxiosError===!0}const rh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rh).forEach(([n,e])=>{rh[e]=n});function Ob(n){const e=new gs(n),i=lb(gs.prototype.request,e);return k.extend(i,gs.prototype,e,{allOwnKeys:!0}),k.extend(i,e,null,{allOwnKeys:!0}),i.create=function(l){return Ob(Cs(n,l))},i}const ke=Ob(wl);ke.Axios=gs;ke.CanceledError=kr;ke.CancelToken=gM;ke.isCancel=bb;ke.VERSION=Nb;ke.toFormData=Yu;ke.AxiosError=le;ke.Cancel=ke.CanceledError;ke.all=function(e){return Promise.all(e)};ke.spread=_M;ke.isAxiosError=yM;ke.mergeConfig=Cs;ke.AxiosHeaders=At;ke.formToJSON=n=>Eb(k.isHTMLForm(n)?new FormData(n):n);ke.getAdapter=Ab.getAdapter;ke.HttpStatusCode=rh;ke.default=ke;const{Axios:MM,AxiosError:kM,CanceledError:LM,isCancel:UM,CancelToken:PM,VERSION:zM,all:jM,Cancel:BM,isAxiosError:HM,spread:qM,toFormData:FM,AxiosHeaders:VM,HttpStatusCode:GM,formToJSON:YM,getAdapter:KM,mergeConfig:WM}=ke;async function Mv(n,e,i){const r=n.state?n.state.isRandom:!0,l=r?"https://ja.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=10&format=json&clcategories=nature":"https://ja.wikipedia.org/w/api.php?action=query&list=search&srnamespace=0&srlimit=10&sroffset="+e+"&srsearch="+n.state.searchStr+"&format=json&clcategories=nature";ke.get(l+"&origin=*").then(u=>{const f=r?u.data.query.random:u.data.query.search,h=[];for(let m of f)h.push(m.title);const p=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+h.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(m=>{const _=m.data.query.pages;Object.keys(_).forEach(y=>{p.push({id:y,title:_[y].title,extract:_[y].extract})}),i(p)})})}async function Db(n,e,i){const r="https://ja.wikipedia.org/w/api.php?action=query&list=search&srnamespace=0&srlimit=10&sroffset="+e+"&srsearch="+n+"&format=json&clcategories=nature";ke.get(r+"&origin=*").then(l=>{const u=l.data.query.search,f=[];for(let p of u)f.push(p.title);const h=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+f.join("|")+"&prop=extracts|categories&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(p=>{const m=p.data.query.pages;Object.keys(m).forEach(_=>{h.push({id:_,title:m[_].title,extract:m[_].extract})}),i(h)})})}async function vr(n){ke.get("https://ja.wikipedia.org/w/api.php?action=query&list=random&rnnamespace=0&rnlimit=10&format=json&clcategories=nature"+"&origin=*").then(i=>{const r=i.data.query.random,l=[];for(let f of r)l.push(f.title);const u=[];ke.get("https://ja.wikipedia.org/w/api.php?action=query&titles="+l.join("|")+"&prop=extracts&lllimit=500&exintro&uselang=ja&format=json&origin=*").then(f=>{const h=f.data.query.pages;Object.keys(h).forEach(p=>{u.push({id:p,title:h[p].title,extract:h[p].extract})}),n(u)})})}function vM(n){const{searchText:e,setSearchText:i,setSearchOffset:r,setResultAry:l}={...n},u=bn();x.useEffect(()=>{const _=u.state?u.state.searchStr:"";i(_)},[]);function f(_){i(_.target.value)}function h(_){_.key.toLowerCase()=="enter"&&m()}function p(){l([]),r(0),vr(l)}function m(){l([]),r(0),e.trim()==""?vr(l):Db(e,0,l)}return T.jsxs("div",{className:"relative w-full max-w-80 flex justify-start flex-wrap mx-auto mb-24",children:[T.jsx("input",{type:"text",value:e.toString(),onChange:_=>f(_),onKeyDown:_=>h(_),className:"px-2 mr-2 border-2 grow",placeholder:"Wikipedia"}),T.jsx("button",{onClick:m,className:"px-4 rounded bg-gradient-to-b active:bg-gradient-to-t from-blue-400 to-blue-500 font-bold text-white",children:""}),T.jsx("button",{onClick:()=>p(),className:"absolute -bottom-10 right-0 underline text-slate-700",children:""})]})}function EM(){const[n,e]=x.useState([]),[i,r]=x.useState([]),[l,u]=x.useState(""),[f,h]=x.useState(0),p=x.useRef(null),m=bn();x.useEffect(()=>{Mv(m,0,e),Mv(m,10,r),h(y=>y+10)},[]);function _(){if(e(i),p.current.scrollTo(0,0),l==""){vr(r);return}Db(l,f+10,r),h(y=>y+10)}return T.jsx("div",{ref:p,className:" h-dvh overflow-y-scroll",children:T.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[T.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),T.jsx(vM,{searchText:l,setSearchText:u,setSearchOffset:h,setResultAry:e}),n.length==0?T.jsxs("div",{className:"fixed w-fit h-fit inset-0 m-auto",children:[T.jsx("div",{className:"flex justify-center mb-4","aria-label":"",children:T.jsx("div",{className:"animate-ping h-4 w-4 bg-slate-600 rounded-full"})}),T.jsx("p",{className:" text-slate-800 animate-pulse",children:"..."})]}):T.jsxs("div",{className:"sectionFadeIn",children:[T.jsx(FD,{resultAry:n}),T.jsx("button",{onClick:_,className:"block ml-auto mr-0 px-2 py-1 bg-emerald-600 text-white font-bold rounded mb-10",children:"10"})]})]})})}function bM(){const[n,e]=x.useState(""),i=Au();function r(h){e(h.currentTarget.value)}function l(){i("search",{state:{searchStr:n,isRandom:n.trim().length==0}})}function u(){i("search",{state:{searchStr:"",isRandom:!0}})}function f(h){h.key.toLowerCase()=="enter"&&l()}return T.jsxs("div",{className:"sectionFadeIn relative w-full h-dvh bg-gradient-to-br from-slate-200 to-indigo-300",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-cover bg-[url('/bgTexture.png')] opacity-80"}),T.jsxs("div",{className:"absolute z-10 w-fit h-fit px-8 py-8 inset-0 m-auto bg-white/80 shadow",children:[T.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:"Summarized Wiki"}),T.jsx("p",{className:"text-sm font-bold mb-6 text-center",children:"-Wikipedia-"}),T.jsxs("div",{className:"w-fit mx-auto mb-4",children:[T.jsx("input",{type:"text",onChange:r,onKeyDown:f,className:"w-56 px-2 roounded bg-white border border-slate-600 mr-2",placeholder:"Wikipedia"}),T.jsx("button",{onClick:l,className:"px-4 rounded bg-gradient-to-b active:bg-gradient-to-t from-blue-400 to-blue-500 font-bold text-white",children:""})]}),T.jsx("button",{onClick:()=>u(),className:"block ml-auto mr-4 underline text-slate-700",children:""})]})]})}function SM(){const n=Au(),e=bn(),i=x.useContext(Lr),[r,l]=x.useState(""),u=x.useRef(null);function f(){n("search",{state:{searchStr:"",isRandom:!0}})}function h(){n("autoScroll")}function p(){i?n("bookMark"):(l(""),u.current!=null&&clearTimeout(u.current),u.current=setTimeout(()=>{l("")},5e3))}return T.jsxs(T.Fragment,{children:[T.jsx("footer",{className:"fixed bottom-0 w-full bg-slate-200",children:T.jsxs("menu",{className:"sectionWrapper flex justify-around flex-row py-3",children:[T.jsx("li",{children:T.jsxs("button",{onClick:f,className:"text-xs px-4 md:px-8",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/search"?"fill-slate-800":"fill-slate-400"),children:T.jsx("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})}),""]})}),T.jsx("li",{children:T.jsxs("button",{onClick:h,className:"text-xs px-4 md:px-8",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/autoScroll"?"fill-slate-800":"fill-slate-400"),children:T.jsx("path",{d:"M0 80l0 48c0 17.7 14.3 32 32 32l16 0 48 0 0-80c0-26.5-21.5-48-48-48S0 53.5 0 80zM112 32c10 13.4 16 30 16 48l0 304c0 35.3 28.7 64 64 64s64-28.7 64-64l0-5.3c0-32.4 26.3-58.7 58.7-58.7L480 320l0-192c0-53-43-96-96-96L112 32zM464 480c61.9 0 112-50.1 112-112c0-8.8-7.2-16-16-16l-245.3 0c-14.7 0-26.7 11.9-26.7 26.7l0 5.3c0 53-43 96-96 96l176 0 96 0z"})}),""]})}),T.jsx("li",{className:i?"":"opacity-50",children:T.jsxs("button",{onClick:p,className:"text-xs px-4 md:px-8",children:[T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-5 h-5 mx-auto "+(e.pathname=="/bookMark"?"fill-slate-800":"fill-slate-400"),children:T.jsx("path",{d:"M0 96C0 43 43 0 96 0l96 0 0 190.7c0 13.4 15.5 20.9 26 12.5L272 160l54 43.2c10.5 8.4 26 .9 26-12.5L352 0l32 0 32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32z"})}),""]})})]})}),T.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-yellow-50 border border-yellow-600 shadow rounded transition "+(r?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"),children:T.jsx("p",{className:r?"":"opacity-0",children:r})})]})}function TM(){const[n,e]=x.useState({}),[i,r]=x.useState(),l=Object.keys(n).sort((_,y)=>{const E=new Date(n[_].year,n[_].month,n[_].date),R=new Date(n[y].year,n[y].month,n[y].date);return E.getTime()-R.getTime()}),u=x.useRef(null),f=x.useContext(Lr),h=Wn(Qn,"users/"+(f==null?void 0:f.uid)+"/bookMark");x.useEffect(()=>{op(h,_=>{_.exists()&&e(_.val())})},[f]);function p(_){f!=null&&(ap(Wn(Qn,"users/"+f.uid+"/bookMark/"+_.title)),r(_),u.current!=null&&clearTimeout(u.current),u.current=setTimeout(()=>{r(_)},5e3))}function m(){f&&qu(Wn(Qn,"users/"+f.uid+"/bookMark/"+(i==null?void 0:i.title)),i),u.current!=null&&clearTimeout(u.current),r(null)}return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"pb-40",children:Object.keys(n).length>0?l.map((_,y)=>T.jsxs("div",{className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow",children:[T.jsxs("div",{className:"flex justify-between mb-2",children:[T.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:T.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+n[_].title,className:"fadeIn",children:n[_].title})}),T.jsx("button",{onClick:()=>p(n[_]),className:"w-8 h-8 p-1 rounded-full",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full fill-cyan-600",children:T.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),T.jsxs("p",{className:"text-slate-500 text-sm mb-6",children:[n[_].year,"/",n[_].month,"/",n[_].date,""]}),T.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:n[_].extract}})]},y)):f?T.jsx("p",{children:""}):T.jsx("p",{children:""})}),T.jsxs("div",{className:"fixed z-40 flex justify-between w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(i==null?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:[T.jsxs("p",{className:i==null?"opacity-0":"",children:["",T.jsx("span",{children:i==null?void 0:i.title}),""]}),T.jsx("button",{onClick:m,className:"inline-block px-1 underline text-cyan-600 font-bold",children:""})]})]})}function wM(){return T.jsx("div",{className:" h-dvh overflow-y-scroll",children:T.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[T.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),T.jsx(TM,{})]})})}function CM(){const[n,e]=x.useState(""),[i,r]=x.useState(""),[l,u]=x.useState(""),[f,h]=x.useState(!1),p=x.useRef(null);function m(D){e(D.currentTarget.value)}function _(D){r(D.currentTarget.value)}function y(D){u(D.currentTarget.value)}function E(D){D.key.toLocaleLowerCase()=="enter"&&R(D)}async function R(D){D.preventDefault(),i!=l&&alert("");const I=nl();try{await dA(I,n,i),h(!0),p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{h(!1)},5e3),S()}catch(L){alert(`
`+L)}}function S(){e(""),r(""),u(""),document.getElementById("signupDialog").close()}return T.jsxs(T.Fragment,{children:[T.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-fit bg-white px-8 py-6 rounded",id:"signupDialog",children:[T.jsx("h3",{className:"text-center text-slate-800 font-bold mb-8",children:""}),T.jsxs("div",{className:"grow mb-10",children:[T.jsx("h4",{className:"text-sm mb-1",children:""}),T.jsx("input",{type:"string",value:n,onChange:m,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1 mb-6"}),T.jsx("h4",{className:"text-sm mb-1",children:"(6)"}),T.jsx("input",{type:"password",value:i,onChange:_,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1 mb-3"}),T.jsx("h4",{className:"text-sm mb-1",children:""}),T.jsx("input",{type:"password",value:l,onChange:y,onKeyDown:E,className:"w-full border border-slate-800 rounded px-1"})]}),T.jsxs("div",{className:"flex justify-around",children:[T.jsx("button",{onClick:R,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:""}),T.jsx("button",{onClick:S,className:"w-24 py-1 font-bold",children:""})]})]}),T.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:T.jsx("p",{children:""})})]})}function RM(){const[n,e]=x.useState(""),[i,r]=x.useState(""),[l,u]=x.useState(!1),f=x.useRef(null);function h(E){e(E.currentTarget.value)}function p(E){r(E.currentTarget.value)}function m(E){E.key.toLocaleLowerCase()=="enter"&&_()}async function _(){const E=nl();try{await hA(E,n,i),setTimeout(()=>{const R=document.activeElement;R!=null&&R.blur()},10),u(!0),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u(!1)},5e3),y()}catch{alert("")}}function y(){e(""),r(""),document.getElementById("loginDialog").close()}return T.jsxs(T.Fragment,{children:[T.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-96 bg-white px-8 py-6 rounded",id:"loginDialog",children:[T.jsx("h3",{className:"text-center text-slate-800 font-bold mb-8",children:""}),T.jsxs("div",{className:"grow",children:[T.jsx("h4",{className:"text-sm mb-1",children:""}),T.jsx("input",{type:"string",value:n,onChange:h,onKeyDown:m,className:"w-full border border-slate-800 rounded px-1 mb-6"}),T.jsx("h4",{className:"text-sm mb-1",children:""}),T.jsx("input",{type:"password",value:i,onChange:p,onKeyDown:m,className:"w-full border border-slate-800 rounded px-1"})]}),T.jsxs("div",{className:"flex justify-around",children:[T.jsx("button",{onClick:_,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:""}),T.jsx("button",{onClick:y,className:"w-24 py-1 font-bold",children:""})]})]}),T.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto top-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:T.jsx("p",{children:""})})]})}function AM(){function n(i){i.preventDefault();const r=nl(),l=r.currentUser;l!=null&&l.email&&fA(r,l.email).then(()=>{alert(""+l.email+"")}).catch(()=>{alert("")}),e()}function e(){document.getElementById("settingPasswordDialog").close()}return T.jsx(T.Fragment,{children:T.jsxs("dialog",{className:"dialogElm flex flex-col m-auto w-80 h-fit bg-white px-8 py-6 rounded",id:"settingPasswordDialog",children:[T.jsx("h3",{className:"text-center text-slate-800 font-bold mb-6",children:""}),T.jsx("p",{className:"mb-8",children:""}),T.jsxs("div",{className:"flex justify-around",children:[T.jsx("button",{onClick:n,className:"w-24 py-1 font-bold rounded bg-cyan-600 text-cyan-50",children:"OK"}),T.jsx("button",{onClick:e,className:"w-24 py-1 font-bold",children:""})]})]})})}function NM(n){const{resultAry:e}={...n},[i,r]=x.useState([]),[l,u]=x.useState(""),f=x.useRef(null),h=x.useContext(Lr),p=Wn(Qn,"users/"+(h==null?void 0:h.uid)+"/bookMark");x.useEffect(()=>{op(p,_=>{_.exists()&&r(Object.keys(_.val()))})},[h]);async function m(_,y,E){if(h!=null){if(i.includes(y))ap(Wn(Qn,"users/"+h.uid+"/bookMark/"+y));else{const R=new Date,S={id:_,title:y,year:R.getFullYear(),month:R.getMonth()+1,date:R.getDate(),extract:E};qu(Wn(Qn,"users/"+h.uid+"/bookMark/"+y),S)}u(y),f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{u("")},5e3)}}return T.jsxs(T.Fragment,{children:[T.jsx("div",{children:e.map(_=>_.extract&&T.jsxs("div",{id:_.id.toString(),className:"w-full px-4 py-4 mb-10 rounded border border-slate-400 shadow scroll-m-20",children:[T.jsxs("div",{className:"flex justify-between mb-6",children:[T.jsx("h3",{className:"grow overflow-hidden text-nowrap text-ellipsis text-xl font-bold underline underline-offset-2 text-sky-600",children:T.jsx("a",{target:"_blank",rel:"noreferrer",href:"https://ja.wikipedia.org/wiki/"+_.title,className:"fadeIn",children:_.title})}),T.jsx("button",{onClick:()=>m(_.id,_.title,_.extract),className:h?"w-8 h-8 p-1 rounded-full":"hidden",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"10",width:"11.25",viewBox:"0 0 576 512",className:"w-full h-full "+(i.includes(_.title)?"fill-cyan-600":"fill-slate-300"),children:T.jsx("path",{d:"M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"})})})]}),T.jsx("div",{className:"w-full h-32 min-h-fit pb-8 text-wrap overflow-hidden text-ellipsis text-slate-800",dangerouslySetInnerHTML:{__html:_.extract}})]},_.id))}),T.jsx("div",{className:"fixed z-40 w-96 max-w-full inset-x-0 mx-auto bottom-20 px-4 py-2 bg-cyan-50 border border-cyan-600 shadow rounded transition "+(l==""?"opacity-0 translate-y-2 pointer-events-none":"opacity-100 translate-y-0"),children:T.jsxs("p",{className:l==""?"opacity-0":"",children:["",T.jsx("span",{children:l}),""]})})]})}function xM(){const[n,e]=x.useState([]),[i,r]=x.useState([]),l=[[1,100],[1,50],[1,20],[1,10],[2,10]],[u,f]=x.useState(1),h=x.useRef(null),p=x.useRef(null),[m,_]=x.useState(!1),[y,E]=x.useState(!1);x.useEffect(()=>{vr(e),vr(r)},[]),x.useEffect(()=>y?()=>clearInterval(p.current):(p.current=setInterval(()=>{var L;(L=h.current)==null||L.scrollBy({top:l[u][0],left:0,behavior:"instant"})},l[u][1]),()=>clearInterval(p.current)),[n,l[u][0],l[u][1],y]),x.useEffect(()=>{if(n.length>=100)return;function L(){if(h.current!=null&&h.current.scrollHeight-h.current.clientHeight-h.current.scrollTop<200){const H=n.slice();H.length>=30&&H.splice(0,10),e(H.concat(i)),vr(r)}}return h.current!=null&&h.current.addEventListener("scroll",L),()=>{var H;return(H=h.current)==null?void 0:H.removeEventListener("scroll",L)}},[n,i]);function R(L){f(L)}function S(){E(L=>!L)}function D(){_(!0)}function I(){_(!1)}return T.jsx("div",{ref:h,className:"h-dvh overflow-y-scroll",children:T.jsxs("div",{className:"sectionWrapper relative pt-24 pb-40",children:[T.jsx("h2",{className:"text-slate-800 font-bold text-lg mb-10",children:""}),n.length==0?T.jsxs("div",{className:"fixed w-fit h-fit inset-0 m-auto",children:[T.jsx("div",{className:"flex justify-center mb-4","aria-label":"",children:T.jsx("div",{className:"animate-ping h-4 w-4 bg-slate-600 rounded-full"})}),T.jsx("p",{className:" text-slate-800 animate-pulse",children:"..."})]}):T.jsxs("div",{className:"sectionFadeIn pb-40",children:[T.jsx(NM,{resultAry:n}),n.length>=100&&T.jsxs("p",{className:"",children:[" ",T.jsx("br",{})," "]})]}),T.jsxs("div",{className:"sectionWrapper fixed h-20 z-40 bottom-20 text-slate-800 ",children:[T.jsx("button",{onClick:D,"aria-label":"openControlPanel",className:"absolute bottom-6 right-8 w-10 h-10 p-1.5 bg-slate-50 hover:bg-slate-200 border border-slate-400 rounded-full transition duration-500 "+(m?"translate-y-1 opacity-0":"translate-y-0 opacity-100"),children:T.jsx("svg",{className:"w-full h-full fill-slate-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:T.jsx("path",{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"})})}),T.jsxs("div",{className:"relative w-52 h-fit ml-auto p-4 bg-slate-50 border border-slate-300 rounded transition duration-500 "+(m?"translate-y-0 opacity-100":"translate-y-1 opacity-0 pointer-events-none"),children:[T.jsx("p",{className:"text-sm mb-2",children:""}),T.jsxs("div",{className:"flex justify-between w-full mb-2 text-slate-600",children:[T.jsx("span",{className:"text-xs",children:""}),T.jsx("span",{className:"text-xs",children:""})]}),T.jsxs("div",{className:"flex justify-between mb-6",children:[T.jsx("button",{onClick:()=>R(0),className:"w-4 h-4 rounded-full ring-2 "+(u==0?"bg-emerald-500 ring-neutral-100":"bg-white ring-neutral-400")}),T.jsx("button",{onClick:()=>R(1),className:"w-4 h-4 rounded-full ring-2 "+(u==1?"bg-emerald-500 ring-neutral-100":"bg-white ring-neutral-400")}),T.jsx("button",{onClick:()=>R(2),className:"w-4 h-4 rounded-full ring-2 "+(u==2?"bg-emerald-500 ring-neutral-100":"bg-white ring-neutral-400")}),T.jsx("button",{onClick:()=>R(3),className:"w-4 h-4 rounded-full ring-2 "+(u==3?"bg-emerald-500 ring-neutral-100":"bg-white ring-neutral-400")}),T.jsx("button",{onClick:()=>R(4),className:"w-4 h-4 rounded-full ring-2 "+(u==4?"bg-emerald-500 ring-neutral-100":"bg-white ring-neutral-400")})]}),T.jsxs("button",{className:"flex justify-between w-full text-left text-sm mb-10",onClick:S,children:["",T.jsx("span",{className:"relative inline-block w-8 h-4 rounded-lg ml-4 transition-colors duration-500 "+(y?"bg-emerald-500":"bg-neutral-400"),children:T.jsx("span",{className:"absolute top-0 left-0 w-4 h-4 rounded-full bg-white border-2 border-slate-400 transition duration-500 "+(y?"translate-x-0":"translate-x-4")})})]}),T.jsx("button",{onClick:I,className:"absolute bottom-0 inset-x-0 w-full py-1.5 hover:bg-neutral-200",children:""})]})]})]})})}const Lr=x.createContext(null);function OM(){const[n,e]=x.useState(null);return T.jsx(T.Fragment,{children:T.jsxs(Lr.Provider,{value:n,children:[T.jsx(RM,{}),T.jsx(CM,{}),T.jsx(AM,{}),T.jsxs(SC,{children:[T.jsx(xN,{setUser:e}),T.jsxs(Jw,{children:[T.jsx(qa,{path:"/",element:T.jsx(bM,{})}),T.jsx(qa,{path:"/search",element:T.jsx(EM,{})}),T.jsx(qa,{path:"/autoScroll",element:T.jsx(xM,{})}),T.jsx(qa,{path:"/bookMark",element:T.jsx(wM,{})})]}),T.jsx(SM,{})]})]})})}uw.createRoot(document.getElementById("root")).render(T.jsx(x.StrictMode,{children:T.jsx(OM,{})}));
